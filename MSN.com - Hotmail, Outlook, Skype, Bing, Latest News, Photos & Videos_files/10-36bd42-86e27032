var Perf,globalLeft,deferredCanary,g_ashsC,g_hsSetup,canary;define("jqBehavior",["jquery","viewport"],function(n){return function(t,i,r){function u(n){var t=n.length;return t>1?function(){for(var i=0;i<t;i++)n[i]()}:t?n[0]:f}function f(){}if(typeof t!="function")throw"Behavior constructor must be a function";if(i&&typeof i!="object")throw"Defaults must be an object or null";if(r&&typeof r!="object")throw"Exclude must be an object or null";return r=r||{},function(f,e,o){function c(n){n&&(typeof n.setup=="function"&&l.push(n.setup),typeof n.teardown=="function"&&a.push(n.teardown),typeof n.update=="function"&&v.push(n.update))}var h;if(o&&typeof o!="object")throw"Options must be an object or null";var s=n.extend(!0,{},i,o),l=[],a=[],v=[],y=!0;if(r.query){if(typeof f!="string")throw"Selector must be a string";c(t(f,s))}else h=n(f,e),r.each?c(t(h,s)):(y=h.length>0,h.each(function(){var i=n(this);c(t(i,r.data?s:n.extend(!0,{},s,i.data?i.data():{})))}));return y?{setup:u(l),teardown:u(a),update:u(v)}:null}}});define("trackInfo.tokens",{spinTimeout:150,browserFilterTable:{webkit:"530.0.0",mozilla:"1.9.0"},logSamplingRate:"0"});define("adTelemetry",["window","pageTime","pageStart","logging","adCommon","requestAnimationFrame","trackInfo","pageInstance","headData","mediator"],function(n,t,i,r,u,f,e,o,s,h){function ft(n){c.elems&&c.elems.length===0||(n&&(c.repmech=n),d(c,!0))}function k(n,t,r){if(n&&t){var u={st:i,repmech:n,elems:[]};u.elems.push(t);d(u,!1,r)}}function et(){v=!1;c={elems:[],repmech:"",st:c.st};p();l=!1}function ot(n,t,i){var r,u;i=i||"adimpr_update";r=it(n,i);r.g=t?1:0;a.push(r);f(function(){g(a)});t&&(u={st:n.st,repmech:n.repmech,elems:[]},c=u)}function d(n,t,i){if(n){if(a.length>rt){r.error("adTelemetryMgr: exceeded max posting queue length.");return}if(t){if(l)return;l=!0}ot(n,t,i)}}function g(n){if(n.length!==0)for(var t;t=n.shift();)e.telemetryTracking.sendUpdate(t),t.global&&(l=!1)}function p(){v||(y.pageViewActivityId=o.getActivityId()||s.clientSettings.aid,v=!0)}function nt(n,t,i,r){return r=r||{},u.updateElementData(r,"ldmech",n),u.updateElementData(r,"id",t),u.updateElementData(r,"pg",i),r}function st(n,t,i,r,e){if(n&&n.telemetry){var o=n.telemetry;u.recordTiming(o,t,i,r);e&&f(function(){k("detcompl",o);n.telemetry=nt("visch",n.friendlyId,n.pg);c&&c.elems&&c.elems[n.idx]&&(c.elems[n.idx]=n.telemetry)},0)}}function ht(n,t){n&&t&&(u.updateElementData(n,"cid",t.CID),u.updateElementData(n,"asid",t.ASID))}function ct(n,t){var i=it(n,t);w?e.telemetryTracking.sendUpdate(i):b.push(i)}function tt(){w=!0;h.unsub("pageViewOnLoad",tt);g(b)}function it(n,t){return p(),{evt:t,rid:y.pageViewActivityId,di:e.sitePage.domainId,clid:e.client.clientId(),data:n}}var a=[],rt=7,l=!1,v=!1,w,b=[],ut=((n.performance||{}).timing||{}).responseStart||(n._timing||{}).start||+new Date,c={navst:i,rst:ut,repmech:"",elems:[]},y={pageViewActivityId:null};return h.sub("pageViewOnLoad",tt),{buildNewTelemetryObject:nt,pageStagingPayload:c,postTelemetryData:ft,postTelemetryDataForElement:k,sendOtfCall:ct,resetPageStagingTelemetryForRefresh:et,trackingData:y,updatePageViewActivityId:p,recordAdOperation:st,updateAdIdTelemetryData:ht}});define("adRefresh",["dap","mediator","adTelemetry","adCommon"],function(n,t,i,r){function s(n){var t=r.getCurrentTime()-n.st;return t>4e3||n.isRendered&&n.isLoaded&&t>2e3?!0:!1}function e(n,t){n.refreshEnabled=!0;i.pageStagingPayload&&i.pageStagingPayload.elems&&(n.telemetry=null,n.telemetry=i.buildNewTelemetryObject("refresh",n.friendlyId,n.pg),i.pageStagingPayload.elems.push(n.telemetry));n.isRendered&&n.detectionObject&&n.detectionObject.stopDetection();var r=n.elem.parentNode.parentNode,u=r.offsetHeight;u>=0&&(r.style.height=u+"px");i.trackingData&&i.trackingData.pageViewActivityId&&(n.params=n.params.replace(/PVGUID=[^&]*/,"PVGUID="+i.trackingData.pageViewActivityId),n.options=n.options||{},n.options.rid=i.trackingData.pageViewActivityId);t===!0&&n.refreshAd()}function l(r){var c,s,f,o,l,y,a,v;if(!r&&!u){for(u=!0,i.postTelemetryData("refresh"),i.resetPageStagingTelemetryForRefresh(),c=n.adPlacements,s={},l=0;o=c[l];l++)e(o,!1),o.adType===h?(f=s[o.htmlid],f||(f=[],s[o.htmlid]=f),f.push(o),c.splice(l--,1)):o.order=null;for(y in s)for(f=s[y],f.unshift(f.splice(-1,1)[0]),a=0;v=f[a];a++)v.order=a+10,c.push(v);t.pub("adrefresh");u=!1}}function a(t){var r,i,o;if(!f&&!u&&(f=!0,r=n.adPlacements,r&&r.length)){for(o=0;i=r[o];o++)if(t){if(i.htmlid===t){i.lastRefreshed=!0;e(i,!0);break}}else if(i.isRendered&&s(i)){i.lastRefreshed=!0;e(i,!0);break}else i.lastRefreshed=!1;setTimeout(function(){f=!1},r[0].rd)}}function v(t){var i,h,l,r;if(!f&&!u&&(u=!0,i=n.adPlacements,i&&i.length)){for(l=0;h=i[l];l++)if(s(h))try{e(h,!0)}catch(a){}r=typeof t=="number"?t*c+i[0].rd:i[0].rd;r=o>r?r:o;setTimeout(function(){u=!1},r)}}var h=3,f,u,c=400,o=5e3;return{refresh:l,refreshOneAd:a,refreshAllAds:v}});define("dapmgr",["atwUAC","adCommon"],function(n,t){function i(n,t){return(t.exec(n)||{})[1]||""}function d(n,t){var f=i(n,v),u=i(n,y),r;return u===""&&(u=f),t+=e(";kvmsft_make=",f),t+=e(";kvmsft_model=",u),t+=e(";kvmsft_category=",i(n,w)),t+=e(";kvmsft_new=",i(n,b)),r=i(n,p),r&&r!=="0"&&(t+=";kvmsft_year="+r),t}function e(n,t){return t?n+t:""}var o={},f=[],l,a,s,h=null,r=null,u,c="aol",v=/\bMAKE=([^&]*)/i,y=/\bMODEL=([^&]*)/i,p=/\bYEAR=([^&]*)/i,w=/\bCATEGORY=([^&]*)/i,b=/\bNEW=([^&]*)/i,k=/\bPROVIDERID=([^&]*)/i;return o.renderAd=function(f,e,o,c,v,y){l=y.options.prid||i(e,k);o=y.options.adsVNextWidth||o;c=y.options.adsVNextHeight||c;a=y.options.adContainerType;s||(s=t.getCountryCode());u||(u=t.getPageType());h===null&&(h=t.getOptOut());r===null&&(r=r||t.getMuid());var p="kvmsft_providerId="+l+";kvmsft_rid="+y.options.rid+";kvmsft_ext_inv_cd="+s+";kvmsft_optout="+h;r&&(p+=";kvmsft_muid="+r);u&&u!=="NA"&&(p+=";kvmsft_pagetype="+u);p=d(e,p);n.adSetOthAT(p+";","1");n.htmlAdWH(y.pg,o,c,a,f)},o.addEventListener=function(n,i){t.addEventListener(n,i,f)},n.adStarted=function(n,i,r,u){var e={divid:i,width:r,height:u,adNumber:n};t.callEventHandlers(t.eventTypes.BeforeAdRender,e,f,c)},n.adLoaded=function(n,i){t.callEventHandlers(t.eventTypes.AdRefreshed,i,f,c)},n.adError=function(n,i){t.callEventHandlers(t.eventTypes.ErrorOccurred,i,f,c)},o});define("adDetection",["document","pageTime","mediator","adCommon","perfPing","classList","dapmgr","adTelemetry","window"],function(n,t,i,r,u,f,e,o){function l(n){function v(){o.updatePageViewActivityId();n.telemetry=o.buildNewTelemetryObject("pgld",n.friendlyId,n.pg,n.telemetry);y()}function y(){if(!n.subscribed){var i=r.eventTypes;e.addEventListener(i.BeforeAdRender,function(n){u(n,"rad",!1,"1","ads log: "+t()+": Ad call completed.")});e.addEventListener(i.AdRefreshed,function(n){u(n,"adld",!1,"1","ads log: "+t()+": Ad creative loaded.",w,!0)});e.addEventListener(i.ErrorOccurred,function(n){u(n,"aderror",!1,"1","ads log: "+t()+": Ad creative error.",p,!0)});n.subscribed=!0}}function u(t,i,r,u,f,e,s){if(t&&n&&t.divid===n.htmlid){if(!s){o.recordAdOperation(n,i,r,u,s);return}n.alreadyCalled||(n.alreadyCalled=!0,typeof e=="function"&&e(t))}}function p(t){l(t);a(t,"aderror","error");typeof n.completionCb=="function"&&n.completionCb()}function w(t){n.height=t.height;n.width=t.width;l(t);k(t);a(t,"adld","successful");i.pub(c,n);typeof n.completionCb=="function"&&n.completionCb()}function b(){}function l(t){t=t||{};n.canDisplayAdChoices=t.width>2&&t.height>2;((n.elem.parentNode.querySelector(".adchoices,.adchoicesjs")||{}).style||{}).display=n.canDisplayAdChoices?"block":"none"}function k(t){n.elem.style.display="";n.elem.style.visibility="visible";var i=((n.elem||{}).parentNode||{}).parentNode;i&&(i.style.height="",t.width>2&&t.height>2?(f.remove(i,h),f.add(i,s)):(f.remove(i,s),f.add(i,h)))}function a(t,i,u){t=t||{};r.updateElementData(n.telemetry,"w",n.width);r.updateElementData(n.telemetry,"h",t.height);t.adId&&r.updateElementData(n.telemetry,"sdkadid",t.adId);t.seqId&&r.updateElementData(n.telemetry,"seqid",t.seqId);t.timeStamp&&r.updateElementData(n.telemetry,"timestamp",t.timeStamp);t.msnSdkName&&r.updateElementData(n.telemetry,"sdk",t.msnSdkName);o.recordAdOperation(n,i,!1,u,!0)}return{startDetection:v,stopDetection:b}}var c="adloaded",s="non-empty-ad",h="ad-1x1";return l});define("implicitPersonalizationTracker",["headData","getCookie","setCookie","classList","window","document","jquery","c.onload"],function(n,t,i,r,u,f,e){function ot(n){return it[n]||c}function y(n,t,i){n[t]||(n[t]={});var r=n[t];typeof r[i]=="number"?r[i]+=1:r[i]=1}function st(n){n&&(n._v=ct,i(p,JSON.stringify(n),180,i.topDomain,"/"))}function vt(n){(typeof n[g]!="number"||n[g]<w)&&delete n[lt]}function yt(n){var t=new Date;ht(n,t)&&(h(n[s],tt),h(n[k],tt),h(n[d],at))}function h(n,t){var i,r,u;if(n&&typeof t=="number")for(i in n)n.hasOwnProperty(i)&&(r=n[i],typeof r=="number")&&(u=Math.floor(r*t),u==0?delete n[i]:n[i]=u)}function ht(n,t){var i,r;return!n||!t?!1:(i=n[nt],i||(i=-1),r=Math.floor((t.getDate()+t.getMonth()*30)/7),i!=r)?(n[nt]=r,!0):!1}function pt(){var f=[c,it.homepage],r=c,u=0,t=o[s],n,i;if(t)for(n in t)i=t[n],t.hasOwnProperty(n)&&typeof i=="number"&&i>u&&f.indexOf(n)==-1&&(u=i,r=n);return r}function wt(){var i=0,n=o[s],t;if(n)for(t in n)n.hasOwnProperty(t)&&typeof n[t]=="number"&&(i+=n[t]);return i}var p="ipt",w=3,ct=w,b=e("body").hasClass("toolspage"),s="v",k="pt",lt="ct",d="bk",g="_v",c="U",nt="_t",tt=.85,at=.9,it={news:"A",weather:"B",entertainment:"C",movies:"C",games:"C",music:"C",tv:"C",sports:"D",finance:"E",lifestyle:"F",health:"G",foodanddrink:"H",travel:"I",autos:"J",video:"K",homepage:"L"},rt={ap:"a",gp:"b",vp:"c",sp:"d",hp:"e"},ut={v:{},pt:{},bk:{}},l="",o=ut,v;if(!b){if(n.clientSettings==null)return 1;var ft=ot(n.clientSettings.vk),et=n.clientSettings.cat,a="u";for(v in rt)if(r.contains(f.body,v)){a=rt[v];break}}if(l=t(p),l)try{o=JSON.parse(l)}catch(bt){}return!b&&o&&(vt(o),yt(o),y(o,s,ft),et&&y(o,d,et),y(o,k,a),st(o)),{getCookieFormat:ut,getIptCookie:o,getTopVerticalId:pt,getTotalVerticalViewCount:wt,getVerticalId:ot,pageType:a,saveIptCookie:st,values:o,verticalName:ft,shouldDecayCookie:ht,decayCounts:h}});define("afire",["image"],function(n){return function(t){if(t){var i=new n;i.onload=i.onerror=function(){i.onload=i.onerror=null};i.src=t.replace(/&amp;/gi,"&")}}});define("track.generic",["track","extend","trackInfo"],function(n,t,i){function r(n){this.defaultOpts=t(!0,{},u,n);this.samplingRate=this.defaultOpts.samplingRate}var u={base:"",samplingRate:100,eventAlias:{submit:"click",mouseenter:"click",mouseleave:"click",click_nonnav:"click",mouseenter_nav:"click",contextmenu:"click"}};return r.prototype={getEventTrackingUrl:function(t){var u=this.defaultOpts,r,f;return(t||(t=(i.event||{}).type),r=u[t],!r&&u.eventAlias&&(r=u[u.eventAlias[t]]),r)?(f=u.base+(r.url?r.url:""),n.generateUrl(f,u.common,u.commonMap,r.param,r.paramMap)):""},getPageViewTrackingUrl:function(){return this.getEventTrackingUrl("impr")}},r});define("visibility",["window","document"],function(n,t){function f(){function r(){if(t){for(var u=[],r=0,r=0;r<n.length;r++)try{n[r](i)}catch(f){u.push(f)}if(n=[],u.length)throw u;}}function u(){t=!0;i=arguments;r()}function f(){return{then:function(t){n.push(t);r()},always:function(){return this.then(arguments)}}}var n=[],t=!1,i=null;return{promise:f,resolve:u}}function s(){var r=["webkit","moz","ms","o"],n,i;if(typeof t.hidden!="undefined")return"hidden";for(n=0;n<r.length;n++)if(i=r[n]+"Hidden",i in t)return i}function u(){return i?t[i]:!1}function o(){u()?r=new f:r.resolve()}function h(i,r,f,e){var s,h,c;if(u()||!i)return!1;if(e=e||n.innerHeight,r=r||n.innerWidth,f||(f=0,s=t.getElementById("content"),s&&(h=s.getBoundingClientRect(),r=h.right,f=h.left)),c=!1,define.is("jquery")&&i instanceof jQuery){if(!i.length)return!1;i=i[0]}var o=i.getBoundingClientRect(),l=(o.top>=0||o.bottom>=0)&&(o.top<e||o.bottom<e),a=(o.left>=f||o.right>f)&&(o.left<r||o.right<=r);return c=o.height!==0||o.width!==0,c&&l&&a}function c(){return r.promise()}var r=new f,i=s(),e;return i&&(e=i.replace(/[H|h]idden/,"")+"visibilitychange",t.addEventListener(e,o)),o(),{isHidden:u,notifyWhenPageVisible:c,isElementTrulyVisible:h}});define("trackInfo",["trackInfo.tokens","dom","pageInstance","getCookie","screen","window","document","viewAware","deviceGroup","logging","visibility","extend"],function(n,t,i,r,u,f,e,o,s,h,c,l){function et(n,t){this.element=n;this.visible=t;this.visible&&(this.compress=function(){var n=this.element.getAttribute("data-m");try{return JSON.parse(n)}catch(t){return n}})}function it(){f.innerWidth?(w=f.innerWidth,b=f.innerHeight):(w=e.documentElement.clientWidth,b=e.documentElement.clientHeight)}function rt(n){if(n){var i=nt(n),r=d(i,"data-aop")||d(i,"data-region"),t;return(t=rt(i),t&&r)?[t,r].join(a.cmSeparator):r||t}}function ut(n){if(n){var r=nt(n),i=d(r,"data-region"),t;return(t=ut(r),t&&i)?[t,i].join(a.cmSeparator):i||t}}function ot(){return f.innerHeight||e.documentElement.clientHeight||e.body.clientHeight||0}function st(){return f.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop||0}function ht(){return Math.max(e.body.scrollHeight||0,e.documentElement.scrollHeight||0,e.body.offsetHeight||0,e.documentElement.offsetHeight||0,e.body.clientHeight||0,e.documentElement.clientHeight||0)}function ct(){var n={};return f&&f.adsEnabled!=null&&(n.adoni=+f.adsEnabled),n}function ft(n,t,i){return i?t?[t,i].join(n):i:t}var d=t.attr,nt=t.parent,y,tt,w,b,v,g={},k=[],p="",a={notrack:"notrack",cmSeparator:">",defaultModule:"body",defaultFormHeadline:"[form submit]",piitxt:"data-piitxt",piiurl:"piiurl",wrapperId:"wrapper",defaultConnectionType:"LAN",smpCookie:"Sample",smpExp:182,MUIDCookie:"MUID",spinTimeout:n.spinTimeout,trackTcm:"tcm",trackAop:"aop",curAop:"",trackRegion:"region",gestureKey:"touch_gesture",gestureType:{tap:"tap",rightclick:"rightclick"},curRegion:"",event:{},sitePage:{},userStatic:{},overrideClientParams:{},customTags:ct()||{},oobWaitTime:150,enableOOB:1,bwVerTable:n.browserFilterTable,trackingDisabled:!1,getCurrentTime:function(){return+new Date},timeToInteract:function(n){var t;return t=n?n:a.getCurrentTime(),t&&f.performance&&f.performance.timing&&f.performance.timing.navigationStart?t-f.performance.timing.navigationStart:void 0},telemetryModuleTypes:{Undefined:0,Header:1,Footer:2,topNavBar:3,navBar:4,dropDown:5,Section:6,Carousel:7,Module:8,searchBox:9,inputBox:10,actionButton:11,Interaction:12,Headline:13,Navigation:14,Entity:15,structuredData:16,appStore:17,appLaunch:18,cmsPromotions:19,microsoftWebStore:20,xboxStore:21,officeStore:22,appInstall:23},telemetryDataAttribute:"data-m",telemetryHLAttribute:"data-hl",client:{resetClientId:function(){y=r(a.MUIDCookie)||a.sitePage.requestId||""},clientId:function(){return y||y===""||(y=r(a.MUIDCookie)||a.sitePage.requestId||""),y},getMuid:function(){return r(a.MUIDCookie)},OTFTelemetry:function(n){require(["binding","c.deferred"],function(){var t,s,r,u,h,c,o,i;typeof n=="undefined"?n="load":n==null&&(n="");k=[];t=e.body.querySelectorAll("[data-m]");s=f.innerHeight;r=f.innerWidth;u=0;h=e.getElementById("content");h&&(c=h.getBoundingClientRect(),r=c.right,u=c.left);var l=e.body.querySelector(".ip")||e.body.querySelector(".mip")||e.body.querySelector(".sip"),y=l&&a.telemetryTracking.isVisible(l,r,u,s),v=[];for(o=0;o<t.length;o++)v.push(a.telemetryTracking.isVisible(t[o],r,u,s,y));for(i=0;i<t.length;i++)k.push(new et(t[i],v[i]));a.telemetryTracking.sendImprUpdateEvent(n,a.telemetryTracking.formatModules(),a)})},OTFSpecialSection:function(n){a.telemetryTracking.specialSection(n)},colorDepth:u.colorDepth,connectionType:function(){return a.defaultConnectionType},cookieSupport:function(){return e.cookie?"Y":"N"},height:function(){return b||it(),b},pageUrl:function(){return f.location.href},referrer:function(){return e.referrerOverride||e.referrer},screenResolution:function(){return[u.width,u.height].join("x")},width:function(){return w||it(),w},timezone:function(){var i=new Date,r=new Date,n,t;return r.setMonth(i.getMonth()+6),n=Math.round(i.getTimezoneOffset()/60)*-1,t=Math.round(r.getTimezoneOffset()/60)*-1,n<t?n:t},viewType:function(){return(s.isTmx||s.isMidlevel)&&!v&&o.listen(function(n){n&o.views.SIZE1COLUMN?v="size1column":n&o.views.SIZE2COLUMN?v="size2column":n&o.views.SIZE3COLUMN?v="size3column":n&o.views.SIZE4COLUMN&&(v="size4column")}),v},isIE:function(){return f.ActiveXObject?!0:!1},frameData:function(){if(f._pageTimings&&f._pageTimings.frameMarkerData)return f._pageTimings.frameMarkerData}},userDynamic:{anid:function(){return r("ANON")},isHomePage:function(){var n=e.documentElement,t=0;if(n.addBehavior&&(tt||n.addBehavior("#default#homePage"))){tt=1;try{t=n.isHomePage(f.location.href)?"Y":"N"}catch(i){}}return t},timeStamp:function(){return a.getCurrentTime()},AOP:function(){return a.curAop!=null&&a.curAop==""&&(a.curAop=rt(t.getTarget(a.event))||""),a.curAop},Region:function(){return a.curRegion!=null&&a.curRegion==""&&(a.curRegion=ut(t.getTarget(a.event))||""),a.curRegion},slideType:function(){for(var n=a.event.target,i="halfpane";n&&t.name(n)!="SECTION";){if(t.name(n)=="LI"&&t.containsClass(n,i))return i;n=t.parent(n)}return null},eventNumber:0},custom:{addCustomTags:function(){var n=a.customTags;return n=l({},a.customTags,g),g={},JSON.stringify(n)}},telemetryTracking:{setupParameters:function(n){var t=a.sitePage;return{evt:n,rid:i.getActivityId()||t.requestId,di:t.domainId,clid:a.client.clientId()}},sendImprUpdateEvent:function(n,t){var i=this.setupParameters("impr_update");i&&(i.mech=n,i.winht=ot(),i.docht=ht(),i.scrollOff=st(),f._pageTimings&&f._pageTimings.frameMarkerData&&(i.frameRateData=f._pageTimings.frameMarkerData),i.e1=t,i.tmpl=a.sitePage.templ,i.mkt=a.sitePage.localeCode,n==="scroll"&&(i.TTI=a.timeToInteract()),this.sendUpdate(i))},isVisible:function(n,t,i,r){return n?c.isElementTrulyVisible(n,t,i,r):!1},formatModules:function(){var t=[],i,n;for(i in k)n=k[i],n&&n.compress&&t.push(n.compress());return{e:t}},specialSection:function(n){var t=this.setupParameters("section");t&&(t.sn=n,a.telemetryTracking.sendUpdate(t))},sendUpdate:function(n){var i,t;if(!a.trackingDisabled&&n){if(!p&&(p=(a.sitePage||{}).otfURL,!p)){h.error("[telemetryTracking.sendUpdate] BaseUrl was empty or undefined in sitePage.");return}if(JSON&&JSON.stringify){try{i=JSON.stringify([n])}catch(r){h.error("[telemetryTracking.sendUpdate] Error in using JSON.stringify.",r);return}if(i&&i!="[{}]")try{if(a.testHook){a.testHook();return}t=new XMLHttpRequest;t.open("POST",p,!0);t.setRequestHeader("Content-type","application/json; charset=utf-8");t.onreadystatechange=function(){};t.send(i)}catch(r){h.error("[telemetryTracking.sendUpdate] Error in generating the XDomainRequest or XMLHttpRequest","BaseUrl = "+p,r);return}}}}},updateTemplValue:function(n){a.updateSitePage(n)},updateSitePage:function(n,t,i){var r=a.sitePage,u;r||(r=a.sitePage={});u=r.flightId;t&&(!u||u.indexOf(t)<0)&&(r.flightId=ft(",",u,t));r.templ=ft(";",r.templ,n);i&&(r.requestId=i)},trackCustomProperty:function(n,t){n&&t!=undefined&&(n=n.toLowerCase(),g[n]=t)}};return a});define("c.track.mobi",["track","trackInfo","pageInstance","screen","navigator","dom","events","document","window"],function(n,t,i,r,u,f,e,o,s){function y(n){var i=l.exec(n),t=i[i.length-1].split("."),r=t.length;return r>1&&(t=t.slice(r-2)),t.join(".")}function p(i,r,u,f,e,o,s,h){if(i){i[t.gestureKey]=r;u=u&&u.length>0?u:a;var c=n.createEvent(null,u,i);n.trackEvent(c,i,f,e,o,s,h)}}var a="click_nonnav",h=!1,c=0,v=1e3,l;return n.extend({client:{scrW:function(){return r.width},scrH:function(){return r.height},orientation:function(){return r.width>r.height?"landscape":"portrait"},userAgent:function(){return u.userAgent},hourOfDay:function(){return(new Date).getUTCHours()},linkDomain:function(){var n=t.report?t.report.destinationUrl:null;return n&&n.length?y(n):null},pageTitle:function(){return o.title},gesture:function(){var n=f.getTarget(t.event);if(n&&n[t.gestureKey])return n[t.gestureKey];if(t.event){if(t.event.originalEvent&&t.event.originalEvent=="contextmenu"||t.event.ctrlKey||t.event.shiftKey)return t.gestureType.rightclick;if((t.event.type=="click"||t.event.type=="click_nonnav"||t.event.type=="submit")&&h==!0&&t.sitePage.device)return t.gestureType.tap}return""}},userDynamic:{requestId:function(){var n=i.getActivityId()||t.sitePage.requestId;return n?n:s.console&&console.error("No requestID passed in from the server or generated via guidGen.js, please check the trackInfo.sitePage.requestId or pageInstance.js")}}}),l=/^(\w+:\/\/)?([^:\/]*)/,u.pointerEnabled||u.msPointerEnabled?e.bind(o,u.pointerEnabled?"pointerup":"MSPointerUp",function(n){h=n.pointerType==n.MSPOINTER_TYPE_TOUCH||n.pointerType=="touch"?!0:!1}):(e.bind(o,"mouseup",function(){var n=(new Date).getTime();n>c+v&&(h=!1)}),e.bind(o,"touchend",function(){h=!0;c=(new Date).getTime()})),n.trackGesture=p,1});define("track",["trackInfo","extend","dom","getCookie","setCookie","events","window","document","mediator","navigation","headData","pageInstance","evaluate","escape","trackingHelper","trackInfo.tokens","webStorage","afire"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function et(t){var r,c,u,i,o,s,f;for(pt(),ht.incrementEventNumber(),c=h.getParamsFromUrl(e.location.href),u=0;u<g.length;u++){if(r=g[u],i=r.defaultOpts,i.disableOnAutoRefresh){for(o=i.disableOnAutoRefresh.split(";"),s=!1,f=0;f<o.length;f++)if(o[f]==i.id){s=!0;break}if(s&&c.AR){i.isGeneratedEarly=!1;continue}}i.isGeneratedEarly?i.isGeneratedEarly=!1:r&&r.samplingRate>=d&&ot(r[t]())}n.curAop="";n.curRegion=""}function ot(t){!n.trackingDisabled&&t&&b(t)}function pt(){if(-1==d){var t=n.smpCookie;d=parseInt(r(t));d=isNaN(d)?Math.floor(Math.random()*100):d%100;u(t,d,182,u.topDomain,"/")}return d}function st(n,t,i){var u=ut(n)||[],r=0,f;for(t=t||"alt";r<u.length;r++)if(f=k(u[r],t)||st(u[r],t,i),f&&!(i==u[r].localName))return f}function wt(t){if(t){var u=it(t),i=k(u,"id"),r;return n.wrapperId==i?void 0:(r=wt(u),r&&i)?[r,i].join(n.cmSeparator):i||r}}function bt(n){if(n){var u=it(n),i,t=0,r=0;if(!k(u,"id"))if(t=bt(u),t)t--;else return 0;for(i=ut(u)||[];r<i.length;r++){if(i[r]==n){t++;break}t+=kt(i[r])}return t}}function kt(t){var i=0,r=0,u;if(t&&!k(t,"id"))for(u=ut(t)||[],k(t,"href")&&!k(t,n.notrack)&&i++;r<u.length;r++)i+=kt(u[r]);return i}function dt(n,t,i){var u,r,e,f;if(i&&n&&t){if(n.tagName==t)return n;for(u=ut(n)||[],r=0,e=u.length;r<e;r++){if(u[r].tagName==t)return u[r];if(f=dt(u[r],t,i-1),f)return f}}return null}function fi(n){if(n)for(var t,i=0;i<g.length;i++)if(t=g[i],t.defaultOpts.id===n){ot(t["getPageViewTrackingUrl"]());break}}function ei(){var n=e.location.protocol+"//"+e.location.host+"/pv.xml";ot(n)}function oi(n){if(n){var t=n.errId,i=w.getItem(t,!0),r=(new Date).getTime();i&&r-i<=ui||(si(n),et("getEventTrackingUrl"),w.setItem(t,r,!0))}}function si(t){n.event={type:"app_error"};n.report={errId:t.errId,errMsg:t.errMsg,errSource:t.errSource}}function tt(t,r,u,f,e,o,s){var h,a,v,w,y,p,l;if(!r&&t&&(r=t.target),r&&!k(r,n.notrack)){r.jquery&&(r=r[0]);t=t||{};t.target=r;n.event=t;h=r.href||k(r,"href");h=="#"&&(h=r.href);u=u||k(r,n.piiurl)||h||k(r,"action")||"";a=k(r,"data-hl")||"";f||a||(v=dt(r,"H4",2),v&&(f=i.text(v)));f=f||a||k(r,n.piitxt)||("FORM"==lt(r)?n.defaultFormHeadline:k(r,"title")||st(r,"title","img")||i.text(r)||k(r,"alt")||st(r,"alt")||"");f.trim!=undefined&&(f=f.trim());e=e||wt(r)||n.defaultModule;o=o||(k(r,"id")?1:bt(r));w=r.className||k(r,"class");s=s||(/GT1-(\d+)\b/i.exec(w)?RegExp.$1:"")||(/[?&]GT1=(\d+)\b/i.exec(h)?RegExp.$1:"");var c="",b="",d="",g=n.cmSeparator,nt;t&&(t.type=="click"||t.type==rt||t.type=="submit"||t.type=="contextmenu"||t.type=="mouseenter")&&(y="data-m",c=k(r,y),c||(p=it(r),c=p?k(p,y):""),l=wi(r),l&&(b=l.nameLineage.reverse().join(g),d=l.ordinalLineage.reverse().join(g)),nt=t.time);n.report={destinationUrl:u,headline:f,contentModule:e,contentElement:o,campaignId:s,module:c,sourceIndex:r.sourceIndex||"",nodeName:r.nodeName||"",nLineage:b,oLineage:d,timeToInteract:n.timeToInteract(nt)};et("getEventTrackingUrl",t?!t.noSpin:1)}}function hi(n){var i=[],r,t;if(n&&n.querySelectorAll)for(r=n.querySelectorAll("[data-m]"),k(n,"data-m")&&i.push(n),t=0;t<r.length;t++)i.push(r[t]);return i}function gt(n,t){var i=k(n,t);if(i)try{return a(i)}catch(r){return null}return null}function ci(n,t){if(t.indexOf)return t.indexOf(n)!==-1;for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}function li(t,i){var o,r,u,s,f,e;if(t){for(t.jquery&&(t=t[0]),o=hi(t),r=[],u=0;u<o.length;u++)(s=o[u],!i||n.telemetryTracking.isVisible(s))&&(f=gt(s,"data-m"),e=f?f.i:undefined,e===undefined||ci(e,ft)||(ft.push(e),r.push(f)));r.length&&n.telemetryTracking.sendImprUpdateEvent("load",{e:r})}}function ai(){ft=[]}function vi(n){var t=new RegExp(ri).exec(n);return t&&t.length&&t[1]||null}function yi(n){var i=null,r,t;return n&&(n.indexOf(yt)==-1?(r=n.substring(0,n.indexOf("#")).toLowerCase(),t=e.location.href.toLowerCase(),(t==r||t.substring(0,t.indexOf("#"))==r)&&(i=rt)):i=vi(n)),i}function ct(n,t,i){var r=null;return nt.createEvent?(r=nt.createEvent("Events"),r.initEvent(t,!1,!0,i||e,0,0,0,0,0,!1,!1,!1,!1,0,null)):nt.createEventObject&&(r=nt.createEventObject(n),r.type=t),r&&(r.customTarget=i,r.originalEvent=n&&n.type),r}function pi(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function ni(n){ii(n)}function ti(n){2!=n.button&&ii(n)}function wi(n){for(var i={},r=[],u=[],t;n;)t=gt(n,"data-m"),t&&(t.n&&r.push(t.n),t.o&&u.push(t.o)),n=it(n);return i.nameLineage=r,i.ordinalLineage=u,i}function ii(t){var r,f,u,e;try{t.time=n.getCurrentTime();t.customTarget&&t.customTarget.useMap&&(t.customTarget=t.customTarget.document.activeElement,t.target=t.customTarget)}catch(o){}for(r=i.getTarget(t);r&&!k(r,"href")&&r.nodeName!="BUTTON"&&r.nodeName!="MENUITEM";)r=it(r);if(r&&!r.form)if(f=t,t.type=="contextmenu"&&(f=ct(t,"click",r)),u=r.href,u&&u.length){if(u.indexOf("#")==u.length-1||u.indexOf(yt)>=0)if(t.type=="click")e=yi(u),e&&(f=ct(t,rt,r));else if(t.type=="contextmenu")return;f.type==rt&&pi(t);y.addOcidToHref(u,r,f);f.isPropagationStopped||tt(f,r)}else t.type!="contextmenu"&&tt({type:rt,target:r})}var k=i.attr,lt=i.name,it=i.parent,ut=i.children,g=[],d=-1,at,vt=e,nt=o,yt="tevt=",rt="click_nonnav",ri=/#tevt=([A-Za-z0-9]+_[A-Za-z0-9]+)(;*)/g,ft=[],ui=p.logSamplingRate||3e5,ht={onContextMenu:ni,onClick:ti,trackEvent:tt,trackAppErrorEvent:oi,createEvent:ct,sendPageViewCandidate:ei,sendSinglePageViewBeacon:fi,trackPartialImpression:li,clearImpressionCache:ai,trackPage:function(t){if(delete n.event,delete n.userStatic.requestId,delete n.overrideClientParams,n.overrideClientParams=t,c&&c.clientSettings&&c.clientSettings.static_page){var i=n.sitePage.requestId=l.getActivityId();n.sitePage.isStaticPage="True";require(["c.deferred"],function(){var r=o.body.querySelector("#maincontent"),t,u,n;if(r)for(t=r.querySelectorAll("a[href*='www.bing.com']"),u=t.length,n=0;n<u;n++)t[n].href=h.mergeQueryStringParams(t[n].href,{refig:i})})}et("getPageViewTrackingUrl");at?s.pub("pageView"):(at=1,s.pub("pageViewOnLoad"));delete n.overrideClientParams},trackThirdPartyUpdate:function(){s.pub("thirdPartyTrackingUpdate")},register:function(){for(var t=0,n;n=arguments[t++];)isNaN(n.samplingRate)&&(n.samplingRate=99),g.push(n)},incrementEventNumber:function(){n.userDynamic.eventNumber++},isSampled:function(n){return!(pt()>n)},generateUrl:function(i,r,u,f,e){var h,c,o,s,l=[];f=t({},r,f);e=t(!0,{},u,e);for(h in e)if(n[h]){c=e[h];for(o in c)o&&n.overrideClientParams&&n.overrideClientParams[o]!==undefined?s=n.overrideClientParams[o]:(s=n[h][c[o]],typeof s=="function"&&(s=s())),s!=null&&(f[o]=s)}for(o in f)l.push(v.urlPart(o)+"="+v.urlPart(f[o]));return i+l.join("&").replace(/%20/g,"+")},extend:function(i){t(!0,n,i)},form:function(n){n&&n.length||(n=[n]);for(var t,i=0;t=n[i++];)"FORM"!=lt(t)||k(t,"data-customformtrack")||f.bind(t,"submit",tt)},preventBeacon:function(n){var t,i;if(n)for(n=n.toLowerCase(),t=0;t<g.length;t++)if(i=g[t].defaultOpts,n===i.id.toLowerCase()){i.isGeneratedEarly=!0;break}}};return f.bind(nt,"click",ti),f.bind(vt,"load",tt),f.bind(vt,"unload",tt),f.bind(nt,"contextmenu",ni),require(["c.dom"],function(){ht.form(i.getElementsByTagName("form"))}),s.sub("ViewabilityUpdatedEvent",n.client.OTFTelemetry),ht});define("elementTrackingDecorator",["trackingConstants","jquery","evaluate","track","window","extend"],function(n,t,i,r,u,f){function v(){n&&n.trackingData&&y(n.trackingData.lastIndex)&&n.trackingData.lastIndex>1?e=n.trackingData.lastIndex:u&&u.console&&u.console.error("Tracking constants were not supplied in DOM.",n)}function w(n){return n&&n.length!==0}function b(n,t){var i=n.closest(o),r=i.length>0?i.eq(0):null,u;r&&n.attr(s)&&(r=i.length>1?i.eq(1):n.parent(o));t&&!r&&(i=t.closest(o),r=i.length>0?i.eq(0):null);r&&(u=r.attr(s),u&&y(u)&&(this.p=u))}function k(n,i){n.find(o).each(function(r,u){var e=t(u),f;e.parent(o)[0]==n[0]&&(f=h(e),f&&f.p!=i.i&&(f.p=i.i,c.call(e,f)))})}function h(n){var t=n.attr(a);if(t)try{return i(t)}catch(r){return null}return{}}function c(n){n.i&&(this.attr(a,JSON.stringify(n)),this.attr(s,n.i))}function d(n){return this&&(!this.i||n==!0)&&e?(e++,this.i=e,!0):!1}function g(n){var t=n.parent().children();t.length>1?nt.call(t,this,n):this.o=1}function nt(n,i){var r=0;this.each(function(u,e){if(r++,e===i[0])n.o=r;else{var o=t(e),s=f(h(o),{o:r});c.call(o,s)}})}function y(n){return!isNaN(parseFloat(n))&&isFinite(n)}function p(n){var t=n?n.defaults:null;return f({},{n:"client",y:12},t||{})}function l(n,i,r,u,e){var o=t(n),l=h(o),s=f({},r,l),a=d.call(s,e);e||g.call(s,o);b.call(s,o,i);u&&u(o,s);c.call(o,s);a&&k(o,s)}var e=0,a="data-m",s="data-id",o="["+s+"]";return{setTrackingForSingleElement:function(i,u,f,o){v();var s=p(f);return l(i,t(u),s,f&&f.elementOverride,f&&f.overrideIndexOnly),n.trackingData.lastIndex=e,o||r.trackPartialImpression(i,!0),i},setTrackingAttrs:function(i,u,f,o){var k;if(v(),i&&i.find){var s=f&&f.selector||"li",h=i.find(s),c=p(f),a=f?f.elementOverride:null,y=u&&!u.jquery?t(u):u,b=f?f.overrideIndexOnly:!1;i.each(function(n,i){t(i).is(s)&&l(i,y,c,a,b)});w(h)&&(k=t(h),k.each(function(n,t){l(t,y,c,a,b)}))}return n.trackingData.lastIndex=e,o||r.trackPartialImpression(i,!0),i}}});define("trackingHelper",["trackInfo","navigation","pageInstance","location","evaluate","ajax","getCookie","setCookie","trackingHelper.tokens","format","window"],function(n,t,i,r,u,f,e,o,s,h,c){function ht(t,i,r){var e,h,u;if(t&&i){nt||(nt=n.sitePage.msnocid);l||(l=n.sitePage.storeocid);var c=t.indexOf("://"),a=t.indexOf(ft),v=c>0&&a>=0&&a<c,y=t.match(g),o=t.match(p),s=y&&y[1],k=o&&o[1];if(s&&k){var f=t,w=t.match(/[&?]ocid=(ems\.)/i),b=w&&w[1];b&&!f.match(/[=_]emsadid\./i)&&(f=d(f.replace(p,""),o[1]));v&&ut(f,r,i);return}(e=t.indexOf("#"),h="",s||l)&&v&&(e>=0&&(h=t.substring(e,t.length),t=t.substring(0,e)),u=t,s||(u+="&ocid="+l),u=d(u,b),i.href=u+h,ut(u,r,i))}}function d(t,r){var c=t.match(p),a=c&&c[1],e=t.indexOf("#"),l="",f,u,o,s,h;return a?t:(e>=0&&(l=t.substring(e,t.length),t=t.substring(0,e)),f=t,f+="&ccid=",u=[],r&&u.push("emsadid."+r),o=i.getActivityId()||n.sitePage.requestId,o&&u.push("webig."+o),s=n.client.clientId(),s&&u.push("muid."+s),h=n.sitePage.flightid,h&&u.push("flightid."+h.replace(",","_flightid.")),f=f+u.join("_"),f+l)}function ct(){}function ut(t,i,o){var s,c,y;if((!i||!i.originalEvent||i.originalEvent!="contextmenu")&&!w){var p=t.match(g),d=t.match(/[&?]tduid=([^&]+)/i),nt=new RegExp(b,"i");if(p&&p[1]&&(!d||!d[1])&&!nt.test(t.match(nt))){if(s=l,o.attributes&&o.attributes["data-m"]&&(c=o.attributes["data-m"].value,c&&(s=u(c).n)),a=n.sitePage.pageId+"_"+n.sitePage.localeCode+"_"+n.sitePage.vertical+"_"+s,k=a,y=e(k),y){t+=h(tt,y,rt,it,a);o.href=t;return}v=o;v.href=t;i.stopPropagation();i.preventDefault();i.isPropagationStopped=!0;w=!0;r.origin||(r.origin=r.protocol+"//"+r.hostname+(r.port?":"+r.port:""));f.get({url:h(st,r.origin,n.sitePage.localeCode,n.sitePage.channel,a),dataType:ot,success:at,error:function(n,i){lt("The TradeDoubler ajax call failed: "+i+" Status code: "+n);o.href=t+b;o.click()}})}}}function lt(n){c.console&&c.console.log&&console.log(n)}function at(n){n?(o(k,n,13,o.topDomain,et),v.href+=h(tt,n,rt,it,a)):v.href+=b;w=!1;v.click()}function vt(n,t){return t?n+"_succeeded":n+"_failed"}var y=r.host.split(".").reverse(),yt=y.length>1?y[1]+"."+y[0]:r.host,ft="ms-windows-store",g=/[&?]ocid=([^&]+)/i,p=/[&?]ccid=([^&]+)/i,nt=n.sitePage.msnocid||"",l=n.sitePage.storeocid||"",w=!1,et="/",ot="text/html",a="",b="&notduid=true",tt="&tduid=({0})({1})({2})({3})()",k="",it=s.tradeDoublerMarketId,rt=s.tradeDoublerProgramId,v,st=s.tradeDoublerAjaxUrlFormat;return{addOcidToHref:ht,attachTaglineClickHandler:ct,addCcidToStoreUrl:d,getActionResult:vt}});define("binding",["viewAware","mediator","window"],function(n,t,i){function e(t,r,u){this.behaviorName=t;this.selector=r;this.context=u;this.views=n.views.NONE;this.timeout=i.setTimeout(function(){throw'binding("'+t+'", "'+r+'") was not followed with an all(), view(), or fallback() call!';},0)}function o(t){this.view(n.views.ALL&~this.views,t)}function s(n,t){for(var u=null,i=0;i<r.length;i++)if(r[i].behaviorName==n&&r[i].args[0]==t){u=r[i];break}return u}function c(n){var t,f,i;for(u=n,i=0;i<r.length;i++)t=r[i],f=t.view&u,t.active&&(f?t.update():(t.teardown(),t.active=0));for(i=0;i<r.length;){if(t=r[i],f=t.view&u,f&&!t.active&&!h(t)){r.splice(i,1);continue}++i}}function h(n){if(!n.setup){var t=n.behavior.apply(null,n.args);t&&(n.setup=t.setup,n.teardown=t.teardown,n.update=t.update)}return n.setup?(n.setup(),n.active=1,!0):!1}var r=[],u,f;return n.listen(c),e.prototype={view:function(n,t){var e=this.behaviorName,o=[this.selector,this.context,t],f={active:0,args:o,behaviorName:this.behaviorName,view:n};return this.views|=n,i.clearTimeout(this.timeout),require([e],function(t){f.behavior=t;var i=!0;n&u&&(i=h(f));i&&r.push(f)}),this},fallback:o,all:o,get:s},f=function(n,t,i){return new e(n,t,i)},f.views=n.views,i.binding=f,i.binding.get=s,f});define("webStorage",["window"],function(n){function h(){try{return i in n&&n[i]!==null&&r in n&&n[r]!==null}catch(t){return!1}}function e(n,i){var r=i?f:u;if(t)return r.getItem(n)}function c(n,t){var i=e(n,t);try{return typeof i=="string"?JSON.parse(i):i}catch(r){console.log(r)}return i}function o(n,i,r){var e=r?f:u;if(t)try{typeof i=="object"&&(i=JSON.stringify(i));e.setItem(n,i)}catch(o){console.log(o)}}function s(n,i){var r=i?f:u,e;if(t)return e=r.getItem(n),r.removeItem(n),e}var i="localStorage",r="sessionStorage",u=n[i],f=n[r],t=h();return{supported:t,getItem:e,getObject:c,setItem:o,setObject:o,removeItem:s,removeObject:s}});define("getCookie",function(){return function(n){var i=new RegExp("\\b"+n+"\\s*=\\s*([^;]*)","i"),t=i.exec(document.cookie);return t&&t.length>1?t[1]:""}});define("setCookie",["location"],function(n){function t(n,t,i,r,u,f){var o,e=[n,"=",t],s;-1==i?o="Fri, 31 Dec 1999 23:59:59 GMT":i&&(s=new Date,s.setTime(s.getTime()+i*864e5),o=s.toUTCString());o&&e.push(";expires=",o);r&&e.push(";domain=",r);u&&e.push(";path=",u);f&&e.push(";secure");document.cookie=e.join("")}return t.topDomain=(n.hostname.match(/[^.]+\.[^.\d]+$/)||{})[0]||"",t});define("dom",function(){var n=document,t=/[\n\t]/g,i=/(^\s+)|(\s+$)/mg;return{attr:function(n,t){return n&&(n.getAttribute?n.getAttribute(t,2):n[t])||""},name:function(n){return n&&n.nodeName||""},text:function(n){return(n&&(n.textContent||n.innerText)||"").replace(i,"")},children:function(n){return n&&n.children||[]},parent:function(n){return n&&n.parentNode},getElementsByTagName:function(t){return n.getElementsByTagName(t)},create:function(t){return n.createElement(t)},containsClass:function(n,i){return n&&(" "+(n.className||n.getAttribute("class"))+" ").replace(t," ").indexOf(" "+i+" ")>-1},getTarget:function(n){return n&&(n.customTarget||n.target||n.srcElement)||document}}});define("commonElements",["document","c.dom"],function(n){return{head:n.getElementsByTagName("head")[0],body:n.getElementsByTagName("body")[0],main:n.getElementById("main")}});define("events",function(){function n(n,t,i){n.addEventListener&&n.addEventListener(t,i,!1)}function t(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}return{bind:n,unbind:t}});define("extend",function(){function n(){var f=arguments,t=f[0]||{},e=1,i,r,o,u;for((typeof t=="boolean"||typeof t=="number")&&(o=!!t,t=f[1],e=2);e<f.length;e++){r=f[e];for(i in r)r[i]!==undefined&&(o&&typeof r[i]=="object"?(u=t[i],typeof u!="object"&&(u={}),n(!0,u,r[i]),t[i]=u):t[i]=r[i])}return t}return n});define("format",function(){function t(t,i,r){for(var u=0;u<r.length-i;++u)t=t.replace(n[u]||(n[u]=new RegExp("\\{"+u+"\\}","g")),r[u+i]);return r.length?t:t.toString()}var n=[];return String.prototype.format=function(){return t(this,0,arguments)},function(n){return(typeof n=="function"&&(n=n.apply(n,Array.prototype.slice.call(arguments,1))),n==null)?"":(typeof n!="string"&&(n=n.toString()),n)?t(n,1,arguments):""}});define("refreshDeferredModules",["jquery","refreshModules"],function(n,t){function i(){return t(n("[data-module-deferred]:not([data-sso-dependent])"))}return i});define("pointerEvents",["navigator"],function(){return window.PointerEvent?{enabled:!0,down:"pointerdown",up:"pointerup",cancel:"pointercancel",move:"pointermove",over:"pointerover",out:"pointerout",enter:"pointerenter",leave:"pointerleave"}:window.MSPointerEvent?{enabled:!0,down:"MSPointerDown",up:"MSPointerUp",cancel:"MSPointerCancel",move:"MSPointerMove",over:"MSPointerOver",out:"MSPointerOut",enter:"MSPointerOver",leave:"MSPointerOut"}:{enabled:!1,down:"mousedown",up:"mouseup",cancel:"mouseup",move:"mousemove",over:"mouseover",out:"mouseout",enter:"mouseenter",leave:"mouseleave"}});define("promise",["window"],function(n){function t(n,e){function y(n){s==i&&(o=n,s=u,v())}function a(n){s==i&&(o=n,s=f,v())}function p(n){for(var t=0;t<h.length;t++)h[t](n)}function v(){for(var n=0;n<c.length;n++)l(c[n])}function l(n){switch(s){case i:c.push(n);break;case u:n.complete();break;case f:n.error()}}if(typeof n!="function")throw"promise must take an init function as the first parameter";var s=i,o,c=[],h=[];this.addEventListener=function(){throw"not implemented";};this.cancel=function(){s==i&&(e&&(e(),e=null),a(new Error("Cancel")))};this.dispatchEvent=function(){throw"not implemented";};this.done=function(n,i,r){function u(n){if(t.onerror)t.onerror(n);else throw n;}l({complete:function(){if(n)try{n(o)}catch(t){u(t)}},error:function(){if(i)try{i(o)}catch(n){u(n)}else u(o)}});r&&h.push(r)};this.removeEventListener=function(){throw"not implemented";};this.then=function(n,i,u){var f,e,s,c=new t(function(n,t,i){f=n;e=t;s=i});return l({complete:function(){var i,u=1;if(n)try{i=n(o);typeof i=="undefined"&&(i=o)}catch(s){u=0;e(r(s))}else i=o;u&&(t.is(i)?i.then(f,e):f(i))},error:function(){var n,u=0;if(i)try{n=i(o);typeof n=="undefined"?n=o:u=1}catch(s){n=r(s)}else n=o;u?t.is(n)?n.then(f,e):f(n):e(n)}}),u&&h.push(u),c};n(y,a,p)}function r(n){return n&&n.name==e||(n=new Error(n)),n}var i=1,u=2,f=3,e="Error";return t.any=function(n){function u(){r()}for(var r,f=new t(function(n){r=n}),i=0;i<n.length;i++)n[i].then(u,u);return f},t.as=function(n){if(n){if(n.name==e)return t.wrapError(n);if(t.is(n))return n}return t.wrap(n)},t.is=function(n){return n&&typeof n.then=="function"},t.join=function(n){function u(){--f||r()}for(var f=n.length,r,e=new t(function(n){r=n}),i=0;i<n.length;i++)n[i].then(u,u);return e},t.theneach=function(){throw"not implemented";},t.timeout=function(i,r){function f(){u=1}var u;return r&&r.done(f,f),new t(function(t){function f(){u||(r&&r.cancel(),t())}i===0&&n.setImmediate?n.setImmediate(f):n.setTimeout(f,i)})},t.wrap=function(n){return new t(function(t){t(n)})},t.wrapError=function(n){return new t(function(t,i){i(r(n))})},t});define("scrollLeft",["dir.tokens","device"],function(n,t){var i,r;if(!n.ltr){if(r=t.capability("RtlScrollLeftAdjustment"),r=="fromLeft")return i=function(n,t){return t?n.scrollLeft=n.scrollWidth-n.clientWidth-t:n.scrollWidth-n.clientWidth-n.scrollLeft},i.adjustValue=function(n,t){return n.scrollWidth-n.clientWidth-t},i;if(r=="negativeValue")return i=function(n,t){return t?n.scrollLeft=t*-1:Math.abs(n.scrollLeft)},i.adjustValue=function(n,t){return t*-1},i}return i=function(n,t){return t?n.scrollLeft=t:n.scrollLeft},i.adjustValue=function(n,t){return t},i});define("sso",["headData","trackInfo","getCookie"],function(n,t,i){return function(r,u){var o=n.sso,f,v;if(r=r||function(){},u=u||window,!o||n.clientSettings&&n.clientSettings.static_page||i("eso")=="1"){r({signedIn:!1,closed:!1});return}o=o.replace(/amp;/g,"&");f=u.document.createElement("IFRAME");f.id="sso_frame";f.style.width="1px";f.style.height="1px";f.style.position="absolute";f.style.visibility="hidden";f.style.left="0px";f.style.bottom="0px";f.src=o;u.document.body.appendChild(f);var s=null,a=0,h,e,c,l=function(n){var t=n.data;t&&(t.ssoStatus==="sso_completed"||t.ssoStatus==="sso_failed")&&(s=t.ssoStatus,define("ssoData",t))};u.addEventListener?(e="message",c=u.addEventListener(e,l,!1),h=u.removeEventListener):(e="onmessage",u.attachEvent(e,l),c=l,h=u.detachEvent);v=u.setInterval(function(){if(s||a>=5){var i={signedIn:s==="sso_completed",closed:!!s};u.clearInterval(v);h.call(u,e,c);u.document.body.removeChild(f);r(i);i.signedIn&&(t.client.OTFSpecialSection("sso-success"),define("c.sso",n.signedin=1))}else a++},1e3)}});window.Modernizr=function(n,t){function r(){try{return t.createEvent("TouchEvent"),!0}catch(n){return!1}}var i=r();return Function.prototype.bind||(Function.prototype.bind=function(n){var i=Array.prototype.slice,t=this,r,u;if(typeof t!="function")throw new TypeError;return r=i.call(arguments,1),u=function(){var e,o,f;return this instanceof u?(e=function(){},e.prototype=t.prototype,o=new e,f=t.apply(o,r.concat(i.call(arguments))),Object(f)===f)?f:o:t.apply(n,r.concat(i.call(arguments)))},u}),{csstransforms:!0,csstransforms3d:!0,csstransitions:!0,touch:i,prefixed:function(n){return n}}}(this,this.document);window.Modernizr.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};window.Modernizr.animEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",transition:"animationend"};define("modernizr",window.Modernizr);define("refreshPdpModules",["jquery","refreshModules","trackInfo"],function(n,t,i){function r(){var r=n("[data-pdp-dependent]"),u=t(r,{pfr:1});u.done(function(){i.client.OTFSpecialSection("PdpReady");define("c.pdpready",1)})}return r});define("refreshSigninModule",["jquery","refreshModules","binding"],function(n,t,i){function r(){var r=n("[data-sso-dependent]");t(r).done(function(){i("flyout","#username").all({eventOrigin:"#username>a,#username>figure"});i("flyout","#settings").all({eventOrigin:"#settings>a"});i.get("marketDropdown","#site-market").teardown();i("marketDropdown","#site-market").all();i("marketDropdown",".marketswitch").all({triggerEvent:"click"});i("marketDropdown",".langtoggle").all({triggerEvent:"click"});require(["meControlBootstrap"],function(n){n()})})}return r}),function(n){function u(){return Math.round(r())}function e(n){var t={hasFired:!1},r={},f=n.send||function(i){var r=n.url,f=r.indexOf("?")>=0?"&":"?",u=new Image;t.onsent&&(u.onload=t.onsent);u.src=encodeURI(r+f+"DATA="+i)},i;t.mark=function(n,i){var o=typeof n,e,f;if(o==="string")for((i===null||i===undefined)&&(i=u()),e=n.split("."),f=r,f[n]=i;e.length;)n=e.shift(),e.length>0?f=f[n]=f[n]||{}:f[n]=i;else if(o==="object"){i=n;for(n in i)i.hasOwnProperty(n)&&t.mark(n,i[n])}return i};t.fire=function(){var i=t.onbeforefire,n;i&&i();this.payload=JSON.stringify(r);r={};n=t.onfire;n&&n();t.hasFired=!0};for(i in n)!t.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(t[i]=n[i]);return t}var i="now",f=window,t=f.performance,r;n.timing=t&&t.timing;n.navigation=t&&t.navigation;r=t&&t[i]&&t[i].bind(t)||Date[i]||function(){return(new Date).getTime()};n.now=u;n.Beacon=e}(Perf||(Perf={}));window.pp=new window.Perf.Beacon({}),function(n,t){function r(){var r={},e="navigationStart",u=t[e],n,i,f,o,s;if(u===null||u===undefined||u<0)return r;for(n in t)n!==e&&(i=t[n],i>-1)&&(i>=u&&(i-=u),o=(f=n.lastIndexOf("End"))>0&&1||(f=n.lastIndexOf("Start"))>0&&0,f!==-1?(n=n.substr(0,f),s=r[n]||(r[n]=[-1,-1]),s[o]=i):r[n]=i);return r}if(t){var i=n.onbeforefire;n.onbeforefire=function(){i&&i();n.mark("w3c",r())}}}(pp,Perf.timing);define("w3cTimer",function(){return window.pp});define("guidGen",function(){return function(){function t(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t=="x"?i:i&7|8).toString(16)}var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t)}});define("pageInstance",["mediator","guidGen","document"],function(n,t,i){var r,u="updatePageInstance";return n.sub(u,function(){var u,f,e,n;if(r=t().replace(/-/g,""),u=i.body.querySelector("#srchfrm"),u)for(f=u.querySelectorAll("input[name='refig']"),e=f.length,n=0;n<e;n++)f[n].value=r}),{getActivityId:function(){return r},setActivityId:function(n){r=n},eventName:u}});define("animate",["window","jquery","promise"],function(n,t,i){function f(n){return new i(function(t){n.one(r.endEvent,t)})}function e(n){if(n.length==1)return f(n);var r=[];return n.each(function(){r.push(f(t(this)))}),i.join(r)}function u(n,t,f){return n.css(f),new i(function(i){if(n.css(t),r.enabled){var o=setTimeout(function(){i("timeout")},u.timeout);e(n).then(function(){clearTimeout(o);f.transitionProperty&&n.css("transitionProperty","");f.transitionDuration&&n.css("transitionDuration","0s");i()})}else i()})}var r={enabled:!1};return(n.PointerEvent||n.MSPointerEvent)&&(r={enabled:!0,endEvent:"transitionend",timeout:400}),u.timeout=r.timeout,u});define("refreshModules",["jquery","navigation","headData","window","location","promise","requestAnimationFrame","imgSrc","mediator","escape"],function(n,t,i,r,u,f,e,o,s,h){function k(t,i,r,u,f,e){n.ajax({url:t,dataType:"html",data:{pagerequest:JSON.stringify(i)},crossDomain:!0,method:"GET",xhrFields:{withCredentials:!1}}).done(function(t){a(r,t,null,e);u(t);r.each(function(){var t=n(this).data("moduleId");t&&s.pub("moduleRefreshed-"+t)})}).fail(function(){f(arguments)})}function d(t,i,r,u,f,e){var o=!1,h={};!/^https/.test(t)&&i&&i.Regions&&i.Regions.length&&g(i.Regions)&&(t="https"+t.substring(4),o=!0,h={withCredentials:!0});n.ajax({url:t,dataType:"html",data:JSON.stringify(i),method:"POST",contentType:"application/json",crossDomain:o,xhrFields:h}).done(function(t){a(r,t,null,e);u(t);r.each(function(){var t=n(this).data("moduleId");t&&s.pub("moduleRefreshed-"+t)})}).fail(function(){f(arguments)})}function g(n){for(var t=0;t<n.length;t++)if(n[t].type==="meStripe")return!0;return!1}function nt(){var t,n,i;if(c&&c.deferLoadedItems){for(t=c.deferLoadedItems.split(","),n=0,i=t.length;n<i;n++)t[n]&&c.removeItem(t[n]);c.removeItem("deferLoadedItems")}}function tt(t,i){if(!c||!t||!i)return null;var r,u=c.getItem(t);try{r=JSON.parse(u)}catch(f){return null}return r&&r.data&&r.lastUpdatedTime&&n.now()-r.lastUpdatedTime<i?r.data:null}function it(t,i){c&&(c.deferLoadedItems||(c.deferLoadedItems=""),c.deferLoadedItems+=","+t,c.setItem(t,JSON.stringify({lastUpdatedTime:n.now(),data:i})))}function a(t,i,r,u){var f,e,o,s;i&&(f=n("<data>"+n.trim(i)+"<data>"),ut(f),e=f.find("[data-module-id]"),u=u||{},o=u.loadEmptyContent,t.each(function(){var h=n(this),t,i=h.data("moduleId");if(t=e.filter("[data-module-id='"+i+"']"),t.length){var u=n("[data-module-id='"+i+"']"),c=v[i]||u.html(),f=t.html(),l=f===c;(o||f&&f.trim())&&(y||!l)&&(v[i]=f,rt(t,u),t.insertAfter(u.first()),u.remove(),s=!0);!r&&h.data("cache-duration")&&it(i,t[0].outerHTML)}}))}function rt(t,i){n("img[data-src]",t).each(function(){o.force(this,i)||o.go(this)})}function ut(t){var i=t.children("link[rel=stylesheet]");i.length&&i.each(function(){var t=this.getAttribute("href");p[t]||((w||(w=n("head"))).append(this),p[t]=!0)})}var l=i.moduleapi,b=i.cdnmoduleapi,v={},y,p={},w,c;try{c=r.localStorage}catch(ft){c=null}return l?function(e,o,s,c,v,p,w,g,it){var ft,ut,st,rt,et,ot,ht;return(i.signedin||nt(),!e||e.length===0)?new f(function(n){n()}):(e instanceof n||(e=n(e)),typeof o=="string"&&(o=t.getParams(o)),p&&(l=p),(s===undefined||s===null)&&(s=!1),y=v,ft=n.extend(t.getParamsFromUrl(u.href),o),s&&delete ft.ocid,w&&ft.locale&&(ft.locale=w),ut=n.param(ft),st=l.split("?")[0]+(ut?"?"+ut:""),st+=(st.indexOf("?")===-1?"?":"&")+"ou="+h.urlPart(u.href),rt={RequestUri:u.href.split("?")[0]+(ut?"?"+ut:""),ExperienceId:g&&i.kernelXd?i.kernelXd:i.xdid||null,CacheDuration:null},et=null,s&&(et=b.split("?")[0]+(ut?"?"+ut:""),et+=(et.indexOf("?")===-1?"?":"&")+"devicegroup="+i.dg,c!==undefined&&c!==null&&(rt.CacheDuration=c.toString())),it=n.extend({loadEmptyContent:!1},it),ot={},ht=[],e.each(function(){var i=n(this).data("moduleId"),r,u,t;if(i){if(r=n(this).data("cache-duration"),u=r?tt(i,r):null,u){ht.push(u);return}if(t=i.split("|"),t.length==5){var o={key:t[3],type:t[4]},f={key:t[1],type:t[2],Modules:[o]},e=f.key+f.type;ot[e]?ot[e].Modules.push(o):ot[e]=f;rt.Type||(rt.Type=t[0])}}}),ht.length&&a(e,ht.join(""),!0,it),rt.Regions=n.map(ot,function(n){return n}),rt.Regions!=null&&rt.Regions.length>0?new f(function(n,t){s?k(et,rt,e,n,t,it):d(st,rt,e,n,t,it)}):(r.console&&r.console.log&&console.warn("Regions were empty or null"),new f(function(n){n()})))}:(r.console&&console.log("moduleApiEndpoint is missing from header, ajax module update will exit."),n.noop)});define("safeCss",["jquery"],function(n){function r(n){var t={},i="";this.css=function(r,u){if(u)t[r]=i;else if(typeof r=="object")for(var f in r)t[f]=i;return n.css.apply(n,arguments),this};this.hide=function(){throw"not implemented";};this.show=function(){throw"not implemented";};this.toggle=function(){throw"not implemented";};this.reset=function(){n.css(t);t={}}}var t=1,i=".";return{createGroup:function(){function e(t){var h=[],s,e;return t.each(function(){var i=n(this),t=i.data(f);t||(t=o++,i.data(f,t));h.push(t)}),s=h.join(i),e=u[s],e||(e=new r(t),u[s]=e),e}var f="safeCssId"+t++,o=1,u={};return e.reset=function(){for(var n in u)u[n].reset()},e}}});define("touchGestures",["jquery","modernizr","window","deviceGroup"],function(n,t,i,r){function c(n){n.originalEvent&&n.originalEvent.preventManipulation&&n.originalEvent.preventManipulation();n.preventDefault();n.stopPropagation()}function p(n){var t=n.originalEvent,i=t.changedTouches||t.touches;return i||(i=[{identifier:t.pointerId,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,force:t.pressure,target:t.target}]),i&&i.length?i:[n]}function w(n,t){var i=t,r=n.y/n.x;return!isNaN(r)&!(n.y<s.minimumDistanceForMove&&n.x<s.minimumDistanceForMove)&&(i=n.x&&Math.abs(Math.atan(r))<v?h:y),i}function l(n,t){return n&&t?{x:n.x/t,y:n.y/t}:{x:0,y:0}}function e(n,t){return n&&t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}function o(t,i,r){n.each(f[i],function(n,u){t.bind(u,function(n){r(n,i)})})}function b(t,i){n.fn[t]=function(n,i){return n?this.bind(t,i,n):this.trigger(t,i)};n.event.special[t]={setup:function(t,r){i(n(this),t,r)}}}var s={direction:"all",maximumDistanceForClick:20,maximumTimeForClick:250,distanceBeforeDirectionDetection:10,minimumTimeForSwipe:.02,maximumTimeForThrow:1200,minimumLastThrowSpeed:1,maximumTimeForSwipe:400,minimumDistanceForSwipe:30,directionChangeBuffer:5},v=Math.PI/4,a=n(i),u={eventName:"gesture",start:"start",move:"move",stop:"stop",cancel:"cancel",tap:"tap",swipeUp:"swipeUp",swipeRight:"swipeRight",swipeDown:"swipeDown",swipeLeft:"swipeLeft",throwUp:"throwUp",throwRight:"throwRight",throwDown:"throwDown",throwLeft:"throwLeft"},h="horizontal",y="vertical",f={pointer:{start:["pointerdown"],stop:["pointerup"],move:["pointermove"],cancel:["pointercancel","pointerleave"],touchSupported:!0,type:"pointer"},mspointer:{start:["MSPointerDown"],stop:["MSPointerUp"],move:["MSPointerMove"],cancel:["MSPointerCancel","MSPointerLeave"],touchSupported:!0,type:"mspointer"},touch:{start:["touchstart","touchenter"],stop:["touchend","touchleave"],move:["touchmove"],cancel:["touchcancel"],touchSupported:!0,type:"touch"},mouse:{start:["mousedown"],stop:["mouseup"],move:["mousemove"],cancel:["mouseleave"],touchSupported:!1,type:"mouse"}};return f=!t.touch||r.isPc&&typeof InstallTrigger!="undefined"?navigator.pointerEnabled?f.pointer:navigator.msPointerEnabled?f.mspointer:f.mouse:f.touch,b(u.eventName,function(t,i){function it(){tt=r=v=k=d=g=0}function nt(t,i){if(f.type=="mouse"||(f.type=="pointer"||f.type=="mspointer")&&t.originalEvent.pointerType=="mouse")b=!0;else{b=!1;var e=p(t);(tt||d&&r.totalDistance>=y.maximumDistanceForClick)&&(tt=!0,c(t));(r||i==u.start)&&n.each(e,function(n,r){rt(n,r,t,i)})}}function rt(i,f,o,s){var p,rt,ot,st,tt;if(ft(f),p={touchType:s,coord:{x:f.pageX,y:f.pageY},screenCoord:{x:f.screenX,y:f.screenY},scrollCoord:{x:a.scrollLeft(),y:a.scrollTop()},count:v?v.count+1:0,time:(new Date).getTime()},s==u.start&&(it(),b=!1,r=n.extend({totalDistance:0},p),v=n.extend({},p)),p.delta=e(p.coord,v.coord),p.screenDelta=e(p.screenCoord,v.screenCoord),p.duration=p.time-v.time,p.speed=l(p.delta,v.duration),r.delta=e(p.coord,r.coord),r.screenDelta=e(p.screenCoord,r.screenCoord),r.totalDistance+=Math.sqrt(Math.pow(p.delta.x,2)+Math.pow(p.delta.y,2)),rt=y.direction==h,v&&v.speed&&(ot=rt?p.delta.x:p.delta.y,st=rt?v.delta.x:v.delta.y,ot*st<0&&(r.movecoord=p.coord,r.movetime=p.time)),r.movecoord&&(r.movechange=e(p.coord,r.movecoord),r.moveduration=p.time-r.movetime,r.movespeed=l(r.movechange,r.moveduration)),r.duration=p.time-r.time,r.speed=l(r.delta,r.duration),k=w(r.delta,y.direction),!g&&r.totalDistance>y.distanceBeforeDirectionDetection&&y.direction!="all"&&!d&&(r.direction=k,y.direction!=k?(g=!0,p.touchType=u.cancel):(c(o),d=!0)),p.touchType==u.stop){var ut=(r.movechange||r.delta).x,et=(r.movechange||r.delta).y,ht=r.moveduration||r.duration,nt=k==h,lt=nt?Math.abs(r.speed.x):Math.abs(r.speed.y),at=nt?Math.abs(p.speed.x):Math.abs(p.speed.y),vt=nt?Math.abs(v.speed.x):Math.abs(v.speed.y),ct=Math.max((at+vt)/2,lt);r.duration<y.maximumTimeForClick&&r.totalDistance<y.maximumDistanceForClick?(b=!0,p.touchType=u.tap):(p.distance=Math.abs(nt?ut:et),ct>y.minimumTimeForSwipe&&(ht<y.maximumTimeForSwipe?p.touchType=nt?ut>0?u.swipeRight:u.swipeLeft:et>0?u.swipeDown:u.swipeUp:ht<y.maximumTimeForThrow&&ct>y.minimumLastThrowSpeed&&(p.touchType=nt?ut>0?u.throwRight:u.throwLeft:et>0?u.throwDown:u.throwUp)))}(v.touchType!=p.touchType||v.coord.x!=p.coord.x||v.coord.y!=p.coord.y)&&(g&&p.touchType!=u.cancel&&p.touchType!=u.tap||(tt=n.Event(u.eventName,{current:p,last:v,start:r,direction:k,originalEvent:o,allowClick:b}),t.trigger(tt),b=tt.allowClick!==!1,tt.isDefaultPrevented()&&o.preventDefault(),tt.isPropagationStopped()&&o.stopPropagation(),tt.isImmediatePropagationStopped()&&o.stopImmediatePropagation()));s==u.stop||s==u.cancel?it():v=p}function ut(n){return b||c(n),b}function ft(n){n.pageX||n.originalEvent&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY,n.screenX=n.originalEvent.screenX,n.screenY=n.originalEvent.screenY,n.pointerId=n.originalEvent.pointerId,n.identifier=n.originalEvent.identifier)}var r,v,k,d,tt,g,b=!0,y=n.extend({},s,i);it();t.addClass("unselectable").find("A, [onclick]").not(".mobilead").bind("click",ut);o(t,u.start,nt);o(t,u.move,nt);o(t,u.stop,nt);o(t,u.cancel,nt)}),{types:u,settings:f}});define("touchDataManager",["jquery"],function(n){function o(){var c=.85,l=.1,h,o,u,r,n;this.reset=function(t){h=t;o=+new Date;u=o;r=h;n=0};this.input=function(t){var e=+new Date,i=e-u,f;i=i>0?i:1;u=e;r+=n*i;f=t-r;r+=c*f;n+=l*f/i};this.getPosition=function(){return r};this.getVelocity=function(){return n};this.getDelta=function(){return r-h};this.getDuration=function(){return 220};this.getTouchDuration=function(){return u-o};this.getDrift=function(t,i){var e=this.getDelta(),l,s;e<0&&(e=-e);var h=1-e/t,c=.2,r=t*(h>c?h:c),f=n*150,a=u-o<300&&(n>.3||n<-.3);return a?(l=i,s=l-e,f=(n>0?1:-1)*(s<r?s:r)):f>r?f=r:f<-r&&(f=-r),f};this.getTimingFunction=function(){return"cubic-bezier(0,"+e(n)+",.58,1)"};this.ensureJQueryEase=function(){var r=e(n);r=Math.round(r/f)*f;i[r]||(i[r]=s(r));t=i[r]};this.reset(0)}function e(n){var t=n>0?n:-n;return t*.3}function s(n){for(var f=[],t,e,o,i,u=r.length;u--;)t=r[u],i=1-t,o=i*t*t*.58+t*t*t,e=i*i*t*n+i*t*t+t*t*t,f[u]={x:e,t:o};return f}for(var i={},f=.1,t,r=[],u=0;u<=1;u+=.01)r.push(u);return n.easing.cubicBezier=function(n){if(n==1)return 1;for(var r,o,u,s,i,f=t.length-1,e=0;f--&&!e;)i=t[f],r=i.t,r<=n&&(u=i.x,i=t[f+1],o=i.t,s=i.x,e=(n-r)/(o-r)*(s-u)+u);return e},n.easing.cubicBezierQuint=function(n){return 1-Math.pow(1-n,5)},o});define("carouselManager",function(){return function(){var n=[],t=0;this.load=function(t){n=t};this.getItem=function(i){if(!n.length)return null;var r=(t+i)%n.length;return n[r<0?r+n.length:r]};this.setIndex=function(n){t=n};this.changeIndex=function(n){t+=n}}});globalLeft="left";define("dir.tokens",{ltr:globalLeft=="left",left:"left",paddingLeft:"padding-left",paddingRight:"padding-right",marginLeft:"margin-left",marginRight:"margin-right"});define("socialPlugins.tokens",{twitterLang:"en",facebookLang:"en_US",loadDelay:"1000"});define("truncate.tokens",{truncateEllipsis:""});define("webApp.tokens",{appVersion:"2.0.6127.701"});define("flyout",["jquery","jqBehavior","document","mediator"],function(n,t,i,r){function u(n){n.preventDefault()}function e(t,u){function w(n){var t=e[0],i;d(n);t.el.hasClass(t.cls)?(i=c?c[0]:!1,u.allowToggleOff&&l(n,o),i!==n.target&&f.filter(n.target).length===1&&p(n,s)):p(n,s);r.subChannel("closeFlyoutFinal","flyoutBehavior",o)}function b(i){var r=t.find(u.contentEventOrigin),e;r.length||(r=t);e=u.skipContentOriginEventTargetCheck?!(n.contains(r[0],i.target)===!0||f[0]===i.target):!(r[0]===i.target||n.contains(r[0],i.target)===!0||f[0]===i.target);e&&(u.disableEventBubbling&&i.preventDefault(),l(i,o))}function o(t,i){for(var u,r=0;r<e.length;r++)u=e[r],u.el.removeClass(u.cls).attr("aria-hidden",!0);v.off(y,b);c=!1;n.isFunction(i)&&i!==s&&i()}function k(n){t.find("."+u.toggleClass).length&&l(n,o)}function s(t,i){var r,u;for(c=n(t.target),r=0;r<e.length;r++)u=e[r],u.el.addClass(u.cls).attr("aria-hidden",!1);v.on(y,b);n.isFunction(i)&&i!==s&&i()}var v=n(i),f=t.find(u.eventOrigin),a;f.length||(f=n(u.eventOrigin));var y=u.outsideEvent,h=u.toggleTargets,d=u.eventPreventDefaultDelegate,c=!1,p=n.isFunction(u.openFlyoutDelegate)?u.openFlyoutDelegate:s,l=n.isFunction(u.closeFlyoutDelegate)?u.closeFlyoutDelegate:o,e=[];if(typeof h!="object")h===!0&&e.push({el:t,cls:"show"});else for(a in h)e.push({el:t.find(a),cls:h[a]});return{setup:function(){f.on(u.triggerEvent,w)},update:function(){k()},teardown:function(){k();f.off(u.triggerEvent,w)}}}var f={allowToggleOff:!0,eventOrigin:".flyout > button",toggleTargets:!0,triggerEvent:"click",outsideEvent:"mousedown touchstart scroll",openFlyoutDelegate:!1,eventPreventDefaultDelegate:u,skipContentOriginEventTargetCheck:!1,closeFlyoutDelegate:!1};return t(e,f)});define("marketDropdown",["jquery","jqBehavior","window","headData","track","location"],function(n,t,i,r,u,f){function o(t,i){function o(){t.on(i.triggerEvent,r)}function r(){var r,n,o;t[0].tagName=="SELECT"?(o=t.find("option:selected"),r=o.data("mkt"),n=o.data("mktUrl")):(r=i.mkt,n=i.mktUrl);n+=f.search;n&&r&&(u.trackEvent({type:"click_nonnav",target:t},"","",n),h(e,n,r))}function s(){t.off(i.triggerEvent,r)}function h(t,i,r){var u=JSON.stringify({Market:r,SuppressPrompt:!0}),e=[{Path:"MSNHomePage/MarketConfiguration",Operation:"Update",Payload:u}];n.ajax({url:t,dataType:"html",data:JSON.stringify(e),method:"POST",contentType:"application/json"}).done(function(){f.href=i}).fail(function(){f.href=i})}return{setup:o,teardown:s}}var e=r.pdpdeltaupdateapi;return t(o,{triggerEvent:"change"})});define("navArrowScroll",["jquery","jqBehavior","modernizr","device","window","dir.tokens","touchGestures","perfMarker","remToPixel","requestAnimationFrame"],function(n,t,i,r,u,f,e,o,s){function v(t,i){function dt(){ut.on("click",nt);ft.on("click",w);si(r);ii();p();oi()}function gt(){ut.off("click",nt);ft.off("click",w);p()}function ni(){b=0;l=0;ct(0);p()}function ht(n){lt();var t=ti(n);ct(t)}function ct(n){c?(n=h.replace("{0}",n),r.css("transform",n)):r.css(h,n)}function lt(){if(tt=o.width(),rt)v=r[0].scrollWidth;else{v=0;for(var n=0;n<r.length;n++)v+=r[n].scrollWidth;v+=kt}y=r.position().left-b}function ti(n){var t=0,i;return n==1?l>0&&(l=l-1,t=a[l].getAttribute(it)):l<a.length-1&&(t=a[l].getAttribute(it),l==0&&(t-=wt),l=l+1),i=f.ltr?n:-n,ot=l==0?0:y+i*t}function ii(){for(var t,n=0,i=a.length;n<i;n++)t=a.eq(n),a[n].setAttribute(it,t.outerWidth(!0)),t.hasClass(pt)&&(st=n)}function at(){f.ltr||(b=r.position().left,y=r.position().left-b)}function p(){if(lt(),v>tt){rt=!0;ri();var n=f.ltr?y:-y,t=parseInt(r.css(f.marginLeft)),i=tt-(v+n);l==0?(o.addClass(d).removeClass(k),at()):i>=t?o.addClass(k).removeClass(d):o.addClass(et)}else rt=!1,o.removeClass(et),ui(),at()}function ri(){for(var t=r[1].children.length,n=0;n<t;n++)r[1].children[0].id="mylink_"+n,r[0].appendChild(r[1].children[0])}function ui(){for(var t=r[0].children.length,n=0;n<t;n++)!r[0].children["mylink_"+n]||r[1].appendChild(r[0].children["mylink_"+n])}function nt(){ht(1);p()}function w(){ht(-1);p()}function fi(){f.ltr?w():nt()}function ei(){f.ltr?nt():w()}function vt(){return f.ltr&&o.hasClass(d)||!f.ltr&&o.hasClass(k)}function yt(){return f.ltr&&o.hasClass(k)||!f.ltr&&o.hasClass(d)}function oi(){for(var n=0;n<st;n++)(f.ltr&&vt()||!f.ltr&&yt())&&w()}function si(n){e.settings.touchSupported&&n.gesture(hi,{direction:"horizontal"})}function hi(t){if(t.direction)switch(t.current.touchType){case e.types.throwRight:case e.types.swipeRight:yt()&&ei();break;case e.types.throwLeft:case e.types.swipeLeft:vt()&&fi();break;case e.types.stop:case e.types.tap:var i=t.originalEvent.originalEvent,r=i.target,f=document.createEvent("MouseEvent");f.initMouseEvent("click",!1,!1,u,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,null);r.tagName!=="A"&&(r=n(r).parentsUntil("LI","A")[0]);r&&r.dispatchEvent(f)}}var o=t,r=o.children(i.navSelector),a=r.children(),ut=o.find("button").first(),ft=o.find("button").last(),b=r.position().left,l=0,tt=0,v=0,k="show-left",d="show-right",et="show-left show-right",pt="current",ot=0,y=0,it="data-width",st=0,rt=!1,wt=s(1.2),g=o.children(".mylink"),bt=f.ltr?r[g.index()-1].offsetLeft:o.width()-(r[g.index()-1].offsetLeft+r[g.index()-1].offsetWidth),kt=g.children().length!=0&&r!=null?bt-r.first().width():0;return{setup:dt,teardown:gt,update:ni}}var h="left",c=!1,a,l;return i.csstransforms&&r.isCapable("AllowTransform2d")&&(h="translateX({0}px)",c=!0),a=n(u),l={navSelector:"ul",navItemSelector:"ul > li"},t(v,l)});define("scrollStop",["jquery","jqBehavior","touchGestures"],function(n,t,i){function f(t,f){function o(){e===!1?e=!0:clearTimeout(s);s=setTimeout(a,l)}function h(){e&&o()}function a(){e=!1;t.trigger("scrollStop")}var c=n.extend({},u,f),l=c.delay,e,s;return{setup:function(){e=!1;t.on("scroll",o);if(i.settings.touchSupported)t.on(r,h)},teardown:function(){t.off(r,h);t.off("scroll",o)}}}var u={delay:100},e=i.settings.start.join(" "),r=i.settings.move.join(" ");return t(f,{})});define("searchBing",["jquery","jqBehavior","track","device"],function(n,t,i,r){return r.capability("SupportFixedPosition")!=="false"&&r.capability("SupportFixedPosition")||n("body>.head").addClass("unfixposition"),t(function(t){function f(){var n=t.attr("action"),r=t.attr("target");i.trackEvent({type:"submit",target:t[0]},null,u);t.attr("action",u).attr("target","_blank").submit().attr("action",n).attr("target",r)}var r=n("button[name='bingSearch']",t),e=n("body>.head"),u=t.data("bing-action-uri");return{setup:function(){r.on("click",f)},teardown:function(){r.off("click",f)}}})});define("searchTargetSelf",["jqBehavior"],function(n){function u(n){return i=n.attr(t),{setup:function(){n.attr(t,r)},teardown:function(){n.attr(t,i)}}}var t="target",r="_self",i;return n(u)});define("socialPlugins",["jquery","jqBehavior","format","escape","socialPlugins.tokens"],function(n,t,i,r,u){function o(n,t){function e(){if(t.facebookLikeUrl&&t.facebookButtonWidth){var e="//www.facebook.com/plugins/like.php?locale="+r.urlPart(u.facebookLang)+"&href="+r.urlPart(t.facebookLikeUrl)+"&amp;send=false&amp;layout=button_count&amp;width=450&amp;show_faces=false&amp;font&amp;colorscheme=light&amp;action=like&amp;height=21";n.find(t.facebookSelector).append(i(f,e,t.facebookButtonWidth))}}function o(){var e,o;t.twitterFollowScreenName&&t.twitterButtonWidth&&(e="//platform.twitter.com/widgets/follow_button.html?show_screen_name="+t.twitterShowScreenName+"&screen_name="+r.urlPart(t.twitterFollowScreenName)+"&show_count=false&lang="+r.urlPart(u.twitterLang),n.find(t.twitterSelector).append(i(f,e,t.twitterButtonWidth)),t.twitterShowScreenName&&(o=t.twitterButtonWidth,typeof InstallTrigger!="undefined"&&(o=parseFloat(t.twitterButtonWidth)+.3+"rem"),n.find(t.twitterBreakingNewsSelector).append(i(f,e,o))))}window.setTimeout(function(){e();o()},t.delay)}var e={facebookSelector:"#fbcount",twitterSelector:"#twcount",twitterBreakingNewsSelector:"#bnewstwcount",delay:u.loadDelay},f='<iframe src="{0}" scrolling="no" frameborder="0" allowTransparency="true" allowTransparency="true" style="width:{1};"><\/iframe>';return t(o,e)});define("truncate",["jquery","jqBehavior","mediator","requestAnimationFrame","measure","format","truncate.tokens","perfMarker"],function(n,t,i,r,u,f,e){function l(t,e){function st(){var i,f,e,o,r;if(it){for(it=!1,i=l;i--;){for(f="",e=0,r=t[i].firstChild;r!=null;)r.nodeType==1?(++e,o=r):r.nodeType==3&&(f+=r.nodeValue),r=r.nextSibling;e==1&&n.trim(f)==""&&(p[i]=o)}for(i=l;i--;)w[i]=u(t[i]),v[i]=(p[i]||t[i]).innerHTML,nt[i]=t[i].title}else ot();for(i=l;i--;)rt(i),b[i]=v[i],y[i]=!0;ut()}function ht(){for(var n=l;n--;)rt(n),y[n]=t[n].scrollHeight>a[n];ut()}function rt(n){var i=t[n];if(i&&i.parentNode){var r=w[n],o=i.getAttribute("data-truncate-lines")||e.truncateLines,u=parseFloat(r("paddingTop")),s=parseFloat(r("paddingBottom")),h=r("lineHeight"),f=parseFloat(r("maxHeight"));o?(a[n]=parseFloat(h)*o+s,a[n]>f&&(a[n]=f),a[n]+=u):a[n]=(f||i.clientHeight)+u;a[n]=a[n]+.5|0;tt[n]=i.clientWidth;g[n]=u+2*parseFloat(h)+s+.5|0}else w[n]=p[n]=null,y[n]=d[n]=!1}function ut(){for(var f=!0,e=1e3,i,r,u;f&&--e;){for(f=!1,i=l;i--;)if(y[i])if(d[i]=t[i].scrollHeight>a[i],d[i]){if(k[i]=!0,t[i].scrollHeight<g[i]){ft(i);continue}r=b[i];r.slice(-s)==o&&(r=r.slice(0,-s));u=c.exec(r);u&&u[0]!=r?(f=!0,t[i].scrollHeight>a[i]*2&&(r=r.substr(0,r.length/2)),b[i]=r.substr(0,r.length-u[0].length)+o):ft(i)}else y[i]=!1;for(i=l;i--;)d[i]&&((p[i]||t[i]).innerHTML=b[i])}for(i=l;i--;)k[i]&&(t[i].title=n.trim(n("<span>"+v[i]+"<\/span>").text()))}function ft(n){var t=tt[n]-parseInt(w[n]("paddingLeft"))-parseInt(w[n]("paddingRight"));b[n]=t>0?f(h,v[n],t+"px"):v[n];y[n]=!1}function et(){r(st)}function ot(){for(var n=l;n--;)k[n]&&((p[n]||t[n]).innerHTML=v[n],t[n].title=nt[n],k[n]=!1)}var l=t.length,p=new Array(l),w=new Array(l),g=new Array(l),v=new Array(l),nt=new Array(l),tt=new Array(l),b=new Array(l),a=new Array(l),y=new Array(l),k=new Array(l),d=new Array(l),it=!0;return i.sub("truncate",function(){r(ht)}),{setup:et,teardown:ot,update:et}}var h='<span style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:{1}">{0}<\/span>',o=e.truncateEllipsis,s=o.length,c=/(?:\s|[,!\.\?:;])*([\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[^\s\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]+)(?:\s|[,!\.\?:;])*$/;return t(l,null,{each:1})});define("twitterComments",["jquery","jqBehavior","window"],function(n,t,i){function r(t){function r(t){t.preventDefault();i.open(n(this).attr("href"),"Twitter","status=0,toolbar=0,location=0,resizable=1,scrollbars=1,left="+(i.screen.width-250)/2+",top="+(i.screen.height-350)/2+",width=500,height=450")}return{setup:function(){t.find(".twitteractions > a").on("click",r)},teardown:function(){t.find(".twitteractions > a").off("click")}}}return t(r)});require(["window","jquery","device","mediator"],function(n,t,i,r){var f,u=t("meta[name=viewport]"),e=i.capability("Viewport_Landscape"),s=u.attr("content"),o=function(){n.innerHeight>n.innerWidth?u.attr("content",s):u.attr("content",e);r.pubChannel("update","mediaQuery")};u.length&&e&&(o(),t(n).resize(function(){clearTimeout(f);f=setTimeout(o,50)}))});require(["jquery","navigation","headData","webApp.tokens"],function(n,t,i,r){var u=/(\?|&)ver=[\d\.]+(&|$)/gi;n.ajaxPrefilter(function(n){var f;if(n=n||{},f=n.url,i.ssl===!0&&f.substr(0,7).toLowerCase()=="http://"&&(f="https://"+f.substr(7)),!n.notVersioning&&f&&t.isLocal(f)&&!f.match(u)){var e=f.split("#"),o=e[0],s=e[1]?"#"+e[1]:"";n.url=o+(o.indexOf("?")>-1?"&":"?")+"ver="+r.appVersion+s}})});require(["jquery","getCookie","setCookie","navigation","location","c.onload"],function(n,t,i,r,u){var f="ocid",e="hp",o="homepage",s="sky2",h=15;(function(){var c="",v=r.getParamsFromUrl(u.href);v&&v[f]&&(c=v[f].toLowerCase());var y=(c.indexOf(e)!=-1||c.indexOf(o)!=-1)&&c.indexOf(s)===-1,a=t(f),l=n("#user-profile").data("dhp_cookie_days");l=l!=undefined?l:h;y&&!a?i(f,c,l,i.topDomain,"/"):l>0&&!y&&a&&(a.indexOf(e)!=-1||a.indexOf(o)!=-1)&&i(f,"",-1,i.topDomain,"/")})()});define("trackingHelper.tokens",{tradeDoublerMarketId:"2811279",tradeDoublerProgramId:"261853",tradeDoublerAjaxUrlFormat:"{0}/{1}/{2}/tduidajax?epi={3}"});define("ajax",[],function(){function n(n){if(!n||!n.url){n.error&&n.error("Missing Url. Invalid parameters");return}var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState==4){if(t.status!=200&&n.error){n.error(t.status,t.statusText);return}n.success&&n.success(t.response)}};t.open("GET",n.url);n.dataType&&t.setRequestHeader("Content-Type",n.dataType);n.timeout>0&&(t.timeout=n.timeout);n.ontimeout&&(t.ontimeout=function(){n.ontimeout("Request timeout")});t.send()}return{get:n}});define("msnNativeAds",["jquery","jqBehavior","pageInstance","headData","getCookie","window","afire","mediator"],function(n,t,i,r,u,f,e,o){function c(t,i){function v(n){var t=n?n.elem:null;y(t)&&(r(),setTimeout(function(){o.unsub(h,v)},200))}function y(i){return i&&i.length&&n.contains(i[0],t[0])}function p(){var n=a.find("li").first();return y(n)}function r(){try{if(l)return;e&&s(e);c&&s(c);l=!0}catch(n){f.console&&f.console.log("error sending native trackers"+n.message)}}var u=i.ct,e=i.impr,c=i.eimpr,l=!1,a=t.parents(".ip");u&&t.click(function(){s(u)});a.length?p()?r():o.sub(h,v):r()}function s(n){e(n)}var h="infopane_navigation";return t(c)});deferredCanary="c.deferred";deferredCanary="c.postdeferred";require(["document",deferredCanary],function(){require({js:"//secure.adnxs.com/seg?add=6243298&t=1"})});require(["binding","c.dom"],function(n){require(["c.deferred"],function(){require(["jquery","imgSrc"],function(n,t){n("#user-profile img").each(function(){t.go(this)})});n("twitterComments","#breakingnews").all();n("marketDropdown","#site-market").all();n("marketDropdown",".marketswitch").all({triggerEvent:"click"});n("marketDropdown",".langtoggle").all({triggerEvent:"click"});require(["window","c.onload"],function(t){t.setTimeout(function(){n("socialPlugins","#social-plugins").all()},8e3);n("socialPlugins","#bnewssocial-plugins").all()})});n("poll",".pollcontainer").all();n("flyout",".megamenu").all({eventOrigin:"#header-common>h1>.vertical",skipContentOriginEventTargetCheck:!0});n("flyout","#username").all({eventOrigin:"#username>a,#username>figure"});n("flyout","#settings").all({eventOrigin:"#settings>a"});n("flyout","#language-toggle").view(n.views.SIZE34COLUMN,{eventOrigin:"#language-toggle>button"});n("searchBing","#srchfrm").all();n("navArrowScroll",".navinner").all();require(["c.onload"],function(){n("msnNativeAds","a.nativead").all()})});require(["sso","document","c.deferred"],function(n,t){n();var i=t.getElementsByTagName("head")[0];i&&i.getAttribute("data-pdp-stale")&&define("c.pdp",1)});define("searchHistory.tokens",{Header:"Recent Searches:",ManageHistory:"Manage History"});define("searchHistory",["jquery","jqBehavior","format","pageInstance","trackInfo","viewAware","searchHistory.tokens"],function(n,t,i,r,u,f,e){function s(t,i){function a(){f.currentView()&f.views.SIZE4COLUMN?(o+=i.fourColAdj,s++):(o=i.maxLength,s=i.maxResults)}function h(){n.ajax({url:i.shUrl,dataType:"text",cache:!1,xhrFields:{withCredentials:!0},success:function(n){v(n)}})}function v(t){require(["c.deferred"],function(){var w,o,f,b,h,k,c,l,v;try{if(t&&t.length>2&&(a(),w={},w=eval("("+t+")"),o=w.UserHistory,o&&o.QuerySets&&(f=y(o.QuerySets),f&&(f=f.slice(0,s)),b=f.length,f&&b))){for(h=[],k=r.getActivityId()||u.sitePage.requestId,c=0;c<b;c++)l=f[c],l&&l.Text&&h.push(p(l,k));for(e.empty().append(n("<li>"+i.shLbl+"<\/li>")),v=0;v<h.length;v++)e.append(h[v]);e.append(n('<li class="clrsh">').append(n("<a>").text(i.manageHistory.manageText).attr({href:i.manageHistory.manageURL,title:i.manageHistory.manageText})));u.client.OTFSpecialSection("BingSeachHistory")}}catch(d){}})}function y(n){var r=null,t;if(!n)return r;for(t=0;t<n.length;t++)n[t].Type==i.queryType&&(r=n[t].Queries);return r}function p(t,r){var u=i.bingUrl+t.Url.replace(/FORM=[O|o]\d*MSN\d*/gi,"FORM={0}".format(c)),f,e;return u+="&refig="+r,u+="&httpsmsn=1",f=n("<a>").attr("href",u).text(t.Text).attr({title:t.Text,target:i.target}),e=t.Text.length<o?"<li>":'<li class="shrink">',n(e).append(f)}var c=i.shfc,o=i.maxLength,s=i.maxResults,l=n('<ul id="opensh"><\/ul>'),e;return t.after(l),e=n("#opensh"),h(),{update:function(){h()}}}var o={shUrl:"//www.bing.com/msnhomepagehistory.aspx",bingUrl:"https://www.bing.com",maxResults:4,queryType:"recent",maxLength:9,fourColAdj:8,target:"_blank",shLbl:e.Header,manageHistory:{manageText:e.ManageHistory,manageURL:"https://www.bing.com/profile/history/delete?rp=%2f&FORM=O2LH"},shfc:"PRHPHI"};return t(s,o)});require(["binding","c.deferred"],function(n){n("searchHistory","#srchfrm").view(n.views.SIZE34COLUMN)});define("touchEvents",["jquery","modernizr","window"],function(n,t,i){function p(){return"ontouchstart"in i}function a(n){return f(n),!1}function f(n){n.originalEvent&&n.originalEvent.preventManipulation&&n.originalEvent.preventManipulation();n.preventDefault();n.stopPropagation()}function w(n){var t=n.originalEvent.changedTouches||n.originalEvent.touches;return t&&t.length?t:[n]}function b(n){return n.x&&Math.abs(Math.atan(n.y/n.x))<y?s:l}function h(n,t){return n&&t?{x:n.x/t,y:n.y/t}:{x:0,y:0}}function e(n,t){return n&&t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}function o(t,i,r){n.each(u[i],function(n,u){t.bind(u,function(n){r(n,i)})})}function k(t,i){n.fn[t]=function(n,i){return n?this.bind(t,i,n):this.trigger(t,i)};n.event.special[t]={setup:function(t,r){i(n(this),t,r)}}}var v={direction:"all",preventDefaultOnStart:!0,maximumDistanceForClick:20,maximumTimeForClick:300,distanceBeforeDirectionDetection:0,maximumTimeForThrow:1200,minimumLastThrowSpeed:1,maximumTimeForSwipe:400,minimumDistanceForSwipe:30,directionChangeBuffer:5},y=Math.PI/4,c=n(i),r={touch:"touch",start:"start",move:"move",stop:"stop",cancel:"cancel",tap:"tap",swipeUp:"swipeUp",swipeRight:"swipeRight",swipeDown:"swipeDown",swipeLeft:"swipeLeft",throwUp:"throwUp",throwRight:"throwRight",throwDown:"throwDown",throwLeft:"throwLeft"},s="horizontal",l="vertical",u={touch:{start:["touchstart","touchenter"],stop:["touchend","touchleave"],move:["touchmove"],cancel:["touchcancel"],preventDefaultOnStart:!1,mimickBrowserScroll:!1},mouse:{start:["mousedown"],stop:["mouseup"],move:["mousemove"],cancel:["mouseleave"],preventDefaultOnStart:!1,mimickBrowserScroll:!1}};return n.each({touch:t.touch||p(),mouse:!0},function(n,t){return t&&(u=u[n]),!t}),k(r.touch,function(t,y){function ft(){ut=p=k=g=it=nt=0}function rt(o,a){var v=w(o);u.preventDefaultOnStart&&f(o);(ut||it&&p.totalDistance>=d.maximumDistanceForClick)&&(ut=!0,f(o));(p||a==r.start)&&n.each(v,function(v,y){var w,ot,ct,lt,ut;if(et(y),w={touchType:a,coord:{x:y.pageX,y:y.pageY},screenCoord:{x:y.screenX,y:y.screenY},scrollCoord:{x:c.scrollLeft(),y:c.scrollTop()},count:k?k.count+1:0,time:(new Date).getTime()},a==r.start&&(ft(),tt=!1,p=n.extend({totalDistance:0},w),k=n.extend({},w)),w.delta=e(w.coord,k.coord),w.screenDelta=e(w.screenCoord,k.screenCoord),w.duration=w.time-k.time,w.speed=h(w.delta,k.duration),p.delta=e(w.coord,p.coord),p.screenDelta=e(w.screenCoord,p.screenCoord),p.totalDistance+=Math.sqrt(Math.pow(w.delta.x,2)+Math.pow(w.delta.y,2)),ot=d.direction==s,k&&k.speed&&(ct=ot?w.delta.x:w.delta.y,lt=ot?k.delta.x:k.delta.y,ct*lt<0&&(p.movecoord=w.coord,p.movetime=w.time)),p.movecoord&&(p.movechange=e(w.coord,p.movecoord),p.moveduration=w.time-p.movetime,p.movespeed=h(p.movechange,p.moveduration)),p.duration=w.time-p.time,p.speed=h(p.delta,p.duration),g=b(p.delta),p.totalDistance>d.distanceBeforeDirectionDetection&&d.direction!="all"&&!it&&!nt&&(p.direction=g,d.direction!=g?(nt=!0,w.touchType=r.cancel):p.totalDistance>d.maximumDistanceForClick&&(it=!0,f(o))),w.touchType==r.stop){var st=(p.movechange||p.delta).x,ht=(p.movechange||p.delta).y,at=p.moveduration||p.duration,rt=g==s,yt=rt?Math.abs(p.speed.x):Math.abs(p.speed.y),pt=rt?Math.abs(w.speed.x):Math.abs(w.speed.y),wt=rt?Math.abs(k.speed.x):Math.abs(k.speed.y),vt=Math.max((pt+wt)/2,yt);p.duration<d.maximumTimeForClick&&p.totalDistance<d.maximumDistanceForClick?(tt=!0,w.touchType=r.tap):(w.distance=Math.abs(rt?st:ht),vt>.3&&(at<d.maximumTimeForSwipe?w.touchType=rt?st>0?r.swipeRight:r.swipeLeft:ht>0?r.swipeDown:r.swipeUp:at<d.maximumTimeForThrow&&vt>d.minimumLastThrowSpeed&&(w.touchType=rt?st>0?r.throwRight:r.throwLeft:ht>0?r.throwDown:r.throwUp)))}(k.touchType!=w.touchType||k.coord.x!=w.coord.x||k.coord.y!=w.coord.y)&&(nt&&w.touchType!=r.cancel||(ut=n.Event(r.touch,{current:w,last:k,start:p,direction:g,originalEvent:o}),t.trigger(ut),tt=ut.allowClick!==!1,ut.isDefaultPrevented()&&o.preventDefault(),ut.isPropagationStopped()&&o.stopPropagation(),ut.isImmediatePropagationStopped()&&o.stopImmediatePropagation()));nt&&u.mimickBrowserScroll&&g==l&&(p.scrollCoord.y-=w.screenDelta.y,n(i).scrollTop(p.scrollCoord.y));a==r.stop||a==r.cancel?ft():k=w})}function et(n){n.pageX||n.originalEvent&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY,n.screenX=n.originalEvent.screenX,n.screenY=n.originalEvent.screenY,n.pointerId=n.originalEvent.pointerId,n.identifier=n.originalEvent.identifier)}var p,k,g,it,ut,nt,tt=!1,d=n.extend({},v,y);ft();t.find("*").addBack().each(function(){n(this).attr("draggable",!1).attr("selectable",!1).bind("ondragstart",a).bind("drag",a).not(".mobilead").not(".ip,.ip *").bind("click",function(n){return tt||f(n),tt});this.onselectstart!==undefined?this.onselectstart=function(){return!1}:this.style.MozUserSelect!==undefined&&(this.style.MozUserSelect="none")});o(t,r.start,rt);o(t,r.move,rt);o(t,r.stop,rt);o(t,r.cancel,rt)}),r});define("jqueryPlus",["jquery","modernizr","device","screen","requestAnimationFrame","deviceGroup"],function(n,t,i,r,u,f){function b(n){var t=n.match(a);return t&&t.length>2?t[2].split(","):[]}function v(n){var t=b(n),i=t.length;return parseFloat(i==6?t[4]:i==16?t[12]:0)}function y(n){return parseFloat(n.css("font-size"))||12}function k(){var u,t,i,n,r;for(u in o){t=o[u];for(i in t)i.indexOf("$")!=0&&(n=t[i],n&&(r=(new Date).getTime()-n.animation.startTime,r>=n.animation.options.duration?w(t,n):d(t,n,r)))}p()}function p(){s.length?(l=!0,u(function(){k()})):l=!1}function d(t,i,r){var h=i.animation.options.easing||"swing",e=n.easing[h],o=i.animation.options.step,u,f,s;o&&(i=o(i));u=i.startValue;e&&(f=i.animation.options.duration,s=e(r/f,r,0,1,f),u=i.startValue+s*(i.endValue-i.startValue)||i.startValue);t.$element.css(i.name,u)}function w(t,i,r){var f=i.name,u;r||t.$element.css(f,i.endValue);u=i.animation;delete o[t.$element.uniqueId()];delete u.properties[f];delete t[i];u.properties.length||(u.options.complete&&u.options.complete(),n.inArray(u,s)+1&&s.splice(n.inArray(u,s),1))}var h=t.prefixed("transform")||"transform",e,a,c,o,s,l;return(n.fn.innerHeight=function(){var n=this[0];return n&&n.innerHeight?n.innerHeight:this.height()},e={},Number.prototype.mod=function(n){return e[this]||(e[this]={}),e[this][n]||(e[this][n]=(this%n+n)%n),e[this][n]},t.translateXCss=t.csstransforms3d&&i.isCapable("AllowTransform3d")?"translateX3d":t.csstransforms&&i.isCapable("AllowTransform2d")?"translateX":"left",a=new RegExp("matrix(3d)?\\(([0-9-., ]*)\\)","i"),n.cssHooks.translateX={get:function(t){var i=n(t).css(h);return v(i)},set:function(t,i){n(t).css(h,i===""?i:"translateX("+i+")")}},n.fx.step.translateX=function(t){n.cssHooks.translateX.set(t.elem,t.now+t.unit)},n.cssHooks.translateX3d={get:function(t){var i=n(t).css(h);return v(i)},set:function(t,i){n(t).css(h,i?"translate3d("+i+",0,0)":"")}},n.fx.step.translateX3d=function(t){n.cssHooks.translateX3d.set(t.elem,t.now+t.unit)},n.extend(n.easing,{easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i}}),n.fn.pxToEm=function(n,t){if(!n)return 0;var i=y(t||this);return parseFloat(n)/i+"em"},n.fn.toPx=function(n,t){var i=0;return n&&(i=parseFloat(n),n.indexOf("em")!=-1&&(i*=y(t||this))),i},c=0,n.fn.uniqueId=function(){var t=n(this).data("uniqueId");return t||(c++,t=c,n(this).data("uniqueId",t)),t},o={},s=[],f.isPc)?n:(n.fn.animate=function(t,i){for(var f,r,a,v,y=(new Date).getTime(),e=0;e<this.length;e++){var h=n(this[e]),c=h.uniqueId(),u=o[c];u||(u=o[c]={$element:h});i.step&&typeof i.step!="function"&&(i.step=null);f={properties:t,options:i,startTime:y};s.push(f);for(r in t)u[r]&&w(u,u[r],!0,f),a=t[r],v=h.css(r),u[r]={name:r,startValue:v,endValue:a,animation:f}}return l||p(),n(this)},n.fn.stop=function(){return n(this)},n)});define("tabKeyPressed",["jquery"],function(n){var t=!1;n(document).on("keydown",function(n){n.keyCode==9&&(t=!0)}).on("keyup",function(n){n.keyCode==9&&(t=!1)});return function(){return t}});require(["jquery","window","mediator","c.deferred"],function(n,t,i){function e(){f.scrollTop()?r.addClass(u):r.removeClass(u)}var r=n("body>.head"),f=n(t),u="scrolled";i.sub("viewport_scroll_change",e)});require(["jquery","binding","c.dom"],function(n,t){var i=n("html");require(["c.deferred"],function(){i.addClass("loaded")});n(".ad a.adchoices").removeClass("adchoices").addClass("adchoicesjs");t("searchTargetSelf","#srchfrm").view(t.views.SIZE12COLUMN);t("searchScope","#search-scope").view(t.views.SIZE3COLUMN|t.views.SIZE4COLUMN);t("truncate",".truncate").all()});define("adMonitoring",["adTelemetry","adCommon","document","window"],function(n,t,i,r){var u;return function(f,e,o){function g(){if(h=p(f.elem,"div",k),a=h&&h.id&&h.id.substr(d),!a)return!1;var n=new RegExp("[a-zA-Z0-9]+_"+a);return(y=s&&p(s,"div",n),!y)?!1:!0}function l(i){var nt=!u||u.length==0,p,g,k,d,h,s,y,a;if(++c,nt){for(u=[],p=i&&i.elem&&i.elem.querySelectorAll("div"),s=0;h=p[s];++s)g={id:h.id,w:h.offsetWidth,h:h.offsetHeight},u.push(g);v=r.addEventListener?setInterval(l.bind(this,i),e<<1):setInterval(function(){l(i)},e<<1);return}if(p=i&&i.elem&&i.elem.querySelectorAll("div"),k=!1,d=!1,u&&u.length>0)for(s=0;h=p[s];++s)(y=u[s],a={id:h.id,w:h.offsetWidth,h:h.offsetHeight},y&&y.id==a.id)&&(k=y.w!=a.w||y.h!=a.h,k&&(u[s].w=a.w,u[s].h=a.h),d|=k);(!d&&c>b||c==w)&&(clearInterval(v),c=0,u=[],typeof o=="function"&&o(!0,!0),t.setAdContainerDisplayState(f.htmlid,f.isVisible,f.canBeDisplayed||f.isRendered,f.canDisplayAdChoices),n.recordAdOperation(i,"usrszch",!1,i.sizeCharacteristics.adSizeType,!1),t.updateElementData(i.telemetry,"w",i.sizeCharacteristics.actualWidth),t.updateElementData(i.telemetry,"h",i.sizeCharacteristics.actualHeight))}function p(n,t,i){var f,r,u;if(n&&n.querySelectorAll)for(f=n.querySelectorAll(t),u=0;r=f[u];++u)if(i.test(r.id))return r;return null}var a,h,y,c=0,v,w=5,b=3,k=/ebDiv[0-9]+/i,d=5,s;(s=i.getElementById("eyeDiv"),f&&!f.isMonitored&&g(f))&&(r.addEventListener?(s.addEventListener("mousedown",l.bind(this,f)),f.isMonitored=!0):r.attachEvent?(s.attachEvent("onmousedown",function(){l(f)}),f.isMonitored=!0):f.isMonitored=!1)}});define("arrowScroll",["jquery","jqBehavior","imgSrc","remToPixel","scrollLeft","dir.tokens","elementTrackingDecorator","perfMarker","requestAnimationFrame"],function(n,t,i,r,u,f,e,o,s){function h(t,o){function tt(){d=o.reduceScrollAmount?r(o.reduceScrollAmount):0;o.reposition&&l[0]&&(a=u(l[0]));h.on(w,et);c.on(w,ot);s(function(){k()});l.on("scroll",k)}function it(){h.off(w,et);c.off(w,ot);l.off("scroll",k)}function st(){it();tt()}function k(){if(ht(),!y){lt();return}p>=0&&p<=nt?(f.ltr?ft:ut)():p>nt&&p<y?at():p===y&&(f.ltr?ut:ft)()}function rt(n){l.animate({scrollLeft:u.adjustValue(l[0],ct(n))},{queue:!1,duration:220,complete:function(){k()}})}function ht(){var n=l[0];n&&(b=n.clientWidth,p=u(n),y=n.scrollWidth-b-o.scrollOffset,i.loadInViewport&&i.loadInViewport(t[0]))}function ct(n){return f.ltr||(n*=-1),n==-1?a>0&&(a-=b-d+o.scrollOffset,a<0&&(a=0)):n==1&&a<y&&(a+=b-d+o.scrollOffset,a>y&&(a=y)),a}function lt(){h.removeClass(v);c.removeClass(v)}function at(){h.addClass(v);c.addClass(v)}function ut(){c.removeClass(v);h.addClass(v)}function ft(){h.removeClass(v);c.addClass(v)}function et(){rt(-1)}function ot(){rt(1)}function vt(){h=n('<button class="stripearrow"><\/button>');e.setTrackingForSingleElement(h,l,{defaults:{n:"prevStripArrow"}});c=n('<button class="stripearrow"><\/button>');e.setTrackingForSingleElement(c,l,{defaults:{n:"nextStripArrow"}});l.before(h).after(c)}var h,c,g="button",w="click",l=o.scrollRegion?t.find(o.scrollRegion):t.children("div"),p=0,nt=1,y=0,v="show",a=0,b,d;return o.addArrowButtons?vt():(h=t.find(g).first(),c=t.find(g).last()),{setup:tt,update:st,teardown:it}}return t(h,{addArrowButtons:!1,reduceScrollAmountForArrows:!1,scrollOffset:0,reposition:!1})});define("meFacebook",["jquery","jqBehavior","navigation","meModule","meModule.Tokens","window","headData","getCookie","setCookie","mediator","elementTrackingDecorator","meStripeTelemetry","location","track"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function ft(t){var i={notificationCounts:{messages:0,notifications:0},init:function(t,r){n("head").prepend("<style id='fb-animation-fix'><\/style>");f.fbAsyncInit=function(){f.FB.init({appId:t,xfbml:!1,cookie:!0,version:"v2.0"});i.ready()},function(n,t,i){var u,f=n.getElementsByTagName(t)[0];n.getElementById(i)||(u=n.createElement(t),u.id=i,u.src="//connect.facebook.net/"+r+"/sdk.js",f.parentNode.insertBefore(u,f))}(document,"script","facebook-jssdk");i.bindEvents()},bindEvents:function(){t.on("click",it,function(){t.find(".meflyout").hasClass(r.classNames.signout)&&i.login()})},ready:function(){var e,u;if(f.FB){if(e=o(g),e){i.logout();s(g,0,-1);return}f.FB.getLoginStatus(function(n){n&&n.status==="connected"?r.deferredFlyoutOnHover(t,"FacebookFlyoutVisible",i.getNews):l.updateFacebookAop(!1)});u=n(".fb-page");f.FB.Event.subscribe("edge.create",function(){v.trackEvent({type:"click_nonnav",target:u},"","","User liked our page");s("likePromptDisabled","true",180,s.topDomain,"/")});f.FB.Event.subscribe("edge.remove",function(){v.trackEvent({type:"click_nonnav",target:u},"","","User un-liked our page");s("likePromptDisabled","false",180,s.topDomain,"/")})}},getNews:function(){h.unsub("FacebookFlyoutVisible",i.getNews);r.updateFlyout(t,y,{showProgress:!0},!0,d,i.logout);i.notificationCounts.messages=0;i.notificationCounts.notifications=0;i.updateNotifications();n.ajax({url:b,cache:!1,timeout:ut,crossDomain:!0,xhrFields:{withCredentials:!0}}).fail(function(n,t){r.logAjaxError(t,"Facebook","get news");i.updateFlyout({signedIn:!0,error:!0})}).done(function(n){i.updateFlyout({result:n,signedIn:!0,error:!1})})},updateFlyout:function(u){var e={},s=u.signedIn,h=u.result,o,a,f;i.notificationCounts.notifications=0;i.notificationCounts.messages=0;s?u.error?e.showError=!0:(o=h&&h.trim(),o?(f=n(o),i.notificationCounts.notifications=f.data("notifications-count")||0,i.notificationCounts.messages=f.data("messages-count")||0,a=f.find("li"),a.length?(f=n("<div>"+o+"<\/div>"),c.setTrackingAttrs(f,t,{defaults:{n:y+".content"}}),e.content=f.html()):e.showNoContent=!0):e.showNoContent=!0):e.signedOutImageUrl=w;r.updateFlyout(t,y,e,s,d,i.logout);i.updateNotifications();l.updateFacebookAop(s)},updateNotifications:function(){var n=i.notificationCounts.messages,u=i.notificationCounts.notifications,f=n+u,e=f&&f>0,o=[{index:0,count:n,displayNotification:n>0},{index:1,count:u,displayNotification:u>0}];r.updateNotifications(t,".facebook",o,p,{maxNotifications:rt,count:f,updateInTile:!0,updateInTask:!0,displayNotification:e})},login:function(){f.FB&&f.FB.login(function(n){n.authResponse&&i.getNews()},{scope:tt})},logout:function(n){n&&n.preventDefault();try{f.FB.getLoginStatus(function(n){n.status==="connected"?f.FB.logout(function(){i.updateFlyout({signedIn:!1})}):i.updateFlyout({signedIn:!1})},!0)}catch(t){i.updateFlyout({signedIn:!1})}}};return{setup:function(){var o,n,u;if(e&&e.clientSettings&&e.clientSettings.fbid){o=e.clientSettings.fbid;n="en_US";w||(w=t.find(r.selector.contentDiv).data("signedout-image-url"));try{u=r.info.locale.split("-");n=u[0]+"_"+u[1].toUpperCase()}catch(s){}i.init(o,n)}else f.console&&f.console.warn&&f.console.warn("Missing fbid in data-client-settings. Can't initialize the Facebook module for this origin: "+f.location.origin)},facebook:i}}var nt=r.info.httpsOrigin+"/"+r.info.locale,b=nt+"/homepage/Facebook/Data",k=a.href.split("?")[1],y="facebook";typeof k!="undefined"&&(b+="?"+k);var tt="read_stream,manage_notifications,read_mailbox",p=u.tile.facebook[1],d=r.selector.tasks[0],it=r.selector.flyoutFooter,rt=p.maxNotifications,ut=p.requestTimeout,w,g="FBForceSignout";return t(ft)});define("meTwitter",["jquery","jqBehavior","navigation","meModule","meModule.Tokens","getCookie","window","document","track","mediator","meStripeTelemetry","headData"],function(n,t,i,r,u,f,e,o,s,h,c,l){function tt(t,i){function g(){e.twttr=function(n,t,i){var u,o=n.getElementsByTagName(t)[0],f=e.twttr||{},r=f.impressions||{};return(r._e=r._e||[],r.ready=r.ready||function(n){r._e.push(n)},f.impressions=r,n.getElementById(i))?f:(u=n.createElement(t),u.id=i,u.src="//platform.twitter.com/impressions.js",o.parentNode.insertBefore(u,o),f)}(o,"script","twitter-impressionsjs")}function y(n,f){var o=n.signedIn&&f!=="USER_AUTH_FAILED",s=n.error,e={},h;o?(l.twitterimpenabled&&g(),h=u.tile.twitter[1],s?e.showError=!0:f&&f.trim()?e.content=f:e.showNoContent=!0):e.signedOutImageUrl=p;r.updateFlyout(t,"twitter",e,o,r.selector.tasks[2],w);o?tt():r.attachSignInPopupWindow(t,v,i.popupWidth,i.popupHeight);c.updateTwitterAop(o);nt()}function nt(){if(e.twttr&&e.twttr.impressions){var n=t.find(r.selector.contentList).get();n&&n.length&&e.twttr.impressions.ready(function(t){t.impressions.logTweets(n)})}}function w(t){t.preventDefault();n.get(k).always(y.bind(null,{signedIn:!1,error:!1}))}function tt(){var i,u,f;t.find(r.selector.contentItem).off(a).on(a,function(t){var i=n(this).data("landingurl"),r=t.target||t.srcElement;i&&r&&r.tagName.toLowerCase()==="p"&&(e.open(i,"_blank"),s.trackEvent({type:"click",target:this}))});t.find(".tweetactions a").off(a).on(a,function(n){var t=n.target||n.srcElement;t&&t.href&&(n.preventDefault(),it(t.href))});i=t.find(r.selector.contentList);u=i.length?i.data("meurl"):null;u&&(f=t.find(r.selector.tasks[1]),f.length&&(f[0].href=u))}function it(n){var i=550,t=420,r=screen.height,u=screen.width,f=Math.round(u/2-i/2),o=r>t?Math.round(r/2-t/2):0;e.open(n,"intent","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+i+",height="+t+",left="+f+",top="+o)}return e.populateTweets=function(){h.unsub("TwitterFlyoutVisible",e.populateTweets);r.updateFlyout(t,"twitter",{showProgress:!0},!0,r.selector.tasks[1],w);n.ajax({url:b,type:"GET",cache:!1,timeout:i.timeout,crossDomain:!0,xhrFields:{withCredentials:!0}}).fail(function(n,t){r.logAjaxError(t,"Twitter","get tweets");y({signedIn:!0,error:!0})}).done(y.bind(null,{signedIn:!0,error:!1}))},{setup:function(){p||(p=t.find(r.selector.contentDiv).data("signedout-image-url"));f(d)?r.deferredFlyoutOnHover(t,"TwitterFlyoutVisible",e.populateTweets):(r.attachSignInPopupWindow(t,v,i.popupWidth,i.popupHeight),c.updateTwitterAop(!1))}}}var g={popupWidth:500,popupHeight:500,timeout:u.tile.twitter[1].requestTimeout},a="click",w=r.info.origin+"/"+r.info.locale+"/homepage/",nt=r.info.httpsOrigin+"/"+r.info.locale+"/homepage/",b=nt+"Twitter/Tweets",v=w+"Twitter/Authorize",y=location.href.split("?")[1],k,d,p;return typeof y!="undefined"&&(b+="?"+y,v+="?"+y),k=w+"Twitter/SignOut",d="TwitterSignedIn",t(tt,g)});define("meOffice",["jquery","jqBehavior","mediator","refreshModules","meStripeTelemetry"],function(n,t,i,r,u){function f(t,f){function c(){var i=t.find("section li time");i.each(function(){var t=new Date(n(this).attr("datetime"));t&&n(this).html(t.toLocaleString())})}function a(){s=t.find("[data-module-id]").eq(0);s.length&&(o=s.data("moduleId"),o&&(h="moduleRefreshed-"+o,i.sub(h,c)))}function v(){t.hasClass("office")?u.updateOfficeAop():u.updateOnenoteAop()}function l(){i.unsub(f.eventName,l);r(e).done(function(){c();a();v()})}var e,s,o,h;return{setup:function(){e=t.find("[data-module-deferred-hover], [data-module-deferred]").not("[data-sso-dependent]");e.length&&e.data("module-deferred-hover")&&e.html("<p class='meloading'><\/p>");i.sub(f.eventName,l)},teardown:function(){o&&i.unsub(h,c)}}}return t(f)});define("loadMeImages",["jquery","jqBehavior","imgSrc"],function(n,t,i){function r(t,r){function e(){u.length==0&&r.selectOnHover&&(u=n(r.imagesToLoad));u.each(function(){i.go(this)});r.selectOnHover&&n(r.flyout).addClass("lzy")}var u=n(r.imagesToLoad),o=navigator.pointerEnabled||navigator.msPointerEnabled?"pointermove MSPointerMove":"mousemove",f=o+" touchstart MSPointerDown pointerdown";return{setup:function(){t.one(f,e)},teardown:function(){t.off(f,e)}}}return t(r)});define("outlookInbox",["jquery","jqBehavior","outlookModel","outlookInbox.tokens","format","headData","meModule","meModule.Tokens","meStripeTelemetry","setCookie","location","trackInfo","track","perfMarker"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y=o.tile.mail[1],p=function(t,r){function u(){function c(n){v("TimeToOutlookReturn",!0);u&&a(n);l(n);s.updateOutlookAop()}function l(n){var i=n.unre;e.updateNotifications(t,".mail",0,y,{count:i,updateInTile:!0,updateInTask:!1,displayNotification:i>0})}function a(n){var i=n&&n.msgs?w(n.msgs):null;i?e.updateFlyout(t,"mail",{content:i},!0):h()}function w(t){var i="",r=o.tile.mail[1].piiText,u=o.tile.mail[1].piiUrl;return n.each(t,function(n,t){var f=new Date(t.date),e="<li "+d(t)+'><a href="'+t.murl+'" target="_blank" data-piitxt="'+r+'" piiurl="'+u+'"><span class="from">'+t.name+"<\/span><p>"+t.subj+'<\/p><time datetime="'+f.toISOString()+'">'+f.toLocaleString()+"<\/time><\/a><\/li>";i+=e}),i&&(i="<ul>"+i+"<\/ul>"),i}function b(){e.updateFlyout(t,"mail",{showProgress:!0},!0)}function k(){u&&(h(),s.updateOutlookAop())}function h(){var n="<span>"+y.refreshPageErrorMessage+"<\/span><span>"+y.viewInboxErrorMessage+"<\/span> <a href='"+y.headerUrl+"' target='_blank'> "+y.tileTitle+"<\/a>";e.updateFlyout(t,"mail",{showError:!0,errorMessage:n},!0)}function d(n){return n.read?"":'class="unread"'}if(!f.signedin){s.updateOutlookAop();require(["c.sso"],p.bind(null,t,r));return}var u=i.isPcDeviceGroup();b();i.getOutlookData().done(c,k)}u()};return t(p)});define("meBingRewards",["jquery","jqBehavior","headData","meModule","meModule.Tokens","getCookie","meStripeTelemetry","mediator","navigation","elementTrackingDecorator","window",],function(n,t,i,r,u,f,e,o,s,h){function d(t,o){function it(){var n={PartnerId:v.rewardsPartnerID,UserId:p,Channel:v.rewardsChannel,Options:{FetchOffers:!0,OfferLayoutType:v.offerLayoutType}};ut(n)}function rt(n,i){r.logAjaxError(n,"meBingRewards","get bing rewards "+i);r.updateFlyout(t,c,{showError:!0},!0);e.updateBingrewardsAop()}function ut(t){n.ajax({url:v.rewardsApiUrl,type:"POST",dataType:"json",data:JSON.stringify(t)}).fail(function(n,t){rt(t,"AJAX Fail")}).done(function(n){ft(n)})}function ft(i){i?i.RewardsUser?(et(i),i.UserAttributes&&(a=i.UserAttributes.MicrosoftRewardsMigrationDateTimeUtc,a&&n(".mestripe > ul > li.bingrewards > a").attr("href","https://account.microsoft.com/rewards/dashboard")),ht(i),vt(i)):(r.updateFlyout(t,c,{showError:!1,showProgress:!1,signedOutImageUrl:y},!1),tt()):(r.logAjaxError("custom","meBingRewards","No data received from Bing"),r.updateFlyout(t,c,{showError:!0},!0));e.updateBingrewardsAop()}function et(n){for(var i,t=0;t<n.Offers.length;t++)i=ot(n.Offers[t]),n.Offers[t].source=i.source,n.Offers[t].order=i.order;return n}function ot(n){var i="",r=0,u=s.getParamsFromUrl(n.Url,!1,!0),t;return u.url&&(t=s.getParamsFromUrl(u.url,!1,!0),t.source&&(i=t.source),t.order&&(r=t.order)),{source:i,order:r}}function st(){var n=f("ANON"),t,i;return n&&(t=n.indexOf("="),i=n.indexOf("&"),t!==-1&&i!==-1)?n.substring(t+1,i):""}function ht(i){var u=at(i);if(u==null){r.logAjaxError("custom","meBingRewards","rewards offers not set");r.updateFlyout(t,c,{showError:!0},!0);return}r.updateFlyout(t,c,{content:u},!0);n(".bingrewards .signin").addClass(a?"ms":"bing")}function tt(){var r=n(".signout section",t),u='<div class="footer"><ul><li><a href="'+l.joinNowUrl+'">'+l.joinNowText+(i.signedin?"":'<\/a><\/li><li><a href="'+k+'">'+l.signInText)+"<\/a><\/li><\/ul><\/div>",f=h.setTrackingAttrs(n(u),t[0],{defaults:{n:c+b}},!0);n(".mefoot",r).replaceWith(f)}function ct(n){return n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function lt(i,r){var u='<div><a href="https://'+(a?"account.microsoft.com/rewards/dashboard":"www.bing.com/rewards/dashboard")+'" target="_blank"><span>'+(a?l.hdrMsText:l.hdrText)+'<\/span><\/a><a class="status '+(a?"":i.toLowerCase())+'" href="https://'+(a?"account.microsoft.com":"www.bing.com")+'/rewards/redeem/all" target="_blank">'+ct(r)+"<\/a><p>"+l.hdrDesc+'<\/p><div><a target="_blank"><h3>'+l.subhdrtext+"<\/h3><\/a><\/div><\/div>",f=h.setTrackingAttrs(n(u),t[0],{defaults:{n:c+b},selector:"a"},!0);return f.html()}function at(i){var e="",s=t.find(".meflyout.hover").length>0||t.find(".lzy").length>0?!1:!0,u,r;i.Offers=i.Offers.sort(function(n,t){if(t.ActivityType===w)return-1;if(n.ActivityType===w)return 1;if(!n.Completed&&t.Completed)return-1;if(n.Completed&&!t.Completed)return 1;var i="msn";if(n.source===i&&t.source!==i)return-1;if(n.source!==i&&t.source===i)return 1;if(n.source===t.source){if(n.order<t.order)return 1;if(n.order>t.order)return-1}return 0});var o=Math.min(i.Offers.length,v.maxOfferCount),h=i.Offers[i.Offers.length-1].ActivityType===w,c=n(".mestripeouter").data("emptygif");for(u=0;u<o;u++){r=i.Offers[u];u===o-1&&h&&(r=i.Offers[i.Offers.length-1]);var y=r.Completed?' class="chk"':"",p=s?c+'" class="image" data-src="{&quot;default&quot;:&quot;'+r.SmallImageUrl+"&quot;}":r.SmallImageUrl,f='<li><a href="https://www.bing.com'+r.Url+'" target="_blank" ><img src="'+p+'" title="'+r.Title+'"><\/img><div><span>'+r.Title+"<\/span><p>"+r.Description+"<\/p><\/div><span"+y+">";r.CreditCap>0&&(f+=r.CreditProgress+" of "+r.CreditCap+" "+(a?nt:g),r.CreditCap>1&&(f+="s"));f+="<\/span><\/a><\/li>";e+=f}return lt(i.StatusLevel,i.Balance.Available)+"<ul>"+(e?e:l.emptyOfferMsg)+"<\/ul>"}function vt(n){var i=n&&n.Balance?n.Balance.Available:-1;r.updateNotifications(t,"."+c,0,l,{maxNotifications:l.maxNotifications,count:i,updateInTile:!0,updateInTask:!1,displayNotification:i>0})}if(!i.signedin){require(["c.sso"],d.bind(null,t,o));k=t.find(r.selector.flyoutFooter).attr("href");tt();e.updateBingrewardsAop();return}if(y||(y=t.find(r.selector.contentDiv).data("signedout-image-url")),r.updateFlyout(t,c,{showProgress:!0},!0),v=u.tile.bingrewards[1],p=st(),p===""){r.logAjaxError("custom","meBingRewards","User ANID empty");r.updateFlyout(t,c,{showError:!0},!0);return}it()}var c="bingrewards",b=".flyout",l=u.tile.bingrewards[1],y,k,v,p,w="search",g="credit",nt="point",a=!1;return t(d)});define("meIntegratedSkype",["jquery","jqBehavior","headData","meModule","meModule.Tokens","skypeConversationsUtility","skypeContactsUtility","skypeRenderUtility","skypeUtility","mediator","window","touchGestures","escape","meStripeTelemetry"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function tt(t,u){function at(){f.init(it,y);e.init(it);o.init(it,y);r.updateFlyout(t,y.integratedSkypeClass,{showProgress:!0},!0);s.isSkypeIdLinked(yt,pt)}function st(){nt?(y.$recentConversations.is(":hidden")&&k.click(),rt()):(nt=!0,f.fetchOnlineStatus(ht),y.useAbch&&e.fetchContacts(kt))}function vt(){b.blur()}function yt(){f.fetchRecentConversations(wt)}function pt(){gt();si();v.updateSkypeAop()}function wt(){if(it.isError){dt();return}bt();o.renderConversationSkypeIcons();ni();ri();ui();ct();ei();oi();ii();v.updateSkypeAop()}function bt(){var i=o.getContactsMarkup()+o.getRecentConversationsMarkup();r.updateFlyout(t,y.integratedSkypeClass,{content:i},!0);y.$recentConversations=n(".recentconversations")}function ht(){o.renderConversationOnlineStatus();it.isLongPollFinished||f.fetchNextOnlieStatus(ht)}function kt(){var n,t;w&&w.is(":visible")&&(n=b.val(),n.length?(t=e.searchContacts(n),ut(t)):ut(it.contacts,!0));o.renderConversationContacts()}function ut(n,t){var i;it.searchContactsSkypeButtons.length=0;it.searchContactsUsersIndex.length=0;it.isFetchingContacts?(i=o.getFetchingContactsMarkup(),w.html(i)):n.length?(i=o.getSearchContactsMarkup(n),w.html(i),o.renderSearchContactsSkypeIcons(),o.renderSearchContactsOnlineStatus(),ti(n),fi()):t?w.html(""):(i=o.getSearchContactsEmptyMarkup(),w.html(i))}function dt(){var n=o.getErrorMarkup();r.updateFlyout(t,y.integratedSkypeClass,{content:n},!0)}function gt(){var i=o.renderLinkAccountView();r.updateFlyout(t,y.integratedSkypeClass,{content:i},!0);n(".integratedskype .meflyout.signin").addClass("unlinked")}function ni(){r.updateNotifications(t,"."+y.integratedSkypeClass,0,g,{maxNotifications:y.maxNotifications,count:it.missedConversations,updateInTile:!0,updateInTask:!1,displayNotification:it.missedConversations>0})}function ti(n){d=n.length>y.defaultCount?!0:!1;d?y.$skypeContacts.find("> div:last-child").css("overflow-y","scroll"):y.$skypeContacts.find("> div:last-child").css("overflow-y","hidden")}function ii(){var r,t,i;i=n(".mestripescrollfix ."+y.integratedSkypeClass);t=i.data(y.abchEnabled);r=i.data(y.firstRun);typeof t!="undefined"&&(y.useAbch=t);(r||n(".integratedskype .signin").is(":visible"))&&st();h.sub(y.flyoutVisibleEvent,st);h.sub(y.flyoutClosedEvent,vt)}function ri(){y.$skypeContacts=n(".skypecontacts");k=y.$skypeContacts.find("> div:nth-child(2) button");b=y.$skypeContacts.find("> div:nth-child(2) input");lt()}function ui(){if(y.$recentConversations.find("li").hover(function(){p.touchOnly||(p.hover=!0,rt(),ft(this,!0))},function(){p.touchOnly||p.conversationElement||ft(this,!1)}),l.settings.touchSupported)y.$recentConversations.find("li").on(p.touchStopEvents,function(){p.hover?p.conversationElement=this:(p.touchOnly=!0,p.conversationElement&&rt(),p.conversationElement=this,ft(this,!0))})}function fi(){if(n(".searchresultcontacts li").hover(function(){p.touchOnly||(p.hover=!0,rt(),et(this,!0))},function(){p.touchOnly||p.contactElement||et(this,!1)}),l.settings.touchSupported)n(".searchresultcontacts li").on(p.touchStopEvents,function(){p.hover?p.contactElement=this:(p.touchOnly=!0,p.contactElement&&rt(),p.contactElement=this,et(this,!0))})}function ct(){b.bind(y.focus,function(){n(this).val("");n(this).unbind(y.focus);rt();ci()})}function ei(){b.bind("change paste keyup",function(){var t,i;t=n(this).val();i=t.length>0?e.searchContacts(t):it.contacts;ut(i)})}function oi(){k.click(function(){k.hasClass(y.searchClearClass)&&(lt(),li(),ct())})}function si(){n(".linkskypeid button").click(function(){hi()})}function ft(t,i){var u,f,e,r;r=n(t);u=n("> :nth-child(2)",r);f=n("> :nth-child(3)",r);e=n("> :nth-child(4)",r);i?(r.css(y.background,y.conversationSelectedColor),f.hide(),u.css(y.width,"12.3rem"),e.show()):(r.css(y.background,y.conversationNotSelectedColor),e.hide(),u.css(y.width,"25.2rem"),f.show())}function et(t,i){var f,e,o,u,r;r=n(t);f=n("> :nth-child(2)",r);e=n("> :nth-child(3)",r);o=n("> :nth-child(4)",r);i?(u=d?"10.1rem":"12.3rem",e.hide(),r.css(y.background,y.conversationSelectedColor),f.css(y.width,u),o.show()):(u=d?"26.5rem":"28.7rem",r.css(y.background,y.conversationNotSelectedColor),o.hide(),f.css(y.width,u),e.show())}function hi(){var n,t;n=a.urlPart(c.location);t=g.linkSkypeIdUrl+"&return_url="+n;c.location.href=t}function lt(){b.val(g.searchContactsText);b.blur()}function ci(){w=y.$skypeContacts.find("> :nth-child(3)");y.$recentConversations.hide();w.show();k.addClass(y.searchClearClass);ut(it.contacts,!0)}function li(){k.removeClass(y.searchClearClass);w.hide();y.$recentConversations.show();w=null}function rt(){p.conversationElement&&(ft(p.conversationElement,!1),p.conversationElement=null);p.contactElement&&(et(p.contactElement,!1),p.contactElement=null)}function ot(){if(!(this instanceof ot))return new ot;this.isError=!1;this.isOnlineStatusError=!1;this.isContactError=!1;this.isLongPollFinished=!1;this.isFetchingContacts=!1;this.conversations=[];this.contacts=[];this.usersStatus=[];this.skypeButtons=[];this.searchContactsSkypeButtons=[];this.usersIndex=[];this.searchContactsUsersIndex=[];this.missedConversations=0}if(!i.signedin){require(["c.sso"],tt.bind(null,t,u));v.updateSkypeAop();return}var it=new ot;at()}var g=u.tile.integratedskype[1],w=null,d=!1,nt=!1,b=null,k=null,p={touchStopEvents:"touchend MSPointerUp pointerup",conversationElement:null,contactElement:null,touchOnly:!1,hover:!1},y={integratedSkypeClass:"integratedskype",defaultPhotoClass:"defaultphoto",defaultUserPhotoClass:"defaultuserphoto",linkSkypeAccountClass:"linkskypeid",birthdayClass:"hasbirthday",userPhotoClass:"userphoto",searchClearClass:"clearsearch",flyoutVisibleEvent:"SkypeFlyoutVisible",flyoutClosedEvent:"SkypeFlyoutClosed",conversationNotSelectedColor:"white",conversationSelectedColor:"#f1f1f1",hideLinkSkypeCookie:"HideLinkSkype",firstRun:"firstrun",abchEnabled:"abchenabled",background:"background",color:"color",width:"width",focus:"focus",defaultCount:4,maxNotifications:99,cookieExpiryDays:365,useAbch:!0,$recentConversations:null,$skypeContacts:null};return t(tt)});define("skypeConversationsUtility",["jquery","meModule.Tokens","skypeUtility"],function(n,t,i){function c(){if(!(this instanceof c))return new c;this.userId=null;this.name=null;this.photo=null;this.message=null;this.missed=!1;this.birthday=!1}function g(n,t){u=n;y=t;r.conversations=r.conversations+r.conversationsQueryString;r.subscription=r.subscription+r.subscriptionQueryString;r.endpoint=r.endpoint+r.endpointQueryString}function nt(n){s=n;l()}function tt(n){e=n;h(r.endpoint,{},ft,et)}function it(n){e=n;h(r.longpoll,{},b,k)}function l(){wt(r.conversations,rt,ut)}function rt(n,t,i){a(i);ct(n);u.isError=!1;s()}function ut(n){n.status==404?(bt(n),a(n),l()):n.status==401&&w==!1?(w=!0,i.updateLiveCookies(ht)):n.status==500&&n.responseJSON!=null&&n.responseJSON.errorCode==1&&n.responseJSON.message=="Getting linked skype id failed."?(u.isError=!1,s()):(i.logError("[skypeConversationUtility.js] API call to get skype conversation failed. "+JSON.stringify(n)),u.isError=!0,s())}function ft(n,t,i){a(i);h(r.subscription,{channelType:"httpLongPoll",template:"raw",interestedResources:["/v1/users/ME/contacts/ALL"]},ot,st)}function et(n){i.logError("[skypeConversationUtility.js] API call to create endpoint failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function ot(n,t,i){r.longpoll=i.getResponseHeader("Location")+"/poll";h(r.longpoll,{},b,k)}function st(n){i.logError("[skypeConversationUtility.js] API call to create subscription failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function b(n){dt(n);u.isLongPollFinished=n.length==0?!0:!1;u.isOnlineStatusError=!1;e()}function k(n){i.logError("[skypeConversationUtility.js] API call for long polling failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function ht(){l()}function ct(n){var t,r;n.conversations&&n.conversations.length!==0&&(t=lt(n.conversations),i.printSortedConversations(n.conversations,t),r=vt(n.conversations,t),at(n.conversations),yt(r),i.printRecentConversations(u))}function lt(n){for(var t,r=[],i=0;i<n.length;i++)t=n[i],t.lastMessage&&t.lastMessage.originalarrivaltime&&(t={index:i,originalArrivalTime:new Date(t.lastMessage.originalarrivaltime)},r.push(t));return r.sort(function(n,t){return t.originalArrivalTime-n.originalArrivalTime}),r}function at(n){for(var i,t=0;t<n.length;t++)i=n[t],i.id!==p&&d(i)&&u.missedConversations++}function vt(n,t){for(var r,f=[],e=0,u,i=0;i<t.length&&e<y.defaultCount;i++)u=t[i].index,r=n[u],r.lastMessage&&r.lastMessage.type&&r.id!==p&&(f.push(n[u]),e++);return f}function yt(n){for(var i,t=0;t<n.length;t++)i=new c,i.userId=n[t].id.substring(2,n[t].id.length),i.name=kt(n[t].id),i.missed=d(n[t]),n[t].lastMessage.messagetype==="Text"||n[t].lastMessage.messagetype==="RichText"?i.message=pt(n[t].lastMessage.content):n[t].lastMessage.messagetype==="Event/Call"?i.message=f.callMessageText:n[t].lastMessage.messagetype==="RichText/UriObject"||n[t].lastMessage.messagetype==="RichText/Files"?i.message=f.fileMessageText:n[t].lastMessage.messagetype==="Event/SkypeVideoMessage"?i.message=f.videoMessageText:n[t].lastMessage.messagetype==="RichText/Contacts"&&(i.message=f.contactMessageText),u.conversations.push(i)}function d(n){var i,r,t,u,f;return n.properties&&n.properties.consumptionhorizon&&(t=n.properties.consumptionhorizon.split(";"),t.length&&(i=parseInt(t[1],10))),n.lastMessage&&(u=new Date(n.lastMessage.originalarrivaltime),f=new Date(u.toUTCString()),r=+f),r>i?!0:!1}function pt(n){var t=n.indexOf("<"),i=n.indexOf(">");return t==-1&&i==-1?n:""}function wt(t,i,r){var f={},u={clientInfo:v};o?u.RegistrationToken=o:(f.withCredentials=!0,u.BehaviorOverride="redirectAs404");n.ajax({type:"GET",url:t,crossDomain:!0,headers:u,xhrFields:f,success:function(n,t,r){typeof i=="function"&&i(n,t,r)},error:function(n,t,i){typeof r=="function"&&r(n,t,i)}})}function h(t,i,r,u){var f={clientInfo:v,RegistrationToken:o};n.ajax({type:"POST",url:t,data:JSON.stringify(i),contentType:"application/json",crossDomain:!0,headers:f,success:function(n,t,i){typeof r=="function"&&r(n,t,i)},error:function(n,t,i){typeof u=="function"&&u(n,t,i)}})}function bt(n){var i,u,t;i=n.getResponseHeader("Location");u=i.indexOf("/v1");t=i.substring(0,u);r.conversations=t+r.conversationsQueryString;r.endpoint=t+r.endpointQueryString;r.subscription=t+r.subscriptionQueryString}function a(n){var t=n.getResponseHeader("Set-RegistrationToken");t&&(o=t)}function kt(n){var t=n.split(":");return t.length?t[t.length-1]:n}function dt(n){var t,f,r;if(n.eventMessages&&n.eventMessages.length!==0){for(f=gt(n.eventMessages),r=ni(f),t=0;t<r.length;t++)u.usersStatus.push(r[t]);i.printOnlineStatus(u)}}function gt(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],i.resourceType==="UserPresence"&&r.push(i);return r}function ni(n){for(var i,r,u=[],t=0;t<n.length;t++)i=n[t],i.resource&&(r={userId:ti(i.resource.selfLink),status:i.resource.status},u.push(r));return u}function ti(n){var i,t=null;return n?(i=n.split("/"),i.length>5&&(t=i[5]),t.substring(2,t.length)):t}var f=t.tile.integratedskype[1],r={conversationsQueryString:"/v1/users/ME/conversations?startTime=1&pageSize=100&view=msnp24Equivalent&targetType=Skype",endpointQueryString:"/v1/users/ME/endpoints",subscriptionQueryString:"/v1/users/ME/endpoints/SELF/subscriptions",conversations:f.chatServiceUrl,endpoint:f.chatServiceUrl,subscription:f.chatServiceUrl,longpoll:""},v="os=windows; osVer=8; proc=x86; lcid=en-us; deviceType=10; country=us; clientName=msn; clientVer=1.0",o=null,s=null,e=null,u=null,y=null,p="8:echo123",w=!1;return{init:g,fetchRecentConversations:nt,fetchOnlineStatus:tt,fetchNextOnlieStatus:it}});define("skypeContactsUtility",["jquery","skypeUtility","window"],function(n,t,i){function e(){if(!(this instanceof e))return new e;this.userId=null;this.name=null;this.photo=null;this.birthday=!1}function s(t){var u,e;r=t;e="https://"+i.location.hostname;u=n("html").attr("lang").toLowerCase()||"en-us";f.addressBook=e+"/"+u+f.addressBook}function h(n){u=n;r.isFetchingContacts=!0;y(f.addressBook,l,o)}function c(n){for(var i,u=[],t=0;t<r.contacts.length;t++)i=r.contacts[t].name.toLowerCase().indexOf(n.trim().toLowerCase()),i!=-1&&u.push(r.contacts[t]);return u}function l(n){if(n&&n.Error){o(n);return}a(n.Contacts);r.isContactError=!1;r.isFetchingContacts=!1;u()}function o(n){t.logError("[skypeContactsUtility.js] API call to get user skype contacts. "+JSON.stringify(n));r.isContactError=!0;r.isFetchingContacts=!1;u()}function a(n){var u,i,f=[];if(n)for(u=0;u<n.length;u++)if(i=new e,i.userId=n[u].ObjectId,i.name=n[u].OrderedName,i.photo=n[u].AvatarUrl,i.birthday=v(n[u]),i.userId!=null&&i.name!=null)if(i.userId==="echo123")continue;else f.push(i);f.sort(function(n,t){var i,r;return(i=n.name.toLowerCase(),r=t.name.toLowerCase(),i<r)?-1:i>r?1:0});r.contacts=f;t.printContacts(r)}function v(n){if(!n.Birthday)return!1;var t=new Date(n.Birthday.match(/\d+/)[0]*1),r=t.getUTCDate(),u=t.getUTCMonth()+1,i=new Date,f=i.getUTCDate(),e=i.getUTCMonth()+1;return r==f&&u==e}function y(t,i,r){var u={};u.withCredentials=!0;n.ajax({type:"GET",url:t,crossDomain:!0,xhrFields:u,success:function(n,t,r){typeof i=="function"&&i(n,t,r)},error:function(n,t,i){typeof r=="function"&&r(n,t,i)}})}var r=null,u=null,f={addressBook:"/api/addressbook/"};return{init:s,fetchContacts:h,searchContacts:c}});define("skypeRenderUtility",["jquery","meModule.Tokens","window"],function(n,t,i){function a(n,t){r=n;f=t}function v(){var n,t,i,u;if(!r.isContactError){for(u=f.$recentConversations.clone(!0),n=0;n<r.usersIndex.length;n++)for(t=0;t<r.contacts.length;t++)if(r.usersIndex[n].userId===r.contacts[t].userId){i=u.find("ul > :nth-child("+(r.usersIndex[n].index+1)+")");y(n,t,i);p(n,t,i);w(n,t,i);break}f.$recentConversations.replaceWith(u);f.$recentConversations=u}}function y(n,t,i){var e,u,o;r.contacts[t].photo&&(o=b(r.usersIndex[n].index+1),u='<div style="background:url('+r.contacts[t].photo+') no-repeat">',u+='<div class="'+f.userPhotoClass+" "+o+'">',u+="<\/div>",e=i.find("> :first-child"),e.replaceWith(u))}function p(n,t,i){var u;r.contacts[t].name&&(u=i.find("> :nth-child(2) h3"),u.html(r.contacts[t].name))}function w(n,t,i){var u;r.contacts[t].birthday&&(u=i.find("> :nth-child(3) > div:first-child"),u.addClass(f.birthdayClass))}function b(n){var t,i=e.offline;return t=f.$recentConversations.find("ul > :nth-child("+n+") > :first-child > div"),t.hasClass(e.available)?i=e.available:t.hasClass(e.idle)?i=e.idle:t.hasClass(e.busy)&&(i=e.busy),i}function k(){r.isOnlineStatusError||s(!0)}function d(){r.isOnlineStatusError||s(!1)}function s(t){var i,l,s,a,e,h,o,u,c;for(t?(u=r.usersIndex,c=".recentconversations"):(u=r.searchContactsUsersIndex,c=".searchresultcontacts"),a=n(c+" ul"),i=0;i<u.length;i++)l=g(u[i].userId),s=nt(l),e=a.find("> :nth-child("+(u[i].index+1)+") > :first-child"),h=e.find("div"),o=e.hasClass(f.defaultPhotoClass)?'<div class="'+f.defaultUserPhotoClass+" "+s+'">':'<div class="'+f.userPhotoClass+" "+s+'">',o+="<\/div>",h.length?h.replaceWith(o):e.append(o)}function g(n){for(var t=0;t<r.usersStatus.length;t++)if(r.usersStatus[t].userId==n)return r.usersStatus[t].status;return o.offline}function nt(n){return n==o.online||n==o.onThePhone?e.available:n==o.idle||n==o.away||n==o.outToLunch||n==o.beRightBack?e.idle:n==o.busy?e.busy:(n==o.offline,e.offline)}function tt(){require({js:(i.location.protocol==="https:"?"https://secure":"http://www")+".skypeassets.com/i/scom/js/skype-uri.js"},["window.Skype"],function(t){for(var i=0;i<r.skypeButtons.length;i++)h(r.skypeButtons[i]);n(".integratedskype > div > ul > li:first-child").html('<div id="SkypeButton_Launch"><\/div>');t.ui({element:"SkypeButton_Launch",imageSize:10});n("#SkypeButton_Launch > p > a").html(u.launchText)})}function it(){for(var n=0;n<r.searchContactsSkypeButtons.length;n++)h(r.searchContactsSkypeButtons[n])}function h(t){i.Skype&&(i.Skype.ui({name:"chat",element:t.messageIconId,participants:[t.userId],imageSize:10}),i.Skype.ui({name:"call",element:t.videoIconId,participants:[t.userId],imageSize:10,video:!0}),i.Skype.ui({name:"call",element:t.phoneIconId,participants:[t.userId],imageSize:10}));n("#"+t.messageIconId+" > p > a").html('<div class="skypeicon" title="'+u.chatButtonText+'"><span>SkypeMessage<\/span><\/div>');n("#"+t.videoIconId+" > p > a").html('<div class="skypeicon" title="'+u.videoButtonText+'"><span>SkypeVideo<\/span><\/div>');n("#"+t.phoneIconId+" > p > a").html('<div class="skypeicon" title="'+u.audioButtonText+'"><span>SkypeCall<\/span><\/div>')}function rt(){var n='<div class="skypecontacts">';return n+="<div><h3>"+u.contactsText+"<\/h3><\/div>",n+="<div>",n+='<input type="search">',n+='<button type="button"><span style="display:none">Skype Contact Search<\/span><\/button>',n+="<\/div>",n+='<div class="searchresultcontacts"><\/div>',n+"<\/div>"}function ut(){return'<p class="meloading"><\/p>'}function ft(){return"<p>"+u.emptySearchContactsText+"<\/p>"}function et(n){for(var u,f=n.length>4?!0:!1,i="<ul>",t=0;t<n.length;t++)i+=ot(n[t],f),u={userId:n[t].userId,index:t},r.searchContactsUsersIndex.push(u);return i+"<\/ul>"}function ot(n,t){var i;return i="<li>",i+=c(n.photo),i+=st(n,t),i+=ht(n),i+=ct(n),i+"<\/li>"}function st(n,t){var i;return i=t?'<div class="sb">':"<div>",i+="<h3>"+n.name+"<\/h3>",i+"<\/div>"}function ht(n){var t;return t="<div",n.birthday&&(t+=' class="'+f.birthdayClass+'"'),t+"><\/div>"}function ct(n){var t={},i;return i=l(n.userId,"contact_",t),r.searchContactsSkypeButtons.push(t),i}function lt(){var n,t,i;for(t='<div class="recentconversations">',t+="<h3>"+u.recentText+"<\/h3>",t+="<ul>",n=0;n<r.conversations.length;n++)t+=at(r.conversations[n]),i={userId:r.conversations[n].userId,index:n},r.usersIndex.push(i);return t+="<\/ul>",t+"<\/div>"}function at(n){var t;return t="<li>",t+=c(n.photo),t+=vt(n),t+=yt(n),t+=pt(n),t+"<\/li>"}function c(n){return n?'<div style="background:url('+n+') no-repeat"><\/div>':'<div class="defaultphoto"><\/div>'}function vt(n){var t;return t="<div>",t+="<h3>"+n.name+"<\/h3>",n.message&&(t+="<p>"+n.message+"<\/p>"),t+"<\/div>"}function yt(n){var t;return t="<div>",t+="<div><\/div>",t+="<div>",n.missed&&(t+="<div><\/div>"),t+="<\/div>",t+"<\/div>"}function pt(n){var t={},i;return i=l(n.userId,"",t),r.skypeButtons.push(t),i}function l(n,t,i){var r,u;return u=bt(n),i.userId=n,i.messageIconId="SkypeButton_Message_"+t+u,i.videoIconId="SkypeButton_Video_"+t+u,i.phoneIconId="SkypeButton_Phone_"+t+u,r="<div>",r+='<div id="'+i.messageIconId+'"><\/div>',r+='<div id="'+i.videoIconId+'"><\/div>',r+='<div id="'+i.phoneIconId+'"><\/div>',r+"<\/div>"}function wt(){var n='<div class="skypeerror">';return n+="<div><h3>"+u.contactsText+"<\/h3><\/div>",n+='<p class="meerror">'+u.errorMessage+"<\/p>",n+"<div>"}function bt(n){var r,t,u="",i;if(t=n.split(":"),t.length)r=t[t.length-1];else return n;for(t=r.split("."),i=0;i<t.length;i++)u+=t[i];return u}function kt(){var n='<div class="integratedskypeflyout '+f.linkSkypeAccountClass+'" >',t=u.linkAccountContentList.split("|");return n+="<section>",n+="<h2>"+u.headerText+"<\/h2>",t.length==3&&(n+="<ul>",n+="<li>"+t[0]+"<\/li>",n+="<li>"+t[1]+"<\/li>",n+="<li>"+t[2]+"<\/li>",n+="<\/ul>"),n+="<\/section>",n+="<h3>"+u.linkAccountText+"<\/h3>",n+="<p>"+u.linkAccountDisclaimerText+"<\/p>",n+='<button title="'+u.continueButtonText+'">'+u.continueButtonText+"<\/button>",n+='<a target="_blank" href="'+u.learnMoreUrl+'" title="'+u.learnMoreText+'">'+u.learnMoreText+"<\/a>",n+"<\/div>"}var u=t.tile.integratedskype[1],r=null,f=null,o={online:"Online",onThePhone:"OnThePhone",idle:"Idle",away:"Away",busy:"Busy",outToLunch:"OutToLunch",beRightBack:"BeRightBack",offline:"Offline"},e={available:"availablestatus",idle:"idlestatus",busy:"busystatus",offline:"offlinestatus"};return{init:a,getContactsMarkup:rt,getFetchingContactsMarkup:ut,getSearchContactsMarkup:et,getSearchContactsEmptyMarkup:ft,renderConversationSkypeIcons:tt,renderSearchContactsSkypeIcons:it,renderConversationOnlineStatus:k,renderSearchContactsOnlineStatus:d,getRecentConversationsMarkup:lt,getErrorMarkup:wt,renderConversationContacts:v,renderLinkAccountView:kt}});define("skypeUtility",["logging","window"],function(n,t){function r(n){var r,u,f;u="wlssc_frame";r=t.document.createElement("IFRAME");r.id=u;r.style.width="1px";r.style.height="1px";r.style.position="absolute";r.style.visibility="hidden";r.style.left="0px";r.style.bottom="0px";r.src="https://login.live.com";i("Skype is refreshing login.live cookies");t.document.body.appendChild(r);f=function(){var i=t.document.getElementById(u);i&&t.document.body.removeChild(i);typeof n=="function"&&n()};r.addEventListener?r.addEventListener("load",f,!0):r.attachEvent("onload",f)}function u(n,i){var r,u,f;u="linked_skypeid_frame";r=t.document.createElement("IFRAME");r.id=u;r.style.width="1px";r.style.height="1px";r.style.position="absolute";r.style.visibility="hidden";r.style.left="0px";r.style.bottom="0px";r.src="https://login.skype.com/login/silent?client_id=738133&redirect_uri="+t.location.protocol+"//"+t.location.hostname+"&partner=999&response_type=postmessage";t.document.body.appendChild(r);f=function(r){var f,e;if(r.origin=="https://login.skype.com"){if(f=t.document.getElementById(u),f&&t.document.body.removeChild(f),e=JSON.parse(r.data),e.hasOwnProperty("error")&&e.error=="not_linked"&&typeof i=="function"){i();return}typeof n=="function"&&n()}};t.addEventListener?t.addEventListener("message",f,!1):t.attachEvent("onmessage",f)}function f(){}function e(){}function o(){}function s(){}function h(t){n.error(t)}function i(){}return{updateLiveCookies:r,isSkypeIdLinked:u,printSortedConversations:f,printRecentConversations:e,printOnlineStatus:o,printContacts:s,logError:h,logMessage:i}});define("meModule",["jquery","meModule.Tokens","headData","window","logging","perfPing","mediator","elementTrackingDecorator","location"],function(n,t,i,r,u,f,e,o,s){function y(n,t,i,r,u,f){var e=n.find(f.tasks[i]),o=e.find("span");r?(e.addClass(a),o.text((t.notifications||v).replace("{0}",u))):(e.removeClass(a),o.empty())}function w(n,t,i,r,u){n.find(u.notification).text(i?(t.notifications||v).replace("{0}",r):t.notificationEmpty||"")}function b(n,t,i,u){var f=(l.width-t)/2,e=(l.height-i-100)/2,o="status=0,toolbar=0,location=0,resizable=1,scrollbars=1,left="+f+",top="+e+",width="+t+",height="+i;u.preventDefault();r.open(n,"Login",o)}function k(t,i){if(i&&i.taskLinks&&i.taskLinks.trim()){var r=i.taskLinks.split(";");r.length&&(t.push("<ul>"),n.each(r,function(n,i){var r=i.split("|"),u;r[0]&&r[1]&&(u=r[0],t.push("<li><a target='_blank' data-piitxt='",u,"' href='",r[1],"'>",u,"<span><\/span><\/a><\/li>"))}),t.push("<\/ul>"))}}var l=r.screen,h="click",a="notifications",c=".popUpWindow",v="({0})",p="{0}+";return{info:{locale:n("html").attr("lang"),origin:s.protocol+"//"+s.host,httpsOrigin:"https://"+s.host},logAjaxError:function(n,t,i){n!="abort"&&(f.setMarker('[meModule] service error: "'+t+'" call failed with status of "'+n+'", '+i),f.getPayLoad(u.error))},updateFlyout:function(r,u,f,e,s,l){var v="",y=typeof e!="undefined"?e:i.signedin,tt=t.tile[u][y?1:0],a={},w,p,b,d;n.extend(!0,a,tt,f);v=["<section>"];a.headerUrl&&(w="<a href='"+a.headerUrl+"' target='_blank'><h3>"+a.header+"<\/h3><\/a>",p=o.setTrackingAttrs(n(w),r.find(this.selector.flyout),{defaults:{n:u+".flyout"},selector:"a"}),v.push(w));v.push("<div>");a.showProgress?v.push("<p class='meloading'>",a.content||"","<\/p>"):a.showError?v.push("<p class='meerror'>",a.errorMessage||"","<\/p>"):a.showNoContent?v.push("<p class='meerror'>",a.noContent||"","<\/p>"):y?v.push(a.content.length?a.content:"<p class='meerror'>"+a.noContent+"<\/p>"):(a.signedOutImageUrl&&v.push("<img src='",a.signedOutImageUrl,"' />"),v.push("<p>",a.content.length?a.content:a.ErrorMessage,"<\/p>"));v.push("<\/div>");!y&&a.footerText&&v.push("<a href='",a.footerUrl,"' class='mefoot'>",a.footerText,"<\/a>");v.push("<\/section>");k(v,a);var g=r.find(this.selector.flyout),it=o.setTrackingAttrs(n(v.join("")),g,{defaults:{n:u+".flyout"}}),nt=g.html(it);if(p&&p.length&&n("section > a",r).replaceWith(p),b=this.classNames.signout,d=this.classNames.signin,y){if(r.find(this.selector.flyoutFooter).off(c),typeof s=="string"&&(s=r.find(s)),s&&s.length&&l&&n.isFunction(l))s.off(h).on(h,l);n(nt).removeClass(b).addClass(d)}else n(nt).removeClass(d).addClass(b)},attachSignInPopupWindow:function(n,t,i,r){n.find(this.selector.flyoutFooter).off(c).on(h+c,b.bind(null,t,i,r))},selector:{flyout:".meflyout",flyouts:".meflyouts",notification:">a>h3>span",flyoutHeader:".meflyout>section>h3",flyoutFooter:".meflyout>section>.mefoot",contentDiv:".meflyout>section>div",contentItem:".meflyout>section>div p",contentList:".meflyout>section>div ul",taskLinks:".meflyout>ul>li>a",tasks:[".meflyout>ul>li>a:eq(0)",".meflyout>ul>li>a:eq(1)",".meflyout>ul>li>a:eq(2)",".meflyout>ul>li>a:eq(3)"]},classNames:{signout:"signout",signin:"signin"},updateNotifications:function(t,i,r,u,f){var s=t.closest(".stripeouter").find(".mestripe "+i),o=this.selector,e=f.count;f.maxNotifications&&e>f.maxNotifications&&(e=(u.notificationsTooMany||p).replace("{0}",f.maxNotifications));f.updateInTile&&w(s,u,f.displayNotification,e,o);f.updateInTask&&(n.isNumeric(r)?y(t,u,r,f.displayNotification,e,o):n(r).each(function(n,i){y(t,u,i.index,i.displayNotification,i.count,o)}))},ssoAutoRefresh:function(){var i=this,r=n(i.selector.flyouts);n.each(t.tile,function(n,u){var f,o,s,e;u[0].ssoAutoRefresh&&(f=r.children("."+n),o=f.find(i.selector.flyout).hasClass(i.classNames.signout),f.length&&o&&(s=t.tile[n][1],e=f.find("[data-module-id]"),e.html(s.content),i.updateFlyout(f,n,{content:e.length?e[0].outerHTML:" "},!0,null,null)))})},deferredFlyoutOnHover:function(n,t,i){var r=n.data("deferred");r?e.sub(t,i):i()},getMeModuleId:function(t){var i=n(".meflyouts .meflyoutcontainer").index(t);return n(".mestripe ul li").eq(i).attr("data-module-id")}}});define("outlookModel",["jquery","window","location","getCookie","setCookie","promise","headData","outlookInbox.tokens","logging","format"],function(n,t,i,r,u,f,e,o,s){function ht(){return r(h.canaryCookieName)}function it(){return e.dg&&e.dg.indexOf(h.pcDgIdent)!==-1}function ct(){y||(y=wt());var n=r(h.userMigratedCookieName);return n&&n===y}function lt(n){return b=!n,l||(l=setTimeout(at,h.timeoutInMs)),c||(c=new f(ut)),c}function at(){var n=c;p();n&&n.cancel();w("[outlookModel.js] outlook preview API request timeout")}function w(n){s.error(n)}function rt(){n.ajax({type:"GET",url:b?ot:st,crossDomain:!0,xhrFields:{withCredentials:!0},timeout:h.timeoutForOutlookExchangeCallInMs,cache:!1,success:function(n){var t=a;p();t(n)},error:function(n,t){var i=v;p();i({ajaxError:t});w("[outlookModel.js] outlook exchange rest API call error textStatus: "+t+"\r\n")}})}function ut(i,r){if(a&&v||(a=i,v=r),g&&ct())rt();else{var u=vt();t[k]=yt;n.ajax({type:"GET",url:u,jsonp:"cb",jsonpCallback:k,contentType:"application/json",dataType:"jsonp"})}}function vt(){var i=it()&&b?h.numOfMsgForPc:h.numOfMsgForMobile,r={num:i,nocache:+new Date,mac:t.decodeURIComponent(ht())};return ft+"?"+n.param(r)}function yt(n){if(!c){p();return}if(n&&n.err&&!d&&n.err.client&&n.err.client.invalidmac)d=!0,ut();else if(g&&n&&n.err&&n.err.user&&n.err.user.exchangemigrated)pt(),rt();else{var t;n&&n.err?(t=v,w("[outlookModel.js] error response from outlook preview mail API \r\n"+JSON.stringify(n.err))):t=a;p();t(n)}}function pt(){y&&u(h.userMigratedCookieName,y,730)}function wt(){var n=r("ANON"),t,i;return n&&(t=n.indexOf("="),i=n.indexOf("&"),t!==-1&&i!==-1)?n.substring(t+1,i):(w("[outlookModel.js] error getting ANID value, returning empty value"),"")}function p(){t[k]=null;a=null;v=null;c=null;l&&(clearTimeout(l),l=0)}var h={timeoutInMs:15e3,timeoutForOutlookExchangeCallInMs:1e4,canaryCookieName:"WLMMAC",numOfMsgForPc:3,numOfMsgForMobile:0,pcDgIdent:".pc",globalFnName:"setOutlookData",userMigratedCookieName:"UMH2E"},c,ft=o.outlookPreviewApiUrl,l,d=!1,a,v,y,b,g=e.exchangeenabled,k=h.globalFnName+Math.floor(Math.random()*1e4+1)+ +new Date,nt=e.clientSettings.vk,et=nt==="spartan"?"{0}/{2}/{1}":"{0}/{1}/{2}",tt="https://"+et.format(i.host,e.locale,nt)+"/OutlookMail/",ot=tt+"GetEmails",st=tt+"GetUnreadMessageCount";return{isPcDeviceGroup:it,getOutlookData:lt}});define("meModule.Tokens",{tile:{mail:[{header:"Outlook.com",content:"Sign in with any Microsoft account: Outlook, Hotmail, MSN, Live.",footerText:"Sign in",footerUrl:"[[signin]]",taskLinks:""},{header:"Inbox",headerUrl:"https://mail.live.com/default.aspx",content:"Loading...",noContent:"Wow, you've got a very clean inbox!",tileTitle:"Outlook.com",refreshPageErrorMessage:"We couldn't connect you to Outlook.com. Please refresh the page and try again later.",viewInboxErrorMessage:"If you continue to have a problem viewing your inbox, Please visit",taskLinks:"Compose|https://mail.live.com/default.aspx?rru=compose;Calendar|https://calendar.live.com/calendar/calendar.aspx",piiText:"Read Outlook Email",piiUrl:"http://www.hotmail.msn.com/pii/ReadOutlookEmail/"}],office:[{header:"Office",content:"See your recent documents, or start one for free with Office Online.",footerText:"Sign in",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"Word Online|https://office.live.com/start/Word.aspx?WT.mc_id=MSN_site;Excel Online|https://office.live.com/start/Excel.aspx?WT.mc_id=MSN_site;Sway|https://www.sway.com/?WT.mc_id=MSN_site&utm_source=MSN&utm_medium=Topnav&utm_campaign=link;PowerPoint Online|https://office.live.com/start/PowerPoint.aspx?WT.mc_id=MSN_site"},{header:"Recent documents",headerUrl:"https://onedrive.live.com/#qt=mru",content:"Loading...",noContent:"This folder is empty. Click below to create a new document.",errorMessage:"Couldn't connect to Office Online",errorFooterText:"Go to Office Online",taskLinks:"Word Online|https://office.live.com/start/Word.aspx?WT.mc_id=MSN_site;Excel Online|https://office.live.com/start/Excel.aspx?WT.mc_id=MSN_site;Sway|https://www.sway.com/?WT.mc_id=MSN_site&utm_source=MSN&utm_medium=Topnav&utm_campaign=link;PowerPoint Online|https://office.live.com/start/PowerPoint.aspx?WT.mc_id=MSN_site"}],onenote:[{header:"OneNote",content:"Sign in to your Microsoft account to see recent notes.",footerText:"Sign in",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"Quick Note|https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_QuickNote&auth=1"},{header:"Recent Notebooks",headerUrl:"https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_Recent&auth=1",content:"Loading...",noContent:"This folder is empty. Click below to create new notebook.",errorMessage:"Couldn't connect to OneNote Online",errorFooterText:"Go to OneNote Online",taskLinks:"Quick Note|https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_QuickNote&auth=1"}],onedrive:[{header:"OneDrive",content:"Sign in to your Microsoft account to see recent OneDrive contents.",footerText:"Sign in",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"Files|https://onedrive.live.com;Photos|https://onedrive.live.com/?qt=allmyphotos;Recent documents|https://onedrive.live.com/?qt=mru;Download the OneDrive app|https://onedrive.live.com/about/en/download/"},{header:"OneDrive",headerUrl:"https://onedrive.live.com?wt.mc_id=oo_msn_msnhomepage_header",content:"Loading...",errorMessage:"Couldn't connect to OneDrive",errorFooterText:"Go to OneDrive",taskLinks:"Files|https://onedrive.live.com;Photos|https://onedrive.live.com/?qt=mru;Recent documents|https://onedrive.live.com;Download the OneDrive app|https://onedrive.live.com/about/en/download/"}],finance:[{header:"",content:"",footerText:"",footerUrl:"",taskLinks:""},{header:"",headerUrl:"",content:"",errorMessage:"",taskLinks:""}],sports:[{header:"Scores - Live",content:"",footerText:"All scores",footerUrl:"/en-us/sports",taskLinks:""},{header:"Scores - Live",headerUrl:"/en-us/sports",content:"",errorMessage:"",taskLinks:""}],maps:[{header:"Maps",headerUrl:"",content:"",footerText:"",footerUrl:"",taskLinks:"me_maps_directions|http://www.bing.com/maps/directions;me_maps_traffic|http://www.bing.com/maps/?FORM=MSNMAP"},{header:"Maps",headerUrl:"",content:"",errorMessage:"",taskLinks:"me_maps_directions|http://www.bing.com/maps/directions;me_maps_traffic|http://www.bing.com/maps/?FORM=MSNMAP"}],skype:[{header:"Skype keeps the world talking",headerUrl:"",content:"Use Skype to call, see, message and share with others  wherever they are.",footerText:"Go to Skype.com",footerUrl:"http://www.skype.com",taskLinks:"me_skype_download|http://www.skype.com/go/onedrivepromo.download?cm_mmc=MSFT_2390_MSN-com"},{header:"Group video calling",headerUrl:"",content:"Now it's free to get the whole family together on the same video call.",errorMessage:"",taskLinks:""}],integratedskype:[{},{searchContactsText:"Search Contacts",emptySearchContactsText:"No contacts were found matching your search text",nameText:"Name",contactsText:"Contacts",recentText:"Recent",launchText:"Launch Skype",errorMessage:"Couldn't connect to Skype",chatButtonText:"Chat",audioButtonText:"Audio Call",videoButtonText:"Video Call",taskLinks:"Launch Skype|skype:;Download Skype|http://www.skype.com/go/onedrivepromo.download?cm_mmc=MSFT_2390_MSN-com",chatServiceUrl:"https://client-s.gateway.messenger.live.com",linkSkypeIdUrl:"https://login.skype.com/login/oauth/microsoft?client_id=738133",headerText:"Skype on MSN",linkAccountContentList:"See who's online|Notifications and missed messages|Voice calls and chats",linkAccountText:"Link your accounts",linkAccountDisclaimerText:"To get the full experience of Skype on MSN, link your Skype and Microsoft accounts.",continueButtonText:"Continue",learnMoreText:"Help",learnMoreUrl:"https://support.skype.com",callMessageText:"call",fileMessageText:"sent a file",videoMessageText:"video message",contactMessageText:"sent a contact"}],facebook:[{header:"Facebook",content:"Get your latest feed from Facebook",errorMessage:"Couldnt connect to Facebook",footerText:"Sign in",footerUrl:"#",taskLinks:""},{header:"Facebook",headerUrl:"http://www.facebook.com",content:"Loading ...",noContent:"Your feed is currently empty",errorMessage:"Couldnt connect to Facebook",errorFooterText:"Go to Facebook",maxNotifications:"99",requestTimeout:"10000",likeUrl:"https://www.facebook.com/msn",taskLinks:"Sign out|#"}],twitter:[{header:"Twitter",content:"Get your Twitter Updates",footerText:"Sign In",footerUrl:"https://twitter.com",requestTimeout:"10000",taskLinks:""},{header:"Tweets",headerUrl:"https://twitter.com",content:"Loading ...",noContent:"Your timeline is currently empty",errorMessage:"Couldn't connect to Twitter",errorFooterText:"Go to Twitter",taskLinks:"Notifications|https://twitter.com/i/notifications;Me|#;Sign out|#"}],xbox:[{header:"Spotlight",content:"",footerText:"View All",footerUrl:"",taskLinks:"me_groove_taskLinks_store|https://www.microsoft.com/store/media/redirect/music?view=hub;me_groove_taskLinks_play|http://aka.ms/Ixhi8e;me_groove_taskLinks_try|http://aka.ms/msvmj1"},{header:"My awesome playlist",headerUrl:"http://aka.ms/qeqf5y",content:"",errorMessage:"",taskLinks:"me_groove_taskLinks_store|https://www.microsoft.com/store/media/redirect/music?view=hub;me_groove_taskLinks_play|http://aka.ms/Ixhi8e;me_groove_taskLinks_try|http://aka.ms/msvmj1"}],bingrewards:[{header:"Rewards",content:"Join Rewards and earn credits when you explore and search on MSN.",footerText:"Join Now",footerUrl:"[[signin]]",signedOutImageUrl:"/Images/Homepage/me_bingrewards_signed_out.jpg",appendAddMoreTask:!0,showProgress:!0},{errorMessage:"Could not connect to Rewards",taskLinks:"Redeem your credits|https://www.bing.com/rewards/redeem/all;Get help|https://www.bing.com/rewards/faq;Redeem your points|https://account.microsoft.com/rewards/redeem/all;Get help|https://go.microsoft.com/fwlink/p/?LinkID=823400",appendAddMoreTask:!0,signInText:"Sign in",joinNowText:"Join Now",joinNowUrl:"http://www.bing.com/explore/rewards-msn?FORM=MA12LM&PUBL=BINGCOMBEX&CREA=MA12LM&Programname=REWARDS-MSN",hdrText:"Bing Rewards",hdrMsText:"Microsoft Rewards",hdrDesc:"Explore and search on MSN. Earn free Rewards.",subhdrtext:"Earn and explore",rewardsApiUrl:"https://www.bing.com/msrewards/api/v1/getuserinfo",rewardsPartnerID:"79E3A169-6A98-49E1-ADB9-ED64666CC743",rewardsChannel:"Msn",offerLayoutType:"MissionTaskLayout",maxOfferCount:4,emptyOfferMsg:"Offers are unavailable at the moment.",maxNotifications:"9999"}],store:[{header:"Microsoft Store",taskLinks:"me_store_taskLinks_surface|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MESurf&url=https://www.microsoftstore.com/store/msusa/en_US/cat/All-Surface/categoryID.69403400?icid=MSN_surface;me_store_taskLinks_windows|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEWin10&url=https://www.microsoftstore.com/store/msusa/en_US/cat/Windows/categoryID.70036700?icid=MSN_Win10;me_store_taskLinks_support|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEstoreSupport&url=https://www.microsoftstore.com/help"},{header:"Microsoft Store",headerUrl:"http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEstoreH&url=https://www.microsoftstore.com?icid=MSN_storeHL",taskLinks:"me_store_taskLinks_surface|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MESurf&url=https://www.microsoftstore.com/store/msusa/en_US/cat/All-Surface/categoryID.69403400?icid=MSN_surface;me_store_taskLinks_windows|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEWin10&url=https://www.microsoftstore.com/store/msusa/en_US/cat/Windows/categoryID.70036700?icid=MSN_Win10;me_store_taskLinks_support|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEstoreSupport&url=https://www.microsoftstore.com/help"}],amazon:[{header:"Amazon Marketplace"},{header:"Amazon Marketplace",headerUrl:"https://www.amazon.com/ref=as_li_ss_tl?ie=UTF8&linkCode=ll2&tag=me-stripe-20&linkId=3a67fe35c7b9c40285bdd67479bbf862"}],ebay:[{header:"Shop at eBay"},{header:"Shop at eBay",headerUrl:"http://redirect.viglink.com/?key=29045bc04c786d46d362906f803b13a2&u=http://ebay.com"}],yahoomail:[{header:"Yahoo Mail",content:"Sign in to view your mail",footerText:"Sign in",footerUrl:"https://mail.yahoo.com",taskLinks:""},{header:"Inbox",headerUrl:"https://mail.yahoo.com",content:"Loading...",noContent:"There are no emails in your Inbox folder.",errorMessage:"Couldn't connect to Yahoo Mail",errorFooterText:"Go to Yahoo Mail",maxNotifications:"9999",requestTimeout:"10000",taskLinks:"Compose|https://mrd.mail.yahoo.com/compose;Calendar|https://calendar.yahoo.com/;Sign out|#",contentEmpty:"There are no emails in your Inbox folder."}],gmail:[{header:"Gmail",content:"Sign in to view your mail",footerText:"Sign in",footerUrl:"",taskLinks:""},{header:"Inbox",headerUrl:"https://www.gmail.com",content:"Loading...",noContent:"There are no emails in your Inbox folder.",errorMessage:"Couldn't connect to Gmail",errorFooterText:"Go to Gmail",maxNotifications:"9999",requestTimeout:"10000",taskLinks:"Compose|https://mail.google.com/mail/?view=cm;Google Calendar|https://www.google.com/calendar;Sign out|#",contentEmpty:"There are no emails in your Inbox folder."}],mailProviderOptions:[{mailTileRemovedEvent:"mailTileRemovedEvent"}]}});define("outlookInbox.tokens",{outlookPreviewApiUrl:"https://hotmailproxy.msn.com/pm/v1.0/getheaders.aspx",outlookPreviewApiUrlBetaplace:"https://hotmailproxy.betaplace.com/pm/v1.0/getheaders.aspx"});define("pagingSection",["jquery","jqBehavior","modernizr","pagingAnimator","device","pointerEvents","touchGestures","touchDataManager","requestAnimationFrame","format","imgSrc","paging.tokens","dir.tokens","viewAware","mediator","window","perfMarker","navigator","document","c.deferred"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){function lt(t,i){function nr(){et=n("<button class='leftarrow'><\/button>");ot=n("<button class='rightarrow'><\/button>");at.prepend(et).append(ot)}function tr(n){i.contentSelector=n||i.contentSelector;f=at.find(i.contentSelector);lt=r(f);g&&lt.setup();rr();i.rememberLastKnownIndex&&(ti=at.data("pagesection-name"))}function ir(){v>1&&ur();g&&lt.teardown();y.unsub(ut,er)}function cr(){c.loadInViewport&&s(function(){f.attr(c.dataOffsetAttr,Math.round(-u*w*d)+";0");c.loadInViewport(at[0])})}function lr(){vt.removeClass(di)}function ar(){vt.addClass(di)}function rr(){s(vr)}function vr(){var e,o,r,s,h,t,c;for(lr(),e=yi,o=f.length,r=0;r<o;r++)if(vt.children().length&&(vt.empty(),et.removeClass(pt),ot.removeClass(pt),gt(f,0)),b=bi=yt=ki=nt=v=u=0,i.rememberLastKnownIndex&&ti&&(u=n("head").data(gi+ti)||u),bt=kt=wt=!1,wi=vt.offset().left,s=e[0].clientWidth||e.outerWidth(!1),w=s+i.columnGap+i.scrollOffset,w){if(v=Math.ceil(f[r].scrollWidth/w),y.sub(ut,er),v>1){for(g&&lt.initialize(v,w,i.columnGap,u),wr(),ui||yr(),ct=[],h=w/2,t=0;t<v;t++)ct[t]=w*t+h-1;ri=f[0].scrollWidth;si(0);g||u==0||(c=sr(-1,u)*d,gt(f,c));or()}else ui&&ur();v<=1&&ar()}}function yr(){pr(f);et.on("click",hi);ot.on("click",hi);y.sub(ft,fr);ui=!0}function ur(){at.off("gesture");et.off("click",hi);ot.off("click",hi);y.unsub(ft,fr);ui=!1}function fr(n){f[0]===n.elem&&(g&&(u+=n.direction*-1,si()),ai())}function er(n){f[0]===n&&(ir(),tr())}function pr(n){if(e.settings.touchSupported&&!g&&n.data("gesture")!==!0){n.on("gesture",{direction:"horizontal"},kr);n.data("gesture",!0)}}function or(){v>1&&(kt?ot.addClass(pt):ot.removeClass(pt),bt?et.addClass(pt):et.removeClass(pt),i.extendedArrows&&(kt||bt)&&et.add(ot).text(h(l.pagingArrowText,u+1,v)))}function oi(t){ni||s(function(){ni=!0;var r=sr(t)*d;u+=t*-1;i.rememberLastKnownIndex&&ti&&n("head").data(gi+ti,u);g?(lt.incrementViewPort(t,tt,rt),si()):(lt.animationStarting(f),gt(f,r,tt,rt));p.setTimeout(ai,i.autoHideArrowMS)})}function ai(){s(function(){g||lt.animationCompleted(f);wt=ni=!1;br();or();cr();y.pub(ht,ei)})}function si(n){g?(bt=lt.allowScrollLeft(),kt=lt.allowScrollRight()):(bi=b,ki=yt,b=n*d,yt=ri+b,yt<0&&(yt=0),bt=b<0,kt=yt>w)}function wr(){for(var t,n=0;n<v;n++)t=k.createElement("span"),n==u&&(t.className="selected"),vt[0].appendChild(t);ci=vt.children();ii=ci.eq(u)}function br(){ii&&ii.removeClass("selected");ii=n(ci[u]).addClass("selected")}function sr(n,t){var u=t||1,r,f;return n==1?b<wi&&(fi!=0?(nt=b+fi,fi=0):nt=b+(w+dt)*u,nt>0&&(nt=0)):n==-1&&b<yt&&(nt=b-(w+dt)*u,b==0&&(nt+=dt),nt>yt&&(nt=yt),r=ri+nt+i.columnGap,!i.alwaysScrollCompletePage&&r<yt&&r<w&&(f=u>1?b-(w+dt)*(u-1):b,nt=f-r,fi=r)),nt}function hr(t){t&&!i.autoHideArrow?n(t).removeClass(pt):(et.removeClass(pt),ot.removeClass(pt))}function hi(n){ei="click";typeof n.originalEvent!="undefined"&&n.originalEvent&&n.originalEvent.pointerType==="touch"&&(ei="tap");n.target==ot[0]?u+1<v?oi(-1):hr(n.target):u>0?oi(1):hr(n.target);n.preventDefault()}function gt(n,t,i){if(t==undefined){var r=n.css("transform").split(","),u=4;r.length>6&&(u=12);t=parseFloat(r[u]);t=isNaN(t)?0:t}else si(t),i||(i=0),lt.animate(t,i,rt,it);return t}function vi(n){s(function(){var t=0,o=Math.abs(b),s,r,h;if(ni=!0,b>=0)t=0,u=0;else if(!i.alwaysScrollCompletePage&&ct[ct.length-1]<Math.abs(b))t=-ct[ct.length-1]*d,u=v-1;else if(o>w*(v-1))u=v-1,t=-w*u*d;else{if(n)s=!0,(a.ltr&&n==e.types.swipeRight||!a.ltr&&n==e.types.swipeLeft)&&(s=!1),s?u<v&&(u=u+1):u>0&&(u=u-1);else for(r=0;r<v;r++)if(o<=ct[r]){u=r;break}else if(o<w*(r+1)){u=r+1;break}t=-(w+dt)*u*d;u==1&&(t+=dt);i.alwaysScrollCompletePage||(h=ri-w+i.columnGap,Math.abs(t)>h&&(t=-h*d),v-1==u&&ct[ct.length-1]!=t&&(ct.pop(),ct.push(Math.abs(t))))}lt.animationStarting(f);gt(f,t,tt);p.setTimeout(ai,i.autoHideArrowMS)})}function kr(t){if(t.direction){ei="swipe";switch(t.current.touchType){case e.types.move:st&&!ni&&s(function(){wt?li.input(t.current.coord.x):(li.reset(t.current.coord.x),pi=gt(f),wt=!0);gt(f,pi+li.getDelta()|0)});break;case e.types.swipeUp:case e.types.swipeDown:case e.types.throwUp:case e.types.throwDown:case e.types.cancel:case e.types.stop:vi();break;case e.types.swipeRight:case e.types.throwRight:wt?vi(e.types.swipeRight):bt&&oi(1);break;case e.types.swipeLeft:case e.types.throwLeft:wt?vi(e.types.swipeLeft):kt&&oi(-1);break;case e.types.tap:var i=t.originalEvent.originalEvent,r=i.target,u=k.createEvent("MouseEvent");u.initMouseEvent("click",!1,!1,p,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,null);r.tagName!=="A"&&(r=n(r).parentsUntil("LI","A")[0]);r&&r.dispatchEvent(u)}}}var at=t,f,et,ot,yi=i.useViewPortForWidthContainer?at:at.find(i.widthContainerSelector),vt=at.find("."+i.pagingClass);vt.length?(et=at.find(".leftarrow"),ot=at.find(".rightarrow"),et.length||nr()):(vt=n("<div class='"+i.pagingClass+"'><\/div>"),yi.append(vt),nr());var ci,ii,li=new o,wt=!1,ni=!1,pi,wi,b,ri,bi,yt,ki,ct,pt="show",di="collapse-margin",nt,v,u,bt,kt,w,ui=!1,fi=0,lt,ti,gi="pagingsection",dt=1,ei="";return{setup:tr,teardown:ir,update:rr}}var d,ct,ot;d=a.ltr?1:-1;var tt="400ms",it,nt="left",rt="cubicBezierQuint",ut="PagingContentUpdated",st=u.isCapable("ShowMoveTouchGestures"),ft="snapCompleted",g=b.msManipulationViewsEnabled,et=!1,ht="ViewabilityUpdatedEvent";return i.csstransforms3d&&u.isCapable("AllowTransform3d")?(nt="translate3d",it=nt+"({0}px, 0px, 0px)",et=!0):i.csstransforms&&u.isCapable("AllowTransform2d")&&(nt="translateX",it=nt+"({0}px)",et=!0),ct=n(p),ot={autoHideArrow:!1,autoHideArrowMS:250,alwaysScrollCompletePage:!1,contentSelector:".sectioncontent",columnGap:23,extendedArrows:!0,pagingClass:"paging",rememberLastKnownIndex:!1,scrollOffset:0,useViewPortForWidthContainer:!1,widthContainerSelector:".full-width"},t(lt,ot)});define("renderSectionAd",["jquery","jqBehavior","adLoad","c.dom"],function(n,t,i){function r(n,t){return{setup:function(){i.loadSectionAd(n[0],t.adItemSelector)}}}return t(r,{adItemSelector:".showcasead"})});define("autoRefresh",["jquery","jqBehavior","window","headData","visibility"],function(n,t,i,r,u){function f(t,f){function a(){e&&(clearTimeout(c),c=i.setTimeout(w,f.timeout))}function p(){o&&(o=!1,e&&a(),setTimeout(function(){o=!0},6e4))}function w(){y?i.location=v(i.location.href,l):u.notifyWhenPageVisible().then(function(){i.location=v(i.location.href,l)})}function v(n,t){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),f=n.indexOf("?")!==-1?"&":"?",r,u;return n.match(i)?(r=n.match(i)[0].substring(4,5),u=parseInt(r)+1,n.replace(i,"$1"+t+"="+u+"$2")):n+f+t+"=1"}var s={},h=!1;r&&r.clientSettings&&r.clientSettings.autorefreshsettings&&(s={isEnabled:r.clientSettings.autorefreshsettings.is_market_enabled,timeout:r.clientSettings.autorefreshsettings.timeout,idle:r.clientSettings.autorefreshsettings.idle_enabled,idleTimeout:r.clientSettings.autorefreshsettings.idle_timeout},h=r.clientSettings.autorefresh);var c,o=!0,y=!0,e,l="AR";return{setup:function(){if(f=n.extend(!0,{},f,s),n.isNumeric(f.timeout)&&(e=n.isNumeric(f.timeout)),h&&f.isEnabled&&(e&&(f.timeout=f.timeout*6e4),a(),f.idle))n(document).on(f.monitorEvents,p)}}}return t(f,{isEnabled:!1,timeout:1,idle:!0,idleTimeout:1,monitorEvents:"mousemove keypress"})});define("modal",["jquery","modal.tokens"],function(n,t){function s(){var n=document.createElement("div");return n.setAttribute("id",r),n.setAttribute("title",t.closeButtonTitle),n}function h(n){var t=document.createElement("section");return t.setAttribute("class",o),t.setAttribute("role","dialog"),t.setAttribute("aria-labelledby","dialog-title"),t.setAttribute("aria-describedby","dialog-desc"),n&&t.setAttribute("id",n),t}function a(n){var i=document.createElement("button");return i.setAttribute("class","close"),i.setAttribute("title",t.closeButtonTitle),i.click(function(){f.close(n)}),i}var r="mask",o="modal",c="error",i,u,e=220,l="<h1>"+t.errorMessageTitle+"<\/h1><p>"+t.errorMessageLabel+"<\/p>",f={open:function(t,v,y,p){var w,b;i=i||n("body");u||(i.append(s()),u=n("#"+r),u.click(function(){f.close(y)}));w=n("#"+y);w.length==0&&(b=h(),i.append(b),n("."+o+":not([id])").attr("id",y),w.load(v,function(t,i,r){i==="error"?(w.append(l).addClass(c),n("p",this).append(r.status+" "+r.statusText)):typeof p=="function"&&p(y);w.append(a(y))}));i.addClass(r);n("#"+r+", #"+y).fadeIn(e);n(".webkit > #"+y).show()},close:function(t){i=i||n("body");n("#"+r+", #"+t).fadeOut(e).hide();i.removeClass(r)},openModalWithContent:function(t,o,c,l){var y,a,v;i=i||n("body");u||(i.append(s()),u=n("#"+r),u.click(function(){l&&typeof l=="function"?l():f.close(o)}));y=n("#"+o);y.length==0&&(a=h(o),c&&(v=n("#"+c),v&&v.appendTo(a)),i.append(a));i.addClass(r);n("#"+r+", #"+o).fadeIn(e);n(".webkit > #"+o).show()}};return f});define("stripeMenuManager",["jqBehavior","jquery","window","headData","stripeMenuData","stripeMenuModal","mediator"],function(n,t,i,r,u,f,e){function h(n,h){function it(){var n=t(this).closest(h.sectionsContainerElements),r=n.find(".stripenav").eq(0).find("li:first-child"),u=r.text(),i=a.getSectionInfo(n).sectionId,e=h.sectionRemovedText.replace("%s",u);n.append('<span data-undo-id="'+i+'">'+e+'<\/span><button class="undo" data-undo-id="'+i+'"> '+h.sectionUndoText+'<\/button><button class="close" data-undo-id="'+i+'"/> ');t('button.undo[data-undo-id="'+i+'"]').on("click",function(t){t.preventDefault();b(n,i)});t('button.close[data-undo-id="'+i+'"]').on("click",function(t){t.preventDefault();n.remove()});w();n.addClass("hide").removeClass("expanded");p(n);f.removeSection(i);a.removeSection(n,function(){},function(){b(n,i)})}function w(){t(h.hiddenStripes).remove()}function b(n,i){t('[data-undo-id="'+i+'"]').remove();n.removeClass("hide").addClass("expanded");d();p(n);f.addSection(i)}function rt(){k.call(this,!0)}function ut(){k.call(this,!1)}function k(n){var e,o;w();var s=!1,r=t(this).closest(h.sectionsContainerElements),f=t(h.sectionsContainerElements),u=r.prevAll(h.sectionsContainerElements).length;n&&u>0&&(e=f.eq(u-1),u===1&&(r.find(h.personalizationContextMenu).addClass(h.firstContextMenu),e.find(h.personalizationContextMenu).removeClass(h.firstContextMenu)),u===f.length-1&&(r.find(h.personalizationContextMenu).removeClass(h.lastContextMenu),e.find(h.personalizationContextMenu).addClass(h.lastContextMenu)),t(i).scrollTop(t(i).scrollTop()-r.offset().top+e.offset().top),e.before(r),s=!0);!n&&u<f.length-1&&(o=f.eq(u+1),u===0&&(r.find(h.personalizationContextMenu).removeClass(h.firstContextMenu),o.find(h.personalizationContextMenu).addClass(h.firstContextMenu)),u===f.length-2&&(r.find(h.personalizationContextMenu).addClass(h.lastContextMenu),o.find(h.personalizationContextMenu).removeClass(h.lastContextMenu)),t(i).scrollTop(t(i).scrollTop()+o.offset().top-r.offset().top),o.after(r),s=!0);s&&d();l=!1}function d(){clearTimeout(c);c=setTimeout(g,h.reorderTimeout)}function g(){clearTimeout(c);c=null;var n=t(h.sectionsContainerElements);a.showSectionsInOrder(n)}function ft(){var n=t(this).closest(h.sectionsContainerElements);f.open(n)}function y(){t(h.expandedPersonalizationContextMenu).data(h.contextMenuExpanded,!1).removeClass(h.expandedMenuClass);v=!1}function et(n){y();n.data(h.contextMenuExpanded,!0).addClass(h.expandedMenuClass);v=!0}function ot(){o=t(this);r.clientSettings.lazyload.enabled&&!s?e.pub("startLazyLoad",""):nt()}function nt(){var n=o.closest(h.personalizationContextMenu);n.data(h.contextMenuExpanded)?y():et(n);l=!1;o=null}function st(){v&&l&&y();l=!0}function p(){var i=t(h.sectionsElements),n;t(h.personalizationContextMenu).removeClass(h.firstContextMenu+" "+h.lastContextMenu+" "+h.onlyContextMenu);i.first().find(h.personalizationContextMenu).addClass(h.firstContextMenu);i.last().find(h.personalizationContextMenu).addClass(h.lastContextMenu);n=t(h.sectionsContainerElements).not(".hide");n.length===1&&n.find(h.personalizationContextMenu).addClass(h.onlyContextMenu)}function tt(){var n="click";p();t(h.personalizationContextMenuExpander).off(n);t(h.removeSectionButtonClass).off(n);t(h.moveSectionUpButtonClass).off(n);t(h.moveSectionDownButtonClass).off(n);t(h.addBelowButtonClass).off(n);t(h.personalizationContextMenuExpander).on(n,ot);t(h.removeSectionButtonClass).on(n,it);t(h.moveSectionUpButtonClass).on(n,rt);t(h.moveSectionDownButtonClass).on(n,ut);t(h.addBelowButtonClass).on(n,ft);t(i).unload(function(){typeof c=="number"&&(clearTimeout(c),g())})}var a=new u,l=!0,v=!1,c=null;t(h.headerPersonalizationButton).on("click",function(){f.open()});return r.clientSettings.lazyload.enabled&&!s&&require([h.lazyLoadCanary],function(){s=!0;tt();o&&(nt(),l=!0)}),{setup:function(){t("body").on("click.hideContextMenu",st);f.initStripeMenuModal();tt()},teardown:function(){}}}var o,s=!1;return n(h,{addBelowButtonClass:".stripemenu .add",contextMenuExpanded:"menuExpanded",expandedMenuClass:"expanded",expandedPersonalizationContextMenu:".stripemenu.expanded",firstContextMenu:"first",lastContextMenu:"last",onlyContextMenu:"only",moveSectionDownButtonClass:".stripemenu .down",moveSectionUpButtonClass:".stripemenu .up",personalizationContextMenu:".stripemenu",personalizationContextMenuExpander:".stripemenu .edit",removeSectionButtonClass:".stripemenu .remove",sectionRemovedText:"%s section removed",sectionRemoveTimeout:2500,sectionsContainerElements:"#main > .stripecontainer",sectionsElements:".stripeouter:not(.mestripeouter)",sectionUndoText:"Undo",reorderTimeout:2e3,headerPersonalizationButton:"header ul[role='menu'] li button.personalization",hiddenStripes:".stripecontainer.hide",lazyLoadCanary:"c.lazyLoaded"})});define("stripeMenuModal",["jquery","modal","stripeMenuData","imgSrc","track","headData","mediator"],function(n,t,i,r,u,f,e){function et(){d=new i;s=n("#"+o.modalId);s.remove();nt();s.on("click",o.tileSelector,ot);s.on("click",it,yt);w=s.find(rt).one("click",y).one("click",y);b=s.find(ut);s.appendTo(n("body"))}function nt(){var i=n(o.sectionSelector),t=s.find(o.tileSelector);ft=t.length;l=0;c=[];t.each(function(t,r){var u=n(r),f,e;g&&!v?u.hasClass(h)||(l++,c.push(u.data(o.dialogSectionIdAttr))):(f=u.data(o.dialogSectionIdAttr),e=i.filter("[data-"+o.pageSectionIdAttr+"='"+f+"']"),!e.length||e.eq(0).hasClass(o.removedSectionClass)?u.addClass(h):(u.removeClass(h),l++,c.push(f)))})}function ot(t){var i,r,f;t.preventDefault();i=n(this);i.hasClass(h)?(i.removeClass(h),l++):l>1&&(i.addClass(h),l--);r=!i.hasClass(h);f=i.attr("data-stripe-id");u.trackEvent({type:"click_nonnav",target:this},"","",f+"|add="+r);t.stopPropagation()}function st(n){tt(n,!1);var t=c.indexOf(n);t>=0&&c.splice(t,1)}function ht(n){tt(n,!0);c.push(n)}function tt(n,t){if(s&&s.length){var i=s.find("button[data-"+o.dialogSectionIdAttr+"='"+n+"']");t?(i.removeClass(h),l++):(i.addClass(h),l--)}}function ct(){n("img",s).each(function(){r.reset(this)})}function lt(n){if(p=n,g&&!v)try{define.get(o.lazyLoadCanary);v=!0;k()}catch(t){e.pub("startLazyLoad","");require([o.lazyLoadCanary],function(){v=!0;k()})}else k()}function k(){ct();t.openModalWithContent(null,o.modalContainerId,o.modalId);s.show();w.off("click",y).one("click",y).removeClass("disabled");b.hide()}function at(){var u;a=[];var r={},t=[],i=n(o.sectionSelector).map(function(t,i){var u=n(i),f=u.data(o.pageSectionIdAttr);return r[f]=t,{id:f,path:o.pdpPath,shown:!u.hasClass(o.removedSectionClass)}});return s.find(o.tileSelector).each(function(u,f){var c=n(f),e=c.data(o.dialogSectionIdAttr),l=!c.hasClass(h),s=i[r[e]];s?(s.shown=l,s.shown&&a.push(e)):l&&(t.push({id:e,path:o.pdpPath,shown:!0}),a.push(e))}),t.length&&(u=i.length,p&&(u=r[p.data(o.pageSectionIdAttr)]+1),t.unshift(u,0),[].splice.apply(i,t)),i}function vt(){var t,n;if(a.length!==c.length)return!0;for(c.sort(),a.sort(),t=a.length,n=0;n<t;n++)if(a[n]!==c[n])return!0;return!1}function yt(){nt();t.close(o.modalContainerId)}function y(n){w.addClass("disabled");var r=at(),i=vt();i?(b.show(),d.updateSectionInfosInOrder(r,function(){location.reload(!0)})):t.close(o.modalContainerId);u.trackEvent({type:"click_nonnav",target:this},"","","done|dirty="+i);n.stopPropagation()}var o={pageSectionIdAttr:"section-id",dialogSectionIdAttr:"stripe-id",pdpPath:"MSNHomePage/Stripes",modalId:"stripemenuoptions",modalContainerId:"stripemenumodal",removedSectionClass:"hide",sectionSelector:".stripecontainer",tileSelector:"button[data-stripe-id]",lazyLoadCanary:"c.lazyLoaded"},h="pending",it=".close",rt=".done",ut=".loading",ft,l,d,p,w,b,s,c=[],a=[],g=f.clientSettings.lazyload.enabled||f.clientSettings.lazyload.enabled==="true",v=!1;return{initStripeMenuModal:et,removeSection:st,addSection:ht,open:lt,setConfig:function(t){n.extend(!0,o,t)}}});define("stripeMenuData",["jquery","headData"],function(n,t){function e(n,t){return t.pdpPathTemplate.replace("%sectionId",n)}function f(n,t){var i=n.attr(t.sectionIdAttributeName),r;return u[i]||(r=e(i,t),u[i]={sectionId:i,pdpPath:r}),u[i]}function o(n,t){return f(n,t).sectionId}function s(n,t){return f(n,t).pdpPath}function w(n,t){return{Id:n,State:t?"expanded":"hidden"}}function h(n,t,i){return{operation:"Add",path:t,payload:JSON.stringify(w(n,i))}}function c(n,t,i){var r=[];return r.push(h(n,t,i)),JSON.stringify(r)}function b(t){var i=n.map(t,function(n){return h(n.id,n.path,n.shown)});return JSON.stringify(i)}function l(n,t,i){return c(o(n,i),s(n,i),t)}function a(n,t,i){return c(n,e(n,i),t)}function k(t,i){return n.map(t,function(t){var r=n(t);return{id:o(r,i),path:s(r,i),shown:!0}})}function r(t,i,r){i=i||n.noop;r?t.then(function(n){i(n)},function(n){r(n)}):t.always(function(n){i(n)})}function v(i,r,u,f,e){if(r>=u)f&&f();else{var o=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:b(i[r])}),s=v.bind(null,i,r+1,u,f,e);o.then(s,function(n){e?e(n):f&&f(n)})}}function d(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:l(i,!1,this._config)});r(e,u,f)}function g(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:l(i,!0,this._config)});r(e,u,f)}function nt(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:a(i,!1,this._config)});r(e,u,f)}function tt(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:a(i,!0,this._config)});r(e,u,f)}function it(n,t,i){var r=k(n,this._config);y(r,t,i)}function y(n,t,i){for(var u=[],r=0,f=n.length;r<f;r+=10)u.push(n.slice(r,r+10));v(u,0,u.length,t,i)}function i(t){var i={};n.extend(!0,i,p,t);this._config=i}var p={sectionIdAttributeName:"data-section-id",pdpPathTemplate:"MSNHomePage/Stripes"},u={};return i.prototype.removeSection=d,i.prototype.addSection=g,i.prototype.removeSectionById=nt,i.prototype.addSectionById=tt,i.prototype.showSectionsInOrder=it,i.prototype.updateSectionInfosInOrder=y,i.prototype.getSectionInfo=function(n){return f(n,this._config)},i});define("modal.tokens",{closeButtonTitle:"Close",errorMessageTitle:"Message:",errorMessageLabel:"Error loading content"});define("paging.tokens",{seeAllLink:"See all",pagingArrowText:"{0} of {1}"});define("skypeFirstRunBanner",["jquery","c.deferred"],function(n){function t(){n(".skypefirstrunbanner").click(n(this).remove)}return t(),{init:t}});deferredCanary="c.deferred";require(["window","document",deferredCanary],function(n,t){function r(){var r,o,u,s,h,f,e;u=function(n){return require({js:n}),!0};r="https:"===t.location.protocol?"https://b-ssl.grvcdn.com/moth-min.js":"http://b.grvcdn.com/moth-min.js";s=(o=!0===i.useGravityUserGuid?1:0)?"":i.user_guid||(null!=(e=/grvinsights=([^;]+)/.exec(t.cookie))?e[1]:void 0)||"";f=(h="","");r&&u(r);f&&(n.gravityInsightsParams.sidebar&&(n.gravityInsightsParams.wlStartTime=(new Date).getTime()),u(f))}var i={type:"content",action:"",site_guid:"14f1a20a34a9356b91dd8b860925478c"};n.gravityInsightsParams=i;setTimeout(r,500)});require(["setCookie","c.deferred"],function(n){var t="timeZoneOffsetInMins";(function(){var i=new Date;n(t,i.getTimezoneOffset(),365,null,"/",null)})()});require(["jquery","headData","perfMarker","requestAnimationFrame","c.deferred"],function(n,t,i,r){function f(){var n=document.createElement("IFRAME");n.id="greenid_frame";n.style.color="rgb(0,0,0)";n.style.float="left";n.style.position="absolute";n.style.top="-100px";n.style.left="-200px";n.style.border="0px";n.style.display="none";n.src="https://fpt.msn.com/tags?session_id="+u;document.body.appendChild(n)}function e(){return(/\ba\:([^;]*)/.exec(document.getElementsByTagName("head")[0].getAttribute("data-info"))||{})[1]||""}if(t.greenidcallenabled){var u=e();u&&r(f)}});define("pageBindings",["binding","c.dom"],function(n){return function(t){n("truncate",".stripecontent h4,.stripecontent p,.meflyout>section p,.smalla h4,.todaymodule .title,.todaystripe .title,.todayprimemobile h4,.popularnowimagewithlinks p,.popularnowimagewithlinks .first .title,.eventsection .title",t).all();n("pagingSection",".oscars > .eventcontent").all({columnGap:0,scrollOffset:10,contentSelector:".scrollcontent",extendedArrows:!1,widthContainerSelector:".scrollcontent",alwaysScrollCompletePage:!0});var i=n.views.SIZE23COLUMN;n("pagingSection",".stripeouter:not(.mestripeouter)",t).view(i,{contentSelector:".stripe .paging-container",scrollOffset:0,alwaysScrollCompletePage:!1,columnGap:15,extendedArrows:!0,useViewPortForWidthContainer:!1,widthContainerSelector:".paging-container"});require(["c.deferred"],function(){var i=20;n("arrowScroll",".stripeouter.mestripeouter",t).all({scrollRegion:".mestripe",reduceScrollAmount:i});n("arrowScroll",".todaynavigation .full-width",t).all({scrollRegion:".sectioncontent",reduceScrollAmount:i});n("stripeMenuManager","body",t).all();n("autoRefresh","#main",t).all();n("outlookInbox",".meflyouts .mail",t).all();n("meTwitter",".meflyouts .twitter",t).all();n("meFacebook",".meflyouts .facebook",t).all();n("loadMeImages",".mestripe li.maps",t).all({imagesToLoad:".meflyouts .maps img"});n("loadMeImages",".mestripe li.xbox",t).all({imagesToLoad:".meflyouts .xbox section li img"});n("loadMeImages",".mestripe li.bingrewards",t).all({imagesToLoad:".meflyouts .bingrewards .signin section li img",flyout:".meflyouts .bingrewards .signin",selectOnHover:!0});n("loadMeImages",".mestripe li.store",t).all({imagesToLoad:".meflyouts .store section li img"});n("loadMeImages",".mestripe li.amazon",t).all({imagesToLoad:".meflyouts .amazon section li img"});n("loadMeImages",".mestripe li.ebay",t).all({imagesToLoad:".meflyouts .ebay section li img"});n("meIntegratedSkype",".meflyouts .integratedskype",t).all();n("meOffice",".meflyouts .office",t).all({eventName:"OfficeFlyoutVisible"});n("meOffice",".meflyouts .onenote",t).all({eventName:"OneNoteFlyoutVisible"});n("meBingRewards",".meflyouts .bingrewards",t).all()})}});require(["refreshPdpModules","c.sso"],function(n){n()});require(["meModule","c.sso"],function(n){n.ssoAutoRefresh()});require(["refreshPdpModules","c.pdp"],function(n){n()});define("pagingAnimator",["jquery","modernizr","jqueryPlus"],function(n,t){var i=t.translateXCss;return function(t){function r(n,r,u){var f={};f[i]=n+"px";t.animate(f,{queue:!1,duration:r,easing:u})}return{initialize:n.noop,animationStarting:n.noop,animate:r,animationCompleted:n.noop}}});define("meStripe",["jquery","jqBehavior","dom","document","dir.tokens","imgSrc","touchGestures","scrollStop","track","mediator","viewport","truncate","scrollLeft","requestAnimationFrame","window","perfMarker","setCookie","getCookie","meStripeTelemetry","navigation","navigator","location"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){function tt(t){function or(){fi=n(r);ht=n("body");at=n(y);tt=t.find(".mestripe");p=tt.find("> ul > li");vt=t.find(".meflyouts .meflyout");gt=a(tt[0]);yt=tt.outerWidth();lt="touchstart MSPointerDown pointerdown";si=pr()}function sr(){or();p.each(kr);ui();h.sub(c.sizeChangeEventName,ui);gr()?hr():bi()}function hr(){yr();at.on(ei,ki);ht.click(hi);nu()}function bi(){if(!oi)fi.on(dt,gi);o(tt,null).setup();tt.on("scroll",ri);tt.on("scrollStop",nr);t.on(dt+" "+lt,li);at.on(wi,tr);if(ri(),e.settings.touchSupported)p.children("a").on(si,ar);p.children("a").on("click touchend",function(){arguments[0].type===pt&&k.updateClickE1(n(this).parent());(n(this).attr("href")=="#"?cr:lr).apply(this,arguments)});h.subChannel("closeFlyout","meStripeBehavior",rt)}function hi(t){if(ut[0]!=t.target&&!n.contains(ut[0],t.target))return t.preventDefault(),t.stopPropagation(),ht.off(pt,hi),ci(),!1}function ki(t){ut[0]==t.target||n.contains(ut[0],t.target)||ci(t)}function ci(n){n&&n.isPropagationStopped()||(ht.off(ei,ci),ut.removeClass(ft),ot.removeClass(ft),bi())}function cr(i){if(i.type===pt&&!oi&&!vi(i.originalEvent)){var r=n(this).parent();t.addClass(ti);ai(p.index(r))}i.preventDefault();i.stopPropagation();n(this).blur()}function lr(t){if(t.type==="touchend"||oi||vi(t.originalEvent))return t.preventDefault(),t.stopPropagation(),!1;n(this).blur()}function li(){v(function(){t.find(".signout img").each(function(){f.go(this)})});t.off(dt+" "+lt,li)}function di(n){p.find(n.target).length||vt.find(n.target).length||(rt(),ht.off(lt,di))}function ar(){var i=n(this).parent();if(i.hasClass(ft))rt();else{if(kt)return;t.addClass(ti);ai(p.index(i));ht.on(lt,di)}}function gi(n){if(!kt&&!vi(n.originalEvent)){var i,r;i=u.ltr?n.originalEvent.pageX:y.innerWidth-n.originalEvent.pageX;r=n.originalEvent.pageY;r>=it.top&&r<=it.bottom&&i>=it.left&&i<=pi?vr(n.originalEvent,i):ct?i<ct.x1||i>ct.x2||r<ct.y1||r>ct.y2?rt():et!==!1&&(clearTimeout(et),et=!1,rt()):ii&&(t.removeClass(ti),et&&(clearTimeout(et),et=!1),ii=!1)}}function ri(n){var t=a(tt[0]);n?t!==gt&&(kt=!0,rt()):rt();gt=t}function nr(){kt=!1}function tr(n){rt(n)}function vr(t,i){var f,u,s=wt.length,e,o;for(ii||(et||(et=setTimeout(br,700)),ii=!0),f=i+gt-it.left,u=0;u<s;u++)if(f<wt[u]){bt!==u&&(e=p[u],o=r.elementFromPoint(t.clientX,t.clientY),n.contains(e,o)?ai(u):rt());break}}function yr(){ut=vt.eq(p.index(ot));v(function(){ut.find("img").each(function(){f.go(this)})});ot.addClass(ft);ur(ot,ut);ut.addClass(ft)}function ai(n){var t,r,f,e,i,o;kt||bt===n||(t=p.eq(n),r=vt.eq(n),f=t.data(),e=f&&f.name?f.name:"meTile",rt(),k.updateHoverAop(t,e),k.updateHoverE1(t),st=r.addClass(ft),t.addClass(ft),ni=setTimeout(function(){h.pub(e.split(" ")[0]+"FlyoutVisible");s.trackEvent({type:"mouseenter"},t,"",e)},250),r.attr("data-truncated")!=="true"&&r.find("> section ul > li").length&&(l(" > section p",r,null).setup(),r.attr("data-truncated","true")),bt=n,ur(t,st),i=st.offset(),o=st.outerWidth(),ct={x1:u.ltr?i.left:y.innerWidth-i.left-o,y1:i.top,x2:u.ltr?i.left+o:y.innerWidth-i.left,y2:i.top+st.outerHeight()})}function rt(t){if(st&&(!t||t.type!="blur"||!n("iframe").is(":focus"))){var r=p.eq(bt),i=r.data(),u=i&&i.name?i.name:"meTile";st.removeClass(ft);r.removeClass(ft);st=bt=ct=!1;ni&&(clearTimeout(ni),ni=!1);h.pub(u.split(" ")[0]+"FlyoutClosed")}}function ir(){var n;return n=tt.offset(),n.right=n.left+tt.outerWidth(),n.bottom=n.top+t.outerHeight(),n}function pr(){return"touchend MSPointerUp pointerup"}function ui(){if(!it){rr();return}var n=ir();(it.left!=n.left||it.top!=n.top||it.right!=n.right||it.bottom!=n.bottom)&&rr(n)}function rr(n){rt();yt=tt.outerWidth();it=n?n:ir();wr()}function wr(){wt=[];for(var t=0,i=p.length,n=0;n<i;n++)wt.push(t+=p[n].offsetWidth);pi=wt[n-1]+it.left}function br(){et=!1;t.addClass(ti)}function kr(){var t=n(this),r=i.text(this),u="app",f="mixed";t.hasClass(u)?r+="_"+u:t.hasClass(f)&&(r+="_"+f);t.data({name:r})}function gr(){return ot===undefined&&(ot=p.filter(fr)),ot.length}function vi(n){return n.pointerType&&n.pointerType!=="mouse"&&n.pointerType!==4}function ur(n,t){var r=t.outerWidth(),i=u.ltr?n.position().left:yt-n.position().left-n[0].offsetWidth,f=i+r;f>yt&&(i=u.ltr?n.position().left+n.outerWidth()-r:yt-n.position().left-r);u.ltr?t.css({left:i}):t.css({right:i})}function nu(){var i="skypefre",r="ocid",n=d.getParamsFromUrl(nt.href),t=n&&n[r]?n[r].toLowerCase():"",u=t=="sky2dhp"||t.indexOf("sk2")==0,f=b(i);u&&!f&&w(i,t,365,w.topDomain,"/")}var fi,ht,at,tt,p,vt,it,gt,yt,ni,ot,ut,ft="hover",ti="noflyoutdelay",yi="mestripefre",ei="keydown",fr="[data-firstrun]:first",pt="click",er=180,wt=[],pi,st=!1,bt=!1,ct=!1,ii=!1,et=!1,kt=!1,wi="blur MSOrientationChange orientationchange",oi=/(iPad|iPhone|iPod|Android)/g.test(g.userAgent),dt=g.pointerEnabled||g.msPointerEnabled?"pointermove MSPointerMove":"mousemove",lt,si;return{setup:function(){sr()},update:function(){p=tt.find("> ul > li");vt=t.find(".meflyouts .meflyout");ri();ui()},teardown:function(){h.unsub(c.sizeChangeEventName,ui);fi.off(dt,gi);tt.off("scroll",ri);tt.off("scrollStop",nr);t.off(dt+" "+lt,li);p.children("a").off(si).off("mouseup").off(pt);at.off(wi,tr);at.off(ei,ki);ht.off(pt,hi)}}}return t(tt)});define("outlookLogout",["jquery","jqBehavior","track","window"],function(n,t,i,r){function u(n){var t=n.data("outlook-url");n.click(function(){return r.open(t),i.trackEvent({type:"click",target:this}),!1})}return t(u)});define("meStripeTelemetry",["jquery","headData"],function(n,t){function l(n,t){var r=nt(),u=tt();it(n)&&(t+="_signedin");r.attr(i.attributes.aop,t);u.attr(i.attributes.aop,t)}function a(n){if(n.hasClass(i.classes.app)){var t=n.data(i.attributes.m);t&&t.y&&(delete t.y,delete t.l,n.attr(i.attributes.datam,JSON.stringify(t)))}}function v(n){if(n.hasClass(i.classes.app)){var t=n.data(i.attributes.m);t.y=18;t.l=n.hasClass(i.classes.mail)?"9WZDNCRFHVQM":t.n;n.attr(i.attributes.datam,JSON.stringify(t))}}function y(){u(i.tileClasses.outlook,i.flyoutClasses.outlook);u(i.tileClasses.onedrive,i.flyoutClasses.onedrive);r(i.tileClasses.maps,i.flyoutClasses.maps);r(i.tileClasses.xbox,i.flyoutClasses.xbox);r(i.tileClasses.oldskype,i.flyoutClasses.oldskype);r(i.tileClasses.store,i.flyoutClasses.store);r(i.tileClasses.amazon,i.flyoutClasses.amazon);r(i.tileClasses.ebay,i.flyoutClasses.ebay)}function p(){u(i.tileClasses.office,i.flyoutClasses.office)}function w(){u(i.tileClasses.onenote,i.flyoutClasses.onenote)}function b(){u(i.tileClasses.skype,i.flyoutClasses.skype)}function k(){u(i.tileClasses.bingrewards,i.flyoutClasses.bingrewards)}function d(n){i.signedInStatus.facebook=n;n?r(i.tileClasses.facebook,i.flyoutClasses.facebook):f(i.tileClasses.facebook,i.flyoutClasses.facebook)}function g(n){i.signedInStatus.twitter=n;n?r(i.tileClasses.twitter,i.flyoutClasses.twitter):f(i.tileClasses.twitter,i.flyoutClasses.twitter)}function u(n,i){t.signedin?r(n,i):f(n,i)}function f(n,t){var r=e(n),u,f;r.length&&(u=o(t),f=u.find(i.classes.section),r.attr(i.attributes.aop,i.aopValues.tile),f.attr(i.attributes.aop,i.aopValues.signin))}function r(n,t){var r=e(n);if(r.length){var u=o(t),f=u.find(i.classes.section),s=u.find(i.classes.tasks);r.attr(i.attributes.aop,i.aopValues.tile);f.attr(i.attributes.aop,i.aopValues.section);s.attr(i.attributes.aop,i.aopValues.task)}}function e(n){return h(),i.elements.tiles.filter(n)}function o(n){return c(),i.elements.flyouts.filter(n)}function nt(){return i.elements.tilesParent||(h(),i.elements.tilesParent=i.elements.tiles.eq(0).parent()),i.elements.tilesParent}function tt(){return i.elements.flyoutParent||(c(),i.elements.flyoutParent=i.elements.flyouts.eq(0).parent()),i.elements.flyoutParent}function s(){return i.elements.main||(i.elements.main=n("#main")),i.elements.main}function h(){if(!i.elements.tiles){var n=s();i.elements.tiles=n.find(i.classes.tiles)}}function c(){if(!i.elements.flyouts){var n=s();i.elements.flyouts=n.find(i.classes.flyouts)}}function it(n){return n.hasClass("facebook")?i.signedInStatus.facebook:n.hasClass("twitter")?i.signedInStatus.twitter:t.signedin}var i={attributes:{aop:"data-aop",datam:"data-m",m:"m"},elements:{main:null,tiles:null,flyouts:null,tilesParent:null,flyoutParent:null},classes:{tiles:"div.mestripe > ul li",flyouts:"div.meflyouts  > div",section:"> div > section",tasks:"> div > ul",app:"app",mail:"mail"},tileClasses:{bingrewards:"li.bingrewards",outlook:"li.mail",skype:"li.integratedskype",oldskype:"li.skype",office:"li.office",onenote:"li.onenote",onedrive:"li.onedrive",maps:"li.maps",facebook:"li.facebook",twitter:"li.twitter",store:"div.store",xbox:"li.xbox",amazon:"div.amazon",ebay:"div.ebay"},flyoutClasses:{bingrewards:"div.bingrewards",outlook:"div.mail",skype:"div.integratedskype",oldskype:"div.skype",office:"div.office",onenote:"div.onenote",onedrive:"div.onedrive",maps:"div.maps",facebook:"div.facebook",twitter:"div.twitter",store:"div.store",xbox:"div.xbox",amazon:"div.amazon",ebay:"div.ebay"},aopValues:{tile:"tile",signin:"signin",section:"section",task:"task"},signedInStatus:{facebook:!1,twitter:!1}};return{updateBingrewardsAop:k,updateFacebookAop:d,updateHoverAop:l,updateHoverE1:a,updateClickE1:v,updateOutlookAop:y,updateOfficeAop:p,updateOnenoteAop:w,updateSkypeAop:b,updateTwitterAop:g}});define("keypressCapture",["jquery","jqBehavior","mediator","perfMarker","window","document"],function(n,t,i,r,u,f){function s(t,u){function a(){h=!0}function v(){h||n(this).focus()}function c(t){t.charCode>32&&t.charCode<=126&&n(t.target).is(l)&&s.focus()}var s=n(u.focusSelector),l=":not(input,textarea,select,{selector})".replace("{selector}",u.focusSelector),h=!1,f;o.one("focusin mousedown touchstart",a);s.one("keypress",v);return f={setup:function(){t.on("keypress",c);e||(e=!0,r("TimeToFirstSearchInteractive",!0))},teardown:function(){t.off("keypress",c)}},i.sub("feedback.open",f.teardown),i.sub("feedback.close",f.setup),f}var o=n(f),e;return t(s,{focusSelector:""})});define("skypeUserFirstRunExperience",["jquery","track","imgSrc","window","mediator","c.dom"],function(n,t,i,r){function c(){if(u.length){e=n("body,.stripeouter.mestripeouter");h=n("#skypefrecontinue");o="keydown";s="skypefreoverlay";a();u.click(f);n(r).on(o,l);e.addClass(s);h.focus()}}function f(i){i.stopPropagation();i.preventDefault();n(r).off(o,l);u.off("click",f);e.removeClass(s);t.trackEvent({type:"click_nonnav",target:this},null,"skypefredialog");u.remove()}function l(n){f(n)}function a(){n("#skypefredialog img").each(function(){i.go(this)})}var u=n("#skypefredialog,#skypefrecontinue,#skypefreclose"),e,h,o,s;return c(),{init:c,trackAndDismiss:f}});define("nativeadPartnerData",["trackInfo","pageInstance","headData"],function(n,t,i){function r(){return{cid:n.client.clientId(),rid:t.getActivityId()||i.clientSettings.aid}}return{getData:r}});define("nativeAdTrackingHelper",["jquery","document","elementTrackingDecorator","classList","trackInfo","format","trackingHelper"],function(n,t,i,r,u,f,e){function v(t,r){if(t&&r){var u=n(t);r.elementOverride=o;i.setTrackingAttrs(u,u,r,!0)}}function o(t,i){var f=-1,r;t&&i.Items&&n.each(i.Items,function(n,i){if(i.trackingId&&t[0].href.indexOf(i.trackingId)>-1)return f=i.slot,!1});f>-1?(r=i.Items[f],r&&(i.l=r.trackingId,i.n=c.format(r.type),i.y=r.trackingType,r.trackingType===u.telemetryModuleTypes.appStore&&t[0].logger_url&&(t[0].logger_url=t[0].logger_url.replace(/&redir=(.*?)&/,"&redir="+r.url+"&")))):i.n=h;i.Items=undefined}function s(n){var t,i,r;n.url&&(n.url.indexOf("://")>-1&&!(n.url.indexOf("ms-windows-store")>-1)?(t=n.url.split("/")[2],t.indexOf("msn.com")>-1?(n.trackingType=u.telemetryModuleTypes.Headline,n.trackingId=n.url.split("?")[0].split("-").pop()):n.trackingType=u.telemetryModuleTypes.Module):(t=n.url.split("/")[0],t.indexOf("ms-windows-store")>-1&&(i=decodeURIComponent(n.url).match(l),r=i&&i.length>1&&i[1],r||(n.url=y(n.url),n.trackingType=u.telemetryModuleTypes.appStore,n.trackingId=n.url.split("&")[0].split("=").pop(),n.url=encodeURIComponent(e.addCcidToStoreUrl(n.url))))))}function y(n){var o=n.match(a),h=o&&o[1],e=n.indexOf("#"),s="",u={startpage:"apptabinfo",viewsPage:"apptabeoab",verticalLandingPage:"apptabvert",defaultOcid:"apptabinfo"},f,i;return h?n:(e>=0&&(s=n.substring(e,n.length),n=n.substring(0,e)),f=n,i=t.body,f+="&ocid=",f+=r.contains(i,"startpage")?u.startpage:r.contains(i,"ap")||r.contains(i,"gp")?u.viewsPage:r.contains(i,"homepage")?u.verticalLandingPage:u.defaultOcid,f+s)}function p(n){var i={selector:"a[title]"},u=i.defaults||{},f={},e=0,t,r;if(n.detail.items&&(e=n.detail.items.length),e){for(t=0;t<n.detail.items.length;t++)r=n.detail.items[t],s(r),f[t]=r;u.Items=f;i.defaults=u;v(n.detail.container,i)}}var h="TaboolaAttributionLink",c="Taboola{0}Item",l=/[&?]ccid=([^&]+)/i,a=/[&?]ocid=([^&]+)/i;return{taboolaCallback:o,setTaboolaTrackingAttributes:s,onTaboolaElementsRender:p}});define("externalNativeAdsLoader",["jquery","jqBehavior","nativeAdTrackingHelper","slideShowNavigation","mediator","c.deferred"],function(n,t,i,r,u){function f(n){function g(){u.unsubChannel(r.event.update,v,c);o!=null&&(clearTimeout(o),o=null)}function nt(){require({js:s});for(var n=0;n<s.length;n++)window._taboola=[],_taboola.push({listenTo:"render",handler:i.onTaboolaElementsRender}),_taboola.push({flush:!0})}function tt(){g();nt()}var a,c="0",v="1",f,e,t,o;a={"10":"//a.postrelease.com/serve/load.js","20":"//cdn.3lift.com/msn_infopane.js","21":"//ib.3lift.com/ttj?inv_code=msn_main_river","30":"//widgets.outbrain.com/external/publishers/msn/MSNOBCore.min.js","40":"//cdn.taboola.com/libtrc/msn-home-network/loader.js","50":"//static.grvcdn.com/personalization/js-src/msn-14f1a20a34a9356b91dd8b860925478c/hostedSnippet-pl-401-sp-6804.js","60":"//cdn.taboola.com/libtrc/msn-section-network/loader.js"};var l=[],s=[],w=n.attr("data-nativead"),b="data-ad-tag",y=w.split(";");for(f=0;f<y.length;f++)if(e=y[f].split("_"),e.length>2){var h=e[0],k=e[1],d=e[2],p=n.find(d).first();p.length&&(t=a[h],t&&(p.attr(b,h+":"+k+":"+f),h==40||h==60?s.indexOf(t)<0&&s.push(t):l.indexOf(t)<0&&l.push(t)))}setTimeout(function(){require({js:l})},"0");o=null;o=setTimeout(tt,c);u.subChannel(r.event.update,v,c)}return t(f)});require(["binding","perfMarker","c.dom"],function(n){n("externalNativeAdsLoader","#main [data-nativead]").all()});define("likePrompt.tokens",{supportedReferrerList:"facebook.com",likeStripText:"Never miss another interesting story. Like MSN on Facebook",referralBasedLikePromptHeaderText:"Take a moment to like MSN!",referralBasedLikePromptBodyText:"Join millions of fans to get the best online content on Facebook",sharingBasedLikePromptHeaderText:"Found the story interesting?",sharingBasedLikePromptBodyText:"Like us on Facebook to see similar stories",startPagePromptDisplayCycle:"10",startPageMaxDisplayCountForLikePrompt:"21",maxDisplayCountForLikePromptAcrossAllEntryPoints:"2",maxShareCountForLikePrompt:"13",maxReferralCountForLikePrompt:"21",shareCountCycle:"3",referralCountCycle:"10",facebookLang:"en_US",fbMsnUrl:"https://www.facebook.com/msn"});define("likePrompt",["jquery","jqBehavior","window","getCookie","setCookie","track","likePrompt.tokens","trackInfo","format","escape","document","navigation"],function(n,t,i,r,u,f,e,o,s,h,c,l){function a(t){function ut(){k===st?(ct.textContent=e.referralBasedLikePromptHeaderText,lt.textContent=e.referralBasedLikePromptBodyText):(ct.textContent=e.sharingBasedLikePromptHeaderText,lt.textContent=e.sharingBasedLikePromptBodyText)}function at(){h.stop().hide();p.removeClass("disablefblink");g.add(h).add(nt).add(p).off("click")}function vt(n,t,i){f.trackEvent({type:n,target:t},"","",i,k,d)}function yt(){vt("click_nonnav",g,"Like Prompt Closed - Prompt Display Count #"+tt);s&&!v&&i.open(t.attr("href"),"_blank");at()}function dt(n){at();n.stopImmediatePropagation();n.preventDefault();u(w,"true",y,u.topDomain,"/");vt("click_nonnav",nt,"User disabled the prompt - Prompt Display Count #"+tt);s&&!v&&i.open(t.attr("href"),"_blank")}function gt(t){!n(t.target).closest(".fbpopup").length&&h.is(":visible")&&yt()}function ni(){h.delay(1e3).show();setTimeout(function(){i.FB&&i.FB.XFBML.parse(n(".fbpopup")[0])},200);g.add(p).on("click",function(n){n.stopImmediatePropagation();n.preventDefault();yt()});h.on("click",gt);nt.on("click",function(n){dt(n)})}function ti(n){return n.pointerType&&n.pointerType!=="mouse"&&n.pointerType!==4}function ft(n,t){var i=r(n),f=r(rt);if(r(w)!=="true"){if(f&&typeof f=="string"||u(rt,"0",y,u.topDomain,"/"),i&&typeof i=="string"){if(Number(i)>=Number(ot))return u(t,"true",y,u.topDomain,"/"),0;u(n,Number(i)+1,y,u.topDomain,"/")}else u(n,"1",y,u.topDomain,"/");if(i=r(n),(Number(i)-1)%Number(it)==0)return(u(rt,Number(f)+1,y,u.topDomain,"/"),Number(f)+1>ht)?(u(t,"true",y,u.topDomain,"/"),0):(tt=(Number(i)-1)/Number(it)+1,ni(),1)}return 0}function pt(n){ti(n.originalEvent)||ft(b,w)!==1&&(v||i.open(t.attr("href"),"_blank"))}function et(n){(typeof n=="undefined"||n&&(!n.error_code||n.error_code===4201))&&ft(b,w)}function ii(){ut();i.FB&&i.FB.ui({method:"share",display:"popup",href:t.attr("href")},et)}function ri(){ut();i.FB&&i.FB.ui({method:"feed",display:"popup",link:t.attr("href"),picture:t.data("thumbnail-href"),redirect_uri:t.data("redirect"),description:t.data("description")},et)}function ui(){p.addClass("disablefblink")}function fi(){setTimeout(function(){s?ui():ut();ft(b,w)!==1&&p.removeClass("disablefblink")},2500)}function ei(){s=o.sitePage.pageName==="startpage";a=!s&&t.is("body");v=s&&t.is("body")}function oi(){if(b=s?v?"startpageEngagedUsersPageVisitCount":"startpageMeStripeClickCount":a?"referralCount":"shareCount",k=s?v?wt:bt:a?st:kt,d=k,a){var t=l.getHostName(c.referrer),i=e.supportedReferrerList.split(";");n.each(i,function(n,i){t.toLowerCase().indexOf(i)>-1&&(d=d+" - "+i)})}ht=Number(e.maxDisplayCountForLikePromptAcrossAllEntryPoints);ot=s?e.startPageMaxDisplayCountForLikePrompt:a?e.maxReferralCountForLikePrompt:e.maxShareCountForLikePrompt;it=s?e.startPagePromptDisplayCycle:a?e.referralCountCycle:e.shareCountCycle}var y=180,tt,s,a,v,ot,it,b,w="likePromptDisabled",k,d,st="FBMSNRefLikePrompt",wt="FBMSNStartPageEngagedUsersLikePrompt",bt="FBMSNStartPageLikePrompt",kt="FBMSNLikePrompt",ht,rt="promptDisplayCount",h=n(".fbpopup-container"),g=h.find(".fbpopup-close"),p=h.find(".fblink"),nt=n("#fbdisablelikeprompt"),ct=h.find("h2")[0],lt=h.find("p")[0];return i.handleFbResponse=et,i.handleMeStripeFbTileClick=pt,{setup:function(){if(ei(),oi(),a||v)fi();else if(s)t.on("click",function(n){pt(n)});else if(t.hasClass("feed-dialog"))t.on("click",ri);else t.on("click",ii)},teardown:function(){a||v||t.off("click");g.add(h).add(nt).add(p).off("click");p.removeClass("disablefblink")}}}return t(a)});require(["jquery","isWindowsOsVersionRs1OrLater","trackInfo","c.deferred"],function(n,t,i){var r=t.validate(),u=n("body[class*=edgewdushpmsg]").length>0?!0:!1;r&&u&&i.updateTemplValue("EdgeUpsellTmpl")});define("isWindowsOsVersionRs1OrLater",["document"],function(n){function t(){var t=n.createElement("canvas").getContext("2d"),i;return t.font="64px Segoe UI Emoji",i=t.measureText("").width,i<=90?!0:!1}return{validate:t}});require(["jquery","navigation","location","getCookie","setCookie","mediator","c.deferred"],function(n,t,i,r,u,f){(function(){function w(){s=h.inst?parseInt(h.inst):0;isNaN(s)&&(s=0)}function b(n){var i="",t,u,r;n||(h.inst=[o.i]);for(t in h)if(h.hasOwnProperty(t)&&(!n||t!=="inst"))for(u=h[t],r=0;r<u.length;r++)i=(i.length?i+"&":"?")+(t+"="+u[r]);return i}function k(n){o={i:n,n:1}}function d(){var n=r(v);try{e=JSON.parse(n)}catch(t){e={ni:1,insts:[]}}}function g(){var i,n,t;if(d(),s)for(i=e.insts.length,n=0;n<i;n++)e.insts[n].i===s&&(o=e.insts[n]);typeof o===ut?(t=s?s:e.ni,k(t),e.ni=t+1,e.insts.push(o)):o.i===p&&(o.i=e.ni,e.ni=e.ni+1,e.insts.push(o))}function ot(n){var t,i;return n.currentTarget?(t=!1,n.currentTarget.href&&(i=n.currentTarget.href.substr(n.currentTarget.href.length-1),t=i==="#"),n.currentTarget.target!=="_blank"&&(n.currentTarget.protocol===""||n.currentTarget.protocol===":"||n.currentTarget.protocol==="http:"||n.currentTarget.protocol==="https:")&&!t)?!0:!1:!1}function c(n,t){o&&(o[n]=t)}function l(){var t=new Date,n;c(ft,t.getTime());n=JSON.stringify(e);u(v,n,null,u.topDomain,"/",null)}function nt(n){if(ot(n)){if(s===0){g();var t=b();window.history.replaceState(null,null,t)}else c(y,1);l()}}function st(){if(!s){k(p);return}g();c(y,0);l()}function ht(){var t=-1,n,i;for(d(),n=0;n<e.insts.length;n++)i=e.insts[n],i.i===s&&(t=n);t>-1&&(e.insts.splice(t,1),l())}function tt(n){if(n.persisted){rt(!0);w();var t=b(!0);window.history.replaceState(null,null,t);ht()}}function it(n){c(et,n)}function rt(t){var i="click",r="#main a, #foot a",u="infopane_slide_change";if(t)window.removeEventListener(a,tt,!1),n(r).off(i,nt),f.unsub(u,it);else{window.addEventListener(a,tt,!1);n(r).on(i,nt);f.sub(u,it)}}var e,o,a="pageshow",ut="undefined",v="hpinst",ft="m",y="n",et="s",h=t.getParamsFromUrl(i.href,!0),s,p=999;window.history&&window.history.replaceState&&(w(),st(),rt())})()});define("pageBindings.pc",["binding","perfMarker","headData","document","c.dom"],function(n,t,i,r){n("keypressCapture","body").all({focusSelector:"#q"});var u=r.getElementById("q");return u!=null&&u.focus(),t("TimeToFirstSearchInteractive",!0),require(["jquery","headData"],function(n,t){if(!t||!t.clientSettings||!t.clientSettings.static_page)n(".mestripe>ul>li.facebook>a").on("click",function(n){n.preventDefault()})}),function(t){i&&i.clientSettings&&i.clientSettings.static_page||(n("meStripe",".mestripeouter",t).all(),n("outlookLogout","#outlooklogout",t).all(),require(["c.deferred"],function(){n("likePrompt",".mestripe > ul > li.facebook > a").all({triggerEvent:"click"})}))}});define("feedbackHelper",["jquery","trackInfo","screen","document","headData","guidGen","navigator"],function(n,t,i,r,u,f,e){function o(n){if(!t.sitePage)return n;n=n||{};var o=t.sitePage,s=t.telemetryTracking.setupParameters();return n["feedback.id"]=f(),n.pageType=o.pageName,n.subcvs=o.vertical,n.cvs=o.canvas,n.contentid=o.entityId,n.cu=o.pageUrl,n.evt="feedback",n.mkt=o.localeCode,n["client.deviceOS"]=o.os,n.flightid=o.flightid,n.referrer=r.referrer,n.signedin=t.userStatic?t.userStatic.isSignedIn:"",n["client.deviceModel"]=u?u.dg:"",n.userAgent=e.userAgent,n.scr=i.width&&i.height?i.width.toString()+" X "+i.height.toString():"",s!==null&&s!==undefined&&(n.rid=s.rid,n.clid=s.clid),n}return{createFeedbackData:o,flyoutEventOrigin:"#footer_feedback, #usermenu-feedback, #feedback-bottomentry, .floatingfeedback"}});define("feedback.tokens",{inputBoxError:"Please leave a comment.",categoryNotSelectedError:"Please leave a comment or select a problem category."});define("feedback",["jquery","trackInfo","feedback.tokens","flyout","logging","jqBehavior","mediator","document","headData","feedbackHelper","guidGen","window"],function(n,t,i,r,u,f,e,o,s,h,c,l){function g(f){function ni(){dt?o.body.appendChild(et):(et=o.createElement("div"),et.setAttribute("class","layoutoverlay"),o.body.appendChild(et),rt=f.find(".feedbackheader .selected"),ut=n("#feedback-reportproblem"),yt=n("#feedback-submit"),lt=n("#feedback-ok"),at=n("#feedback-close"),ot=n("#feedback-feedbackarea"),g=n("#feedback-inputbox"),pt=n("#feedback-useralias"),vt=f.find(".stars > ul > li"),dt=!0);tt=!1;nt=null;it.text(w);it.removeClass("uploading uploaded");gt=c();wt=!1;!y&&t.sitePage&&(y=(t.sitePage||{}).otfURL,y||u.error("[telemetryTracking.Feedback] BaseUrl was empty or undefined in sitePage."))}function si(){g.length&&(s.submitValue=g.val());pt.length&&(s[v+".source"]=pt.val())}function hi(){if(s[v+".area"])return ft&&ht(),!0;if(!ft&&g.length){if(g.val().length)return!0;g.val(tt?i.categoryNotSelectedError:i.inputBoxError);g.addClass("error").on("focus",ht);ft=!0}return!1}function ht(){ft&&(g.removeClass("error").off("focus",ht),ft=!1);g.val("")}function ti(n){n.preventDefault();st.click()}function ii(){var t,r,i;if(!y){u.error("[feedback] Error submitting user feedback as telemetry baseUrl is empty");return}t=st[0];r=t.value?t.value.replace(/^.*(\\|\/|\:)/,""):"";it.text(r||w);t.value&&t.files&&t.files.length&&(it.addClass("uploading"),i=new l.FormData,i.append("file",t.files[0]),n.ajax({url:y+"?"+n.param({"feedback.id":gt}),data:i,processData:!1,contentType:!1,type:"POST"}).done(function(){it.removeClass("uploading").addClass("uploaded")}))}function ci(){if(!y){u.error("[feedback] Error submitting user feedback as telemetry baseUrl is empty");return}s=h.createFeedbackData(s);si();n.ajax({type:"POST",url:y,data:JSON.stringify([s]),contentType:"application/json; charset=utf-8",dataType:"json"}).fail(function(n,t,i){u.error("[feedback] Error submitting user feedback. ErrorType: {0}. Error: {1}".format(t,i.message))})}function li(n,t){ni();yt.on(a,ei);at.on(a,ct);ut.on(a,oi);rt.on(a,kt);vt.on(a,fi);st.on("change",ii);it.on(a,ti);e.pub(v+".open");t(n)}function ri(n){var t=ot.find(".feedbackarea>ul>li");t.length&&(n?t.on(a,ui):t.off(a,ui))}function ui(t){var i=n(t.currentTarget);s[v+".area"]=i.text();s[v+".type"]="bug";nt&&nt.removeClass("selectedcategory");nt=i;i.addClass("selectedcategory")}function fi(t){var i=n(t.currentTarget),r=i.index()+1;i.parent().attr("data-selected",r);s[v+".rating"]=r}function ai(){s[v+".rating"]=0;vt.parent().attr("data-selected",0).off(a,fi)}function ct(){e.pub(v+".close");wt&&(lt.off(a,ct),ci());f.removeClass("show finalpage");o.body.removeChild(et);yt.off(a,ei);at.off(a,ct);ut.off(a,oi);rt.off(a,kt);st.off("change",ii);it.off(a,ti);ht();ai();tt&&kt()}function ei(){if(hi()){f.addClass("finalpage");wt=!0;lt.on(a,ct)}}function oi(){tt||(tt=!0,ot.addClass("showproblemarea"),rt.removeClass(p),ut.addClass(p),ri(!0))}function kt(){tt&&(ri(!1),s[v+".type"]="General",s[v+".area"]=undefined,rt.addClass(p),ut.removeClass(p),ot.removeClass("showproblemarea"),tt=!1,nt&&nt.removeClass("selectedcategory"),nt=null)}var lt,at,ot,g,rt,ut,nt,vt,yt,pt,ft,wt,et,tt,st=f.find(b),it=f.find(d),dt=!1,gt=c(),s={},bt;return s[v+".rating"]=0,s[v+".type"]="General",bt=r(k,o,{eventOrigin:h.flyoutEventOrigin,outsideEvent:"",openFlyoutDelegate:li,allowToggleOff:!1}),{setup:bt.setup,teardown:bt.teardown,feedback:{initialize:ni}}}var y="",a="click",v="feedback",b="#feedback-file",k="#feedback-flyout",w="Upload a Screenshot",p="selected",d="#feedback-upload";return f(g)});deferredCanary="c.deferred";deferredCanary="c.postdeferred";require(["binding",deferredCanary],function(n){n("feedback","#feedback-flyout").all()});define("appPromoFooter",["jquery","setCookie","track","c.dom"],function(n,t,i){return function(){function f(){i.trackEvent({type:"click_nonnav"},this);r.remove();t("pf-"+u,e(),365,!1,"/")}function e(){var n=new Date;return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}var r=n("#promoappfooter"),u;r.length&&(u=r.attr("data-vkey"),r.find(".closebutton,.msnpromo li a,.appexploretext").click(f))}});require(["appPromoFooter"],function(n){n()});define("floatingFeedbackLink",["jquery","jqBehavior","mediator","window"],function(n,t,i){function f(n){function f(i){i.top===0?(n.removeClass(r),t=!1):t||(n.addClass(r),t=!0)}var t=n.hasClass(r);return{setup:function(){n.length!==1||document.getElementById("conditionalbanner")||i.sub(u,f)},teardown:function(){i.unsub(u,f)}}}var r="show",u="viewport_scroll_change";return t(f)});require(["binding","c.deferred"],function(n){n("floatingFeedbackLink",".floatingfeedback").view(n.views.SIZE4COLUMN)});g_ashsC=g_ashsC||{};g_hsSetup=function(){};define("autoSuggestSnR",["jquery","jqBehavior","pageInstance","trackInfo","mediator","getCookie","setCookie","format","track","navigation","location","window","document","headData"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function b(t,o){function ot(){var n=new RegExp("\\b"+ft+"=0\\b","i");return f(ut).match(n)}function st(){var f=yt(),e=o.delayBind<2?"&onload=1":"",s=i.getActivityId()||r.sitePage.requestId,n=nt&&nt[it],u,t;n=n||n==""?"&setflight="+nt[it]:"";u=a.getElementsByTagName("head")[0];t=a.createElement("script");u.appendChild(t);t.src=f+s+e+n}function ht(){var n=ot();return tt(l[b])?(l[b].enable(!n),at(),1):t[0]&&p[0]&&!n?(o.delayBind==2&&(d=1),st(),1):0}function ct(){return w(f("_SS"),5)||e("_SS","SID=00",365,o.cookieDomain,"/"),1}function rt(t,i){t==0?i():t==1?n(a).ready(i):t==2&&lt(i)}function lt(n){var t=".asue";p.bind("click"+t,function(){n()&&p.unbind(t)}).bind("keyup"+t,function(i){i.which!=27&&i.which!=9&&n()&&p.unbind(t)})}function at(){var t,r,i,u;g||(t=w(k.cn,1)?k.cn.split("+"):null,t&&w(t[0],1)&&(r=f(t[0]),w(r,4)&&(i=r.match(/SID=[\d(A-Z(a-z)]+/),i&&w(i[0],5)&&(g=i[0].substr(4)))));tt(l[b])&&(u="sid",n.isFunction(l[b][u])&&l[b][u](g),d&&(d=0,a.activeElement==p[0]&&p.click()))}function vt(){s.trackEvent({type:"submit",target:t[0]})}function yt(){var t="us",n;return v.locale&&(n=v.locale.split("-"),n.length>=2&&(t=n[1])),y+"://www.bing.com/as/init?cc="+t+"&pt=IcePrime_HomePage&refig="}var ut="SRCHHPGUSR",ft="AS",b="sa_inst",k=o.sharedCk,d=0,g,p=n("#"+o.inputId,t),et,nt=h.getParamsFromUrl(c.href),it="fdhead",w,tt;u.sub("autosuggestPreventSubmit",function(){et=!1});w=function(n,t){return typeof n=="string"&&(!t||n.length>=t)};tt=function(n){return typeof n!="undefined"};rt(o.delayBind,ht);rt(k.delay,function(){return ct()});t.on("ASSugClicked",vt)}var y="https",w={formId:"srchfrm",inputId:"q",featureType:1,cookieExpiry:365,cookieDomain:"msn.com",delayBind:2,sharedCk:{delay:1,ru:y+"://"+c.host+"/sck.aspx&form=MSN005",pu:y+"://www.bing.com/sck",cn:"_SS",domain:"msn.com"}},p=t(b,w);return p.resize=function(n){l.sa_inst&&l.sa_inst.autosuggest.setQuery(n.val())},p});require(["binding","c.deferred"],function(n){n("autoSuggestSnR","#srchfrm").all()});define("sso.tokens",{signInText:"Sign in",signOutText:"Sign out"});define("meControlBootstrap",["headData","window","perfMarker","jquery"],function(n,t){return function(){n.clientSettings&&(t.onMeControlReadyToLoad=function(){t.MSA&&t.MSA.MeControl&&(t.define("meControlApi",t.MSA.MeControl.API),t.define("meControlLoader",t.MSA.MeControl.Loader),t.define("meControlIdp",t.MSA.MeControl.IDP),t.define("meControlAuthState",t.MSA.MeControl.AuthState))},t.require({js:n.clientSettings.mecontroluri}))}});require(["headData","meControlBootstrap","c.deferred"],function(n,t){n.signedin&&!n.sso&&t()});define("meControlEventHandler",["perfMarker"],function(){return function(){}});require(["window","jquery","c.dom"],function(n,t){var i=t("#meCtrl").data();i&&(i.isAuthenticated=i.isAuthenticated&&i.isAuthenticated.toString().toUpperCase()==="TRUE",i.cid=typeof i.cid=="number"?i.cid.toString():i.cid,n.define("meControlRpsModel",i))});define("meControlOptionsFactory",["jquery","sso.tokens","meControlRpsModel","meControlIdp","meControlAuthState","meControlEventHandler"],function(n,t,i,r,u,f){return function(e){var o=e.isAuthenticated?u.SignedIn:u.NotSignedIn;return{containerId:"meCtrl",jQuery:n,signInStr:t.signInText,signOutStr:t.signOutText,userData:{idp:r.MSA,firstName:e.firstName,lastName:e.lastName,memberName:e.memberName,cid:e.cid,authenticatedState:o},rpData:{preferredIdp:r.MSA,msaInfo:{signInUrl:i.signInUrl,signOutUrl:i.signOutUrl,meUrl:i.meUrl},aadInfo:{}},events:{onEventLog:f}}}});require(["window","meControlRpsModel","meControlLoader","meControlOptionsFactory"],function(n,t,i,r){function u(n){var t=r(n);i.load(t)}t.isAuthenticated?u(t):n.require(["meControlAuthState","ssoData","c.sso"],function(n,t){u({firstName:t.firstName,lastName:t.lastName,memberName:t.memberName,cid:t.cid,isAuthenticated:!0})})});define("autosuggestDestinationUrl",["jquery","format","c.deferred"],function(n,t){var i={weather:"/{7}/we-latlon-{0},{1}?c={2}&st={3}&cn={4}&iso={5}&type={6}&id={8}",geolocation:"?lat={0}&long={1}&cty={2}&subdiv={3}&cntreg={4}&cc={5}&type={6}&id={8}",weathercity:"/{2},{3},{4}/we-{10}-{0},{1}?q={7}&form={9}&iso={5}",weatherski:"/{2},{3},{4}/we-ski-{8}-{0},{1}?q={7}&form={9}&iso={5}"},u=function(n,u){var o=u&&u.urltype?u.urltype.toLowerCase():"geolocation",s=i[o]?i[o]:i.geolocation,e=f;o=="weather"&&(s=n.type==2?i.weatherski:i.weathercity,e=r);var c=u.formcode&&u.formcode.length?u.formcode.toUpperCase():"",h="",l=n.state&&n.name!=n.state?n.name+"-"+n.state:n.name;return s&&n.name&&n.lat&&n.lon&&(h=t(s,n.lat,n.lon,e(n.name),e(n.state),e(n.countryRegion),e(n.isoCode),n.type,r(l).toLowerCase().replace(/\&/g,""),n.id!=null?e(n.id):"",c,n.et=="Island"?"island":"city")),h},f=function(n){return n?encodeURIComponent(n.replace(/\./g,"").replace(/\//g,"")):""},r=function(n){return n?encodeURIComponent(n.replace(/\./g,"").replace(/\//g,"").replace(/\&/g,"").replace(/\s+/g,"-")):""};return u});define("queryAutosuggest",["jquery","window","mediator","c.deferred"],function(n,t,i){var f={host:"//platform.bing.com/geo/AutoSuggest/v1",appid:"C98EA5B0842DBB9405BBF071E1DA76512D21FE36",mr:5},r=null,e=function(t,u){var e=n.extend({},f,u),o;(r&&r.readystate!=4&&r.abort(),t&&e.appid&&e.host&&e.mr)&&(o={appid:e.appid,mr:e.mr,cb:"populateAutosuggestResponse",q:t,setmkt:e.market,setlang:e.market},e.lat&&e.lon&&(o.ul="{0},{1},100".format(e.lat,e.lon)),r=n.ajax({url:e.host,cache:"true",async:"false",type:"GET",data:o,dataType:"jsonp",jsonpCallback:"populateAutosuggestResponse",timeout:1e4}).fail(function(n,t,r){t!="parsererror"&&t!="abort"&&i.pub("locSrchError",r)}))},u=function(n,t){var i=t?t:2;return n&&(n=parseFloat(n).toFixed(i)),n||""},o=function(n,t){var i,r,f,e;if(t.type!=1){if(i="ID_"+t.id,n[i])return!1;n[i]=t}return(r=[t.name,t.state,t.countryRegion].join(),n[r])?!1:(n[r]=t,f=[u(t.lat),u(t.lon)].join(),n[f])?!1:(n[f]=t,e=[t.name,u(t.lat,1),u(t.lon,1)].join(),n[e])?!1:(n[e]=t,!0)};return t.populateAutosuggestResponse=t.populateAutosuggestResponse||function(n){var c=[],l={},u,t,r,s,e,f,h;if(n&&n["@graph"]&&(u=n["@graph"],t={},u&&u.length>0))for(e=0;e<u.length;e++)if(f=u[e],f){h=f["b:stype"];switch(h){case"Island":case"PopulatedPlace":case"Postcode1":t={};r=f["s:address"]||{};t.name=r["s:addressLocality"]||r["s:name"]||"";t.state=r["s:addressRegion"]||"";t.countryRegion=r["s:addressCountry"]||"";t.isoCode=r["b:countryIso"]||"";s=f["s:geo"]||{};t.lat=s["s:latitude"]||"";t.lon=s["s:longitude"]||"";t.id=null;t.type=1;t.et=h;o(l,t)&&c.push(t)}}i.pub("locSrchUpdate",{result:c,mode:"as",status:"success"})},e});define("sdhpTileModule.tokens",{updateFail:"Failed to update. Please refresh.",unexpectedError:"Unexpected error. Please refresh.",settingsError:"Please select a location.",numItemsSearchResults:"{0} results found",valueSelected:"{0} selected"});define("weaLocationAutosuggest",["jquery","jqBehavior","queryAutosuggest","autosuggestDestinationUrl","mediator","keyCode","format","navigation","window","track","trackingHelper","sdhpTileModule.tokens","c.deferred"],function(n,t,i,r,u,f,e,o,s,h,c,l){function v(t,v){function lt(t){if(!t.data("init")){k=t;t.data("init",!0);p=t.closest("form");g=n(a.ariaPlaceholderElementClass);var i=p.find(a.autoSuggestResultsClass);i.length?i.append(y):p.append(y)}}function bt(n){switch(n.keyCode){case f.Arrow.Down:case f.Arrow.Up:break;default:yt.call(this,n)}}function at(t){var u,e="",i,r;switch(t.keyCode){case f.Arrow.Down:t.preventDefault();tt&&(ut=!0,it?(u=n("li.selected",y).removeClass(a.selectedClass),i=u.next(),i[0]||(i=n("li",y).first()),i.addClass(a.selectedClass),e=i.text()):st());break;case f.Arrow.Up:t.preventDefault();tt&&(ut=!0,it?(u=n("li.selected",y).removeClass(a.selectedClass),r=u.prev(),r[0]||(r=n("li",y).last()),r.addClass(a.selectedClass),e=r.text()):st());break;case f.Space:case f.Enter:pt(t,k);break;case f.Esc:it&&(t.preventDefault(),ft())}g&&g.text(e);ut=!1}function kt(){rt=!0;tt>0&&(n(this).select(),st());u.sub("locSrchUpdate",wt);u.sub("locSrchError",et)}function dt(n){rt=!1;it&&!ut&&ft();vt(n);u.unsub("locSrchUpdate",wt);u.unsub("locSrchError",et)}function vt(n){rt||ut||u.pub("myLocationFormFocusOut",{target:n.target,event:n})}function yt(){var r,t;ot||(r=n(this),lt(r),t=n.trim(r.val()),t?t!=d&&(d=t,i(t,w)):nt());ot=!1}function gt(){n(this).val("");nt()}function ni(){n(this).val()==""&&nt()}function pt(t,i){var k=n(".selected",y),r,e,v,tt,b,it,rt,a;k.length?(r=k.text(),d=r,e=w.baseurl+k.data("link"),v=w.method&&w.method.length?w.method.toLowerCase():"get",v=="custom"?(ot=!0,i.val(r),d=null,nt(),u.pub("myLocationSelected",{name:r,url:e,source:"as",event:t})):v=="refresh"&&w.selector?(tt=o.getParamsFromUrl(location.href),b=o.getParamsFromUrl(e),b=n.extend(!0,{},tt,b),ot=!0,i.val(r),d=null,nt(),require(["refreshModules"],function(n){var t=n(w.selector,b);t.done(function(){u.pub("myLocationSelected",{name:r,url:e,source:"as"})})})):v=="ajax"&&w.selector?(p.hide(),it=o.getParamsFromUrl(e+"&pfr=1"),e=e.split("?")[0],ct({url:e,data:it,method:"get",contentType:"application/json",refreshElement:w.refreshElement}).done(function(u){if(d=null,u.status=="fail")h.trackEvent({type:"click_nonnav",target:t.target},"","",c.getActionResult(w.action,!1)),nt(),et();else{h.trackEvent({type:"click_nonnav",target:t.target},"","",c.getActionResult(w.action,!0));nt();i.val(r);var f=n(w.selector);f.length&&u.length&&f.replaceWith(u)}}).fail(function(){h.trackEvent({type:"click_nonnav",target:t.target},"","",c.getActionResult(w.action,!1));d=null;nt();et()})):(i.val(r),location.href=e),t.preventDefault(),ft(),setImmediate(function(){g&&g.text(l.valueSelected.replace("{0}",r))})):t.keyCode!=f.Space&&(d=i.val(),rt="",p.length&&(a=p[0].action,a&&(rt=a&&a.indexOf("://")>=0?a:s.location.host+a)),h.trackEvent({type:"click",target:p},"","","srchbtn"),t.stopPropagation(),t.preventDefault(),p.submit(),ft())}function nt(){y.empty();n(".nolocerr,.errmsg",p).hide();tt=0}function ti(n){tt&&rt||n?st():ft()}function ft(){if(y){y.hide();n("li.selected",y).removeClass(a.selectedClass);it=!1;k.length&&k.attr("aria-expanded",!1);var t=y.find("ul");t.length&&t.attr("aria-hidden",!0)}}function st(){if(y){y.show();it=!0;k.length&&k.attr("aria-expanded",!0);var n=y.find("ul");n.length&&n.attr("aria-hidden",!1)}}function ii(t,i){return n('<li role="menuitem" title="'+t+'">').text(t).data("link",i).on("mousedown click keyup",function(t){var u=n(this),f,i,r;u.hasClass(a.selectedClass)||(f=p.find(b),n("li.selected",y).removeClass(a.selectedClass),u.addClass(a.selectedClass),i=p,r=p.find(a.autoSuggestResultsClass),r.length&&(i=r),t.type!="keyup"&&(h.trackEvent({type:"click",target:i},"","","autosuggest"),pt(t,f)))}).on("keydown",at).on("blur",vt)}function ri(t,i){var u,f;if(t&&(u=n(t),u.length))return tt=u.length,g&&g.text(l.numItemsSearchResults.replace("{0}",tt)),f=n('<ul id="locList" role="menu" aria-hidden="true" tabindex="0"><\/ul>'),y.append(f),u.each(function(n){if(u[n].name){var t=u[n].name,i=u[n].state&&t!=u[n].state?", "+u[n].state:"",e=u[n].countryRegion&&u[n].state!=u[n].countryRegion?", "+u[n].countryRegion:"";f.append(ii(t+i+e,r(u[n],w)))}}),!0;if(i!="as")n(".nolocerr",p).each(function(){var t=n(this);t.text(e(t.data("message"),d)).show()});else if(ht)return n("<div/>").text(ht).appendTo(y),g&&g.text(ht),!1;return tt=0,!0}function wt(n){if(rt){nt();var t=!0;n.status=="success"?t=ri(n.result,n.mode):et();ti(!t)}}function et(){k.trigger("clear");p.show();n(".errmsg",p).show()}var b="input[name=q]",k=n(b,t),ht=k.data("seemoretext"),w=n.extend({},a,v,k.data("auto-suggest-settings")),d,g,y=n("<div class='locResult' />"),p,tt,it,rt,ut=!1,ot=!1,ct=n.ajax;return require(["ajaxWithAnimation"],function(n){ct=n}),{setup:function(){t.on("keydown.autosuggest",b,at).on("keyup.autosuggest",b,bt).on("change.autosuggest",b,yt).on("focus.autosuggest",b,kt).on("blur.autosuggest",b,dt).on("clear.autosuggest",b,gt).on("search.autosuggest",b,ni);lt(n(b,t))},teardown:function(){t.off(".autosuggest",b);y&&y.empty()}}}var a={autoSuggestResultsClass:".autosuggestresults",ariaPlaceholderElementClass:".weathersettings .ariaUpdate",mode:"AS",method:"get",baseurl:"/en-us/weather/today",refreshElement:"#placesmodule",selectedClass:"selected",formcode:""};return t(v,a)});define("searchLocation",["jquery","jqBehavior","mediator"],function(n,t,i){function r(t){function r(i,r){var e=i.data("url"),f;r&&r.coords&&(e+="?lat="+r.coords.latitude+"&long="+r.coords.longitude);f=n("input[name=q]",t);f.val("");f.focus();u(e);f.focus()}function u(t){n.ajax({method:"get",url:t,contentType:"application/json"}).done(function(n){i.pub("locSrchUpdate",n)}).fail(function(n,t,r){i.pub("locSrchError",r)})}t.on("click","div.weaaddlocation .gps",function(t){var i=n(this);navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){r(i,n)},function(){r(i)}):r(n(this));t.stopPropagation();t.preventDefault()});t.on("submit","div.weaaddlocation form",function(i){var r=n("input[name=q]",t),f=r.val(),e;r.focus();f&&f.length&&(e=n(this).data("action")+"?q="+encodeURIComponent(f),u(e));r.focus();i.stopPropagation();i.preventDefault()})}return t(r)});define("detectGpsLocation",["jquery","jqBehavior","format","c.deferred"],function(n,t,i){var r=function(t,r){function f(f){f&&f.coords&&f.coords.latitude&&f.coords.longitude?location.href=i("{0}?lat={1}&long={2}&gps=1",n(r.selector,t).data("url"),f.coords.latitude.toFixed(3),f.coords.longitude.toFixed(3)):u()}function u(){location.href=n(r.selector,t).attr("href")}t.delegate(r.selector,"click",function(n){navigator.geolocation&&(n.preventDefault(),navigator.geolocation.getCurrentPosition(f,u))})};return t(r,{selector:".buttons .gps"})});define("todayWeatherEditPopup",["jquery","jqBehavior","navigation","mediator","refreshModules","binding","document","window"],function(n,t,i,r,u,f,e,o){function tt(t){t&&t.keyCode==27?n(e).trigger("closepopup"):t&&n(".weaaddlocation input:focus").length>0&&(t.keyCode==8||t.keyCode==46)&&(c=null)}function ct(t,i){y();i(t);it||require(["todaydropdown_moved"],function(){n(h+" input[name=q]").focus()});n(e).on("keydown",tt)}function lt(t,i){i(t);n(e).off("keydown",tt);rt()}function yt(t,i){function o(){t.on(s+".editselection",e,function(i){i.preventDefault();var o=n(this),r=n(h),f=n(u+" .weapopup",t);!r.length&&f.length?(f.detach(),f.appendTo(n("body")),define("todaydropdown_moved",1),r=n(h),r.data("editselector",e),r.data("loc",n(u+" a",t).data("loc"))):(f.length&&f.remove(),r.data("editselector",e),r.data("loc",n(u+" a",t).data("loc")),y());c();t.off(s+".editselection",e);setTimeout(function(){o.trigger("click")},10)})}function c(){var t=n(".weapopup");t&&t.length&&(t[0].behaviorConstructors=null);f("flyout",h).all({outsideEvent:"mousedown touchstart closepopup",triggerEvent:s,eventOrigin:e,toggleTargets:{".weaddn":"show"},openFlyoutDelegate:ct,closeFlyoutDelegate:lt})}if(i.weaTodayWeatherSelector){var u=i.weaTodayWeatherSelector,e=u+" .edithome";v.length&&(v+=",");v+=u;require(["c.pdp"],function(){o()});require(["c.sso"],function(){o()});o();r.sub("myLocationChanged",o)}}var s="click",h="body > .weapopup ",it=/(iPad|iPhone|iPod|Android)/g.test(o.navigator.userAgent),p=".wpopctn .donebutton",a=".wpopctn .signinbutton",w=".wpopctn .nonsigninbutton",k=h+".setdegree",d,v="",l,c,g=function(){ut();et();st()},rt=function(){ft();ot();ht()},ut=function(){var t=n(p);t&&t.removeClass("disabled").removeAttr("disabled")},ft=function(){var t=n(p);t&&t.addClass("disabled").attr("disabled","disabled")},et=function(){var t=n(a);t&&t.removeClass("disabled").removeAttr("disabled")},ot=function(){var t=n(a);t&&t.addClass("disabled").attr("disabled","disabled")},st=function(){var t=n(w);t&&t.removeClass("disabled").removeAttr("disabled")},ht=function(){var t=n(w);t&&t.addClass("disabled").attr("disabled","disabled")},nt,y;r.sub("myLocationSelected",g);n(e).delegate(k+" button",s,function(t){t.preventDefault();var i=n(h),r=n("button[name=weaDegreeType]",i);r.removeClass("selected");n(this).addClass("selected");l=n(this).attr("value");g()});n(e).delegate(k,"submit",function(n){n.preventDefault()});n(e).delegate(".weather.noclick .stripenav li:first-child a",s,function(n){n.preventDefault();n.stopPropagation()});n(e).delegate(".weather .noclick .col li:first-child a",s,function(n){n.preventDefault();n.stopPropagation()});nt=function(n){n&&n.event&&n.event.stopPropagation();c=n};y=function(){var t=n(h),i=n(t.data("editselector")),r,u;l=c=null;r=n("input[name=q]",t);r.attr("placeholder",i.data("home")).trigger("clear");u=n("button[name=weaDegreeType]",t);u.removeClass("selected");n("button[value='"+i.data("degreetype")+"']",t).addClass("selected")};n(e).delegate(p,s,function(){b(!1)});n(e).delegate(w,s,function(){b(!1)});n(e).delegate(a,s,function(){at()});r.sub("myLocationSelected",nt);n(e).delegate(".wpopbg, .wpopctn .close",s,function(t){y();n(e).trigger("closepopup");t.preventDefault()});var b=function(t){var f,e;n(".weaddn").removeClass("show");n(".weaaddlocation input").filter(function(){return n(this).val()!=""}).length||(c=null);(c||l)&&(f=c?c.url+"&sethome=true":n(h).data("loc"),l&&(f+="&weadegreetype="+l),t&&(f+="&signInFlow=true"),e=f.indexOf("?")!=-1?i.getParamsFromUrl(f):i.getParams(f),u(v,e).done(function(){r.pub("myLocationChanged")}))},at=function(){var t=n(a);d=t.attr("data-href");r.sub("myLocationChanged",vt);b(!0)},vt=function(){o.location=d};return t(yt)});require(["jquery","binding","c.dom"],function(n,t){require(["todaydropdown_moved"],function(){t("weaLocationAutosuggest","body>.weapopup").all();t("searchLocation","body>.weapopup").all();t("detectGpsLocation","body>.weapopup .buttons").all()});t("todayWeatherEditPopup","#main").all({weaTodayWeatherSelector:".weatodaytile"})});define("FinanceDataUtils",["jquery"],function(){function f(f,e){var l=f.OS01W,o=f.OS01V,s,a=e?e.split(n)[0]:null,h,c;return o&&(o=o.toLowerCase(),s=o,(o===r||o===u)&&(s=o?o.split(n)[0]:null),a!==t&&(s===e||s===a)&&(h=f.OS0LN,c=f.RT0SN,l=s===i?c?c:h?h:l:h?h:c?c:l)),l}var t="en",i="ko",r="zh-hans",u="zh-hant",n="-";return{getStockDisplayName:f}});define("financeHomepageAutoSuggest",["jquery","jqBehavior","FinanceDataUtils","keyCode","homepageFinanceIndices","track"],function(n,t,i,r,u,f){function e(t,e){function ht(){var t=n(".selected",o)[0]||n("li",o)[0];t&&k(t)}function ct(t){var i=n("input[type='search']",t.target);i.val()!=null&&i.val().trim().length==0&&t.preventDefault()}function lt(i){var u,f,e;switch(i.keyCode){case r.Arrow.Down:h&&(l?(u=n("li.selected",o).removeClass("selected"),f=u.next(),f[0]?f.addClass("selected"):n("li",o).first().addClass("selected")):(d(),a()));break;case r.Arrow.Up:h&&(l?(u=n("li.selected",o).removeClass("selected"),e=u.prev(),e[0]?e.addClass("selected"):n("li",o).last().addClass("selected")):(d(),a()));break;case r.Enter:k();break;case r.Esc:l&&(i.preventDefault(),v());a();t.blur()}}function at(){ut=!0;p();h>0&&(t.select(),d(),a())}function vt(){ut=!1;l&&(n(".selected",o).length>0?k():v());a()}function p(){var i=n.trim(t.val());i?i!=rt&&(rt=i,gt(i)):(wt(),bt(),v(),st(),ot(),h=0)}function k(i,r){nt[y]!=undefined&&function(){var u=i;nt[y].done(function(){var s=u||n(".selected",o)[0]||n("li",o)[0],i,h;if(s)if(e.isCallBackProvided)i={},i.instrumentSymbol=n(s).find("a")[0].getAttribute("instrumentSymbol"),i.instrumentType=n(s).find("a")[0].getAttribute("instrumentSymbolType"),i.instrumentTicker=n(s).find("a")[0].getAttribute("instrumentTicker"),i.instrumentFullname=n(s).find("a")[0].getAttribute("instrumentFullname"),i.instrumentMarket=n(s).find("a")[0].getAttribute("instrumentMarket"),i.KeyUsed=r,e.callback(i);else return h=n(s).find("a")[0].href,f.trackEvent({type:"submit",target:t},null,h),window.location.href=h,!1;return v(),!1})}()}function yt(t){var i=t||n(".selected",s)[0];return n(i).href==undefined?!1:(window.location.href=n(i).href,!1)}function gt(t){var f=e.count?e.count:6,i=+new Date,r;y=i;wt();r=n.ajax({url:e.endpoint,dataType:"jsonp",cache:!0,data:{q:t,locale:u.market.replace("-",":"),count:f},jsonpCallback:"cb"+it++});r.fail(function(){i==y&&v()}).done(function(n){n&&i==y&&(bt(),n=n.data,ni(n,t),h=n.length,ti())});nt[i]=r}function ni(r,f){for(var v,a,c=n("<ul><\/ul>"),l=0;l<r.length;l++){var e=r[l],h={label:e.OS001+"."+e.OS01W+"."+e.OS010+"."+e.AC040,displaySymbol:e.OS001,companyName:i.getStockDisplayName(e,u.market),symbolType:e.OS010,exchangeName:e.AC040,value:e.OS001},s=n("<a><\/a>");s.attr("href",si(e));s.attr("instrumentSymbol",kt(e));s.attr("instrumentTicker",h.displaySymbol);s.attr("instrumentFullname",h.companyName);s.attr("instrumentMarket",e.RT0EC);v=w(e.OS010);s.attr("instrumentSymbolType",v);s.html('<span class="fi-as-sym">'+pt(h.displaySymbol,f)+'<\/span><span class="fi-as-cn">'+pt(h.companyName,f)+'<\/span><span class="fi-as-en">'+h.exchangeName+"<\/span>");a=n("<li><\/li>");a.append(s);c.append(a)}c.width(t.width);o.append(c)}function pt(n,t){var i=t.toLowerCase(),r=t.toUpperCase();return t=n.indexOf(i)>=0?i:r,n.replace(t,"<b>"+t+"<\/b>")}function wt(){b&&b.val()&&b.val("")}function bt(){o||ii();o.empty();h=0}function ti(){h?(d(),a()):(v(),st(),ot())}function v(){o&&(o.hide(),o.addClass("hideautosuggest"),l=!1)}function d(){o&&(o.show(),o.removeClass("hideautosuggest"),l=!0)}function ii(){o=n('<div class="'+ft+'">').on("mousedown",function(t){var i,r;t.preventDefault();i=n(t.target).closest("li");i[0]?(i.hasClass("selected")||(n(".selected",o).removeClass("selected"),i.addClass("selected")),k()):(r=n(t.target).closest("a"),yt(r))});t.before(o)}function ri(t){return n.inArray(t,["ST"])!=-1}function ui(t){return n.inArray(t,["FE","CE"])!=-1}function fi(t){return n.inArray(t,["FO","FC"])!=-1}function tt(t){return n.inArray(t,["XI"])!=-1}function ei(t){return n.inArray(t,["CUR"])!=-1}function oi(t){return n.inArray(t,["COM"])!=-1}function si(n){var i=kt(n),r=w(n.OS010),t=null;return r==="Stock"&&(t=u.stockdetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),r==="Index"&&(t=u.indexdetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),r==="Etf"&&(t=u.etfdetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),r==="Fund"&&(t=u.funddetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),r==="Currency"&&(t=u.currencyConverterUrl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),r==="Commodity"&&(t=u.commoditydetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),t}function w(n){var t="";return n&&(t=fi(n)?"Fund":ri(n)?"Stock":ui(n)?"Etf":tt(n)?"Index":ei(n)?"Currency":oi(n)?"Commodity":""),t}function kt(n){var t={},o,s,f;if(n){var i=n.OS010,r=n.OS001,h=n.LS01Z,e=n.RT00E,u="";if(w(i)=="Commodity")return t=n.RT00E+"."+n.RT00T+"."+n.RT00S,dt(t);if(w(i)=="Currency")return n.OS001.substring(0,3)+"-"+n.OS001.substring(3,6)+"-1.0000";if(w(i)=="Fund")return n.SecId;tt(i)?(o="10",u=o):(s="1",u=n.RT00T||s);f=n.RT00S?n.RT00S:r?r:"";tt(i)?t=hi({E1:e,Sym:f,St:u,E2:e,Eqsm:r}):(t=e+"."+u+"."+f+"."+h,r!==f&&(t+="."+r))}return dt(t)}function dt(n){return n==null||typeof n!="string"?"":(n=n.replace(/\//g,"|SLA|"),n=n.replace(/</g,"|LETHA|"),n=n.replace(/>/g,"|GRETHA|"),n=n.replace(/\*/g,"|ASTER|"),n=n.replace(/%/g,"|PERCENT|"),n=n.replace(/:/g,"|SEPA|"),n=n.replace(/&/g,"|AMP|"),n=n.replace("/\\/g","|BKSLA|"),encodeURIComponent(n))}function hi(n){var t="";return n&&(t=n.Eqsm&&n.Sym&&n.Sym!==n.Eqsm?n.E1+"."+n.St+"."+n.Sym+"."+n.E2+"."+n.Eqsm:n.E1+"."+n.St+"."+n.Sym),t}function c(n,t){if(t){var i=n&&n.indexOf("?")!==-1,r=i?"&":"?";n+=r+t}return n}var y,it,rt,o,h,l,ut,b,ft,s;e.autoSuggestSettings&&(e=e.autoSuggestSettings);it=1;ft=e.cssclass||"autosuggest";e.endpoint=e.endpoint||"//finance.services.appex.bing.com/Market.svc/MTAutocomplete".replace("http://","//");var g=e.recentQuotesRequired||!1,et=!1,nt=[];n(function(){t.data("holder",t.attr("placeholder"));var n;t.focusin(function(){t.attr("placeholder","");n&&n.length?t.val(n):t.val("")});t.focusout(function(){n=t.val();t.attr("placeholder",t.data("holder"))})});s=n('<div class="recent-quotes autosuggest"><\/div>').on("mousedown",function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var i=n(t.target).closest("a");yt(i)});t.before(s);var a=g===!0?function(){s&&(s.hide(),s.addClass("hideautosuggest"),et=!1)}:function(){},ot=g===!0?function(){s&&(s.show(),s.removeClass("hideautosuggest"),et=!0)}:function(){},st=g==!0?function(){var i=u.recentquotesurl,t=e.showPopularSearchWhenNoRecentQuotes?c(i,"showpopularsearch=true"):i;t=e.flightStocksInNews?c(t,"flightstocksinnews=true"):t;t=e.backfillRecentQuotesWithPopularSearch?c(t,"backfillwithpopularsearch=true"):t;t=c(t,"showtrendingstocks=true");t=c(t,"form=RecentQuoteFormCode");t=c(t,"recentquoteformcode="+u.RecentQuotesFormCode);t=c(t,"popularsearchesformcode="+u.PopularSearchesFormCode);n.ajax(t).done(function(n){s.empty();s.html(n)}).fail(function(){})}:function(){};if(e.endpoint)return e.codefield&&(b=n("#"+e.codefield)),{setup:function(){t.on("keydown",lt).on("keyup",p).on("change",p).on("focus",at).on("blur",vt);t.siblings("span").on("click",ht);t.closest("form").on("submit",ct)},teardown:function(){t.off("keydown",lt).off("keyup",p).off("change",p).off("focus",at).off("blur",vt);t.closest("form").off("submit",ct);t.siblings("button").off("click",ht);o&&(o.remove(),o=null)}}}return t(e)});define("keyCode",function(){return{Back:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Break:19,CapsLock:20,Esc:27,Space:32,Page:{Up:33,Down:34},End:35,Home:36,Arrow:{Left:37,Up:38,Right:39,Down:40},Print:44,Insert:45,Delete:46,Colon2:59,Equals2:61,Equals3:107,Minus2:109,Period:190,Windows:{Left:91,Right:92,Opera:219},Menu:93,NumPad:{0:96,1:97,2:98,3:99,4:100,5:101,6:102,7:103,8:104,9:105,Multiply:106,Plus:107,Minus:109,Dot:110,Divide:111},Function:{1:112,2:113,3:114,4:115,5:116,6:117,7:118,8:119,9:120,10:121,11:122,12:123},Lock:{Caps:20,Num:144,Scroll:145},Colon:186,Equals:187,Comma:188,Minus:189,Slash:{Forward:191,Back:220},Tilde:192,Bracket:{Open:219,Close:221},Quote:222}});require(["binding","window","c.deferred"],function(n){n("financeHomepageAutoSuggest","#finance-autosuggest").all({recentQuotesRequired:!0,showPopularSearchWhenNoRecentQuotes:!0,flightStocksInNews:!0,backfillRecentQuotesWithPopularSearch:!1})});define("autosTokens",{urlIdPrefix:"sd-",market:(document.getElementsByTagName("HTML")[0].lang||"en-us").toLowerCase(),autosVerticalName:"autos",decision_guide:{favorites:{favoriteThisQueryText:"Favorite This Query",unfavoriteQueryThisQueryText:"Unfavorite This Query",favoriteQueriesText:"Favorite Queries",favoriteCarsText:"Favorite Cars",addToFavoritesText:"Add To Favorites",removeFromFavoritesText:"Remove From Favorites"},url_segment:"car-finder",year_text:"Year",make_text:"Make",model_text:"Model"},bnc:{invalidValue_Text:""},car_compare:{favorites:{favoriteThisQueryText:"Favorite This Query",unfavoriteQueryThisQueryText:"Unfavorite This Query"},url_segment:"car-compare",addToComparePhotos:"Add To Compare Photos",comparePhotos:"Compare Photos"},vip:{specifications:{url_segment:"specifications"},latest:{url_segment:"latest"},pricing:{url_segment:"pricing"},overview:{url_segment:"overview"},photos:{url_segment:"photos",interiorText:"interior",exteriorText:"exterior",interiorViewText:"Interior",exteriorViewText:"Exterior"},reviews:{url_segment:"car-reviews",seeMoreText:"See more",seeLessText:"See less",prosText:"Pros",consText:"Cons",overallBottomLineText:"Overall Review",ratings:{Performance:"Performance",Recommendation:"Recommendation",Styling:"Styling",Quality:"Quality",Interior:"Interior"},helpuluserreviewquestion:"Was this review helpful?",yesText:"Yes",noText:"No",byText:"by",noReviewsFound:"Sorry, couldn't find any reviews. To get results, try selecting another option.",reviewerType:{owner:"Owner",testDriver:"Test Driver",enthusiast:"Enthusiast"},yearsReviewDifference:{lessThanAYear:"less than a year",oneYear:"year",moreThanAYear:"years"},yearsOfOwnershipDisplayText:"Owned",reviewsReportingThanksText:"Thanks for reporting this review",moderation_url:"/autos/moderation"}},research_cars:{allmodels:"All Models"}});define("researchLeadClassified",["jquery","jqBehavior","format","autosTokens","window","location","localStorage","track"],function(n,t,i,r,u,f,e,o){function b(t){function lt(t,i){var r=b.data(a+i+"value"),u=n(h).val(r).data(s,b.data(a+i+s)).prop("disabled",!r).text(b.data(a+i+"text"));t.empty().append(u)}function at(t,i){var u,r,f;if(!i)for(b.data("makes",t),u=t.Makes,r=0,f=u.length;r<f;r++)k.append(n(h,{value:u[r].Value}).text(u[r].Name));k.val(b.data(l)).trigger("change")}function vt(n,t){var i=b.data(t);i&&n.find("option[value="+i+"]").length||(i=n.find("option:first").val());n.val(i)}function yt(t,i){if(!i)for(var r in t)(nt.val()!==p||t[r].b)&&k.append(n(h,{value:r,"data-id":t[r].c}).text(t[r].a));vt(k,l);ht&&k.trigger("change")}function it(n,t,i,r,u,f,e){st.attr("data-m",b.attr("data-m"));o.trackEvent(n,t,i,r,u,f,e)}var pt=t.attr(s),rt=pt+"-research",wt=r.market.toLowerCase(),ut="/"+wt+"/"+r.autosVerticalName.toLowerCase()+"/",b,ft,nt=t.find(".no_type"),ot=nt.length===0,d=t.find(".model"),tt=t.find(".autos_zipcode"),k=t.find(".make"),et=t.find("input[name=rlc_type]:radio"),bt=t.find("a.label"),g=t.find(".autos_button"),ht=!1,st=t.find(".autos-form-container"),ct="dropdownfromserver";nt.change(function(){o.trackEvent({type:c,target:b},null,null,JSON.stringify({age:nt.val()}),this.id);et.filter(":checked").trigger("change")});et.change(function(i,r){var h,u,e,l,a,f;if(b=n(this),h=b.attr(s),u=!1,u=b.data(ct),u||lt(k,"make"),lt(d,"model"),ft=ft||t.find("p"),e=ft.find("img"),e.length||(e=n("<img>").appendTo(ft)),e.attr("src",b.data("partnerlogourl")),l=this.id===rt,t.addClass("autos"+(l?"":"Non")+"Research").removeClass("autos"+(l?"Non":"")+"Research"),a=b.find("+a.label").text(),r||o.trackEvent({type:c,target:b},null,null,a,a),f=b.data("makes"),h===rt)g.val(g.data("researchtabtext")),f||u?yt(f,u):n.get(ut+"GetCarMakeList",function(n){b.data("makes",n);yt(n)});else{if(g.val(g.data("quotestabstext")),f){r&&b.data("url",f.Url);at(f,!1);return}n.get(ut+"QuoteCarLookupMakeList?tab="+h,function(n){b.data("url",n.Url);at(n,!1)})}u&&b.data(ct,!1)});k.change(function(){var t,r,i,u,f;k.val()&&(ht=!0,b.data(l,k.val()),t=ut,d.empty(),r=k.val(),it({type:c,target:k},null,null,JSON.stringify({make:r}),this.id),b.attr(s)===rt?(u=ot?"GetNewAndUsedCarModelListsPartial":"GetCarModelListPartial",f=ot?"false":nt.val()===p,t+=u+"?newOnly="+f+"&dealerMake="+r,n.get(t,function(t){var r,u,i,f;if(d.append(n(h,{value:y}).text(b.data("allmodels"))),ot){r="";for(u in t)t.hasOwnProperty(u)&&(r+=t[u]);d.append(r)}else for(i=0,f=t.length;i<f;i++)d.append(n(h,{value:t[i].ModelSanitized,"data-id":t[i].Id}).text(t[i].Model));vt(d,w)})):(t+="QuoteCarLookupModelList?tab="+b.attr(s)+"&inputMake="+k.find(":selected").text(),n.get(t,function(t){i=t.Models;for(var r=0,u=i.length;r<u;r++)d.append(n(h,{value:i[r].Value}).text(i[r].Name))})))});d.change(function(){b.data(w,d.val());it({type:c,target:d},null,null,JSON.stringify({make:k.val(),model:d.val()}),this.id)});tt.keypress(function(n){if(n.which===13)return g.click(),!1});tt.change(function(){it({type:c,target:tt},null,null,JSON.stringify({make:k.val(),model:d.val(),zip:tt.val()}),this.id)});g.click(function(){var t=k.val(),o=d.val(),c,n,h;if(b.attr(s)===rt){var n=ut,l=k.find(":selected").data(s),a=d.find(":selected").data(s);t&&(c=[t,o,r.urlIdPrefix+a],o===y&&(c=[t,r.urlIdPrefix+l]),n+=c.join("/"));f.href=n;it({type:v,target:g},null,n,JSON.stringify({make:t,model:o,age:nt.val()}),null)}else n=b.data("url"),t=k.val()||"",o=d.val()||"",h=tt.val()||"",typeof e!="undefined"&&(e.zipCode=h),n=i(n,t,o,h,b.data("partnersourceid")),u.open(n,"_blank"),it({type:v,target:g},null,n,JSON.stringify({make:t,model:o,zipCode:h}),null)});bt.click(function(t){t.preventDefault();t.stopPropagation();var i=n(t.target).data("for");et.filter("#"+i).change().prop("checked",!0)});et.filter(":checked").trigger("change",!0);st.hasClass("loading")&&st.removeClass("loading")}var h="<option>",c="click_nonnav",v="submit",y="all-models",p="new",l="lastmake",w="lastmodel",a="sponsor",s="id";return t(b)});require(["binding","c.deferred"],function(n){n("researchLeadClassified",".autos_rlc1").all()});require(["jquery","setCookie","imgSrc","track","headData","isWindowsOsVersionRs1OrLater","window","document","c.deferred"],function(n,t,i,r,u,f,e,o){function y(){s.remove();l.removeClass(c);t("eub",1,v,t.topDomain,"/")}function p(){var n=o.getElementById("conditionalbanner");return n||!f.validate()?!1:!0}var a;if(p()){var h,c="eubactive",l=n("body"),s=n("#eubanner"),v=s.data("param")||parseInt("7")||7;n("#eubanner>header>a,#eubanner .trynow,#eubanner .closeicon").on("click",y);s.show();l.addClass(c);h=s.data("index");h&&t("pbmi",h,365,t.topDomain,"/");r.trackPartialImpression(s);u&&u.clientSettings&&u.clientSettings.uiprsettings&&u.clientSettings.uipr&&(a=e.uiprBannerRenderDelayInMinutes||8,setTimeout(function(){s.remove();l.removeClass(c)},a*6e4))}});define("slideShowNavigation.tokens",{arrowLeftText:"Previous Slide",arrowRightText:"Next Slide",arrowRightNextGalleryText:"Next Gallery",playPauseText:"Pause/Rotate"});define("galleryUtilsCore",["jquery","location"],function(n,t){function i(n,t){var i="";return n!=null&&(t!=null&&(i+=t+"|"),i+=n+1),i&&(i="#image="+i),i}function u(){var n=r.exec(t.hash)||[],u=n[2],i=n[3],f=i?i-1:!1;return{galleryId:u,imageIndex:f}}function f(n,r){var u=i(n,r),f=!!history.replaceState;f?history.replaceState(null,"Gallery",u):t.hash=u.replace("#","")}function e(i){if(i)n(".relatedgallery ul li a").attr("tabindex","-1");else{var r=t.href.toLowerCase().indexOf("fullscreen=true")>0?!0:!1,u=r?n(".thumbnails li:last").attr("tabindex"):n(".authorinfo-bsb .stb-bsb a:last").attr("tabindex");n(".relatedgallery ul li a").each(function(){n(this).attr("tabindex",++u)})}}var r=/\bimage=(([a-z0-9]+)\|)?(\d+)/i;return{getImageInfoFromHash:u,getHashFromImageInfo:i,setHashFromImageInfo:f,setupTabOrderForEndSlate:e}});define("slideShowNavigation",["jquery","jqBehavior","mediator","slideShowNavUtils","safeCss","track","tabKeyPressed","pageTime","window","slideShowNavigation.tokens","requestAnimationFrame","dir.tokens","scaledView","galleryUtilsCore","visibility","elementTrackingDecorator","perfMarker","location","document","navigation"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){function st(t,o){function cr(){return yi?(pt&&lr(),w.setup(),!0):!1}function lr(){if(t.addClass("loaded"),ht.show(),ct.show(),o.isThumbnail||er(),vt.showArrows(),ni||(ci=setTimeout(vt.hideArrows,o.showArrowTime)),i.subChannel(g.realign,rt,dt),i.subChannel(g.animate,rt,w.animate),i.subChannel(g.change,rt,w.change),i.subChannel("autoRotate",rt,gt),i.subChannel(g.next,rt,sr),i.subChannel(g.previous,rt,or),i.sub("fullscreen",fr),i.sub("allAutoRotate",gt),a.addListener(dt),o.autoRotate){wt=setTimeout(fi,ui(o.startSlideIndex||0));lt.one("mousedown",bt);vi.one(tt,ur);t.on("mouseout",kr)}if(o.carousel)lt.on("keydown",function(n){return n.which==37?(w.animate(l.ltr?-1:1),!1):n.which==39?(w.animate(l.ltr?1:-1),!1):void 0});else lt.on("keydown",function(t){var i,r;return t.which==37?(kt(l.ltr?-1:1,t),!1):t.which==38?(i=n(".gallerydata .show .body-text .more"),i.length==1&&i.css("display")!="none"&&i.click(),!1):t.which==39?(kt(l.ltr?1:-1,t),!1):t.which==40?(r=n(".gallerydata .show .body-text .close"),r.length==1&&r.css("display")!="none"&&r.click(),!1):void 0})}function ar(){t.removeClass("loaded");oi.reset();pt&&(lt.off("keydown"),vt.hideArrows(),ht.hide(),ct.hide(),i.unsubChannel(g.realign,rt,dt),i.unsubChannel(g.animate,rt,w.animate),i.unsubChannel(g.change,rt,w.change),i.unsubChannel(g.next,rt,sr),i.unsubChannel(g.previous,rt,or),i.unsubChannel("autoRotate",rt,gt),a.removeListener(dt),lt.off("mousedown",bt),vi.off(tt,ur),i.unsub("fullscreen",fr),i.unsub("allAutoRotate",gt));w.teardown()}function dt(){pt&&(oi(t).css({padding:""}),w.resize(),er())}function gi(n){var t=b.href.toLowerCase(),i=t.toLowerCase().indexOf(it);i>=0&&(st=pr(st));n&&vr(n)}function nr(n,t,i){n&&f.trackEvent({type:"click",target:n},"",b.protocol+st,t);gi(i);k.location=st}function vr(n){n&&(n.preventDefault(),n.stopImmediatePropagation())}function yr(){var t;return st&&(t=n(et).click(tr)),t}function tr(n){var t=this;n&&(t=n.target);f.trackEvent({type:"click",target:t},"",b.protocol+st,"rightarrow-recircle");gi(n);k.location=st}function pr(n){var i="?",t;return typeof n!="string"?n:(t=n.toLowerCase().indexOf(it),t>=0)?n:(t=n.indexOf(i),t>=0&&(i="&"),n+i+it)}function ir(n){var f=rr(),t=b.href,i=t.toLowerCase().indexOf("#"),r,u;return i>=0&&(t=b.href.substring(0,i)),r=f+n,u=v.getHashFromImageInfo(r-1,o.inlineGalleryId),t+u}function rr(){var i=t.parents(".gallery-container:first"),r;return i=i.length>0?i:n("body"),r=parseInt(i.find(".show .count").html()),isNaN(r)?1:r}function gt(n){(o.autoRotate=!!n)?wt=setTimeout(fi,ui()):bt()}function ui(){return o.autoRotateWait}function fi(){if(o.autoRotate){var n=w.current();y.isElementTrulyVisible(t)&&(n>=si-1||wr(n+1))&&(hi=!0,i.pubChannel(g.animate,rt,1));y.notifyWhenPageVisible().then(function(){wt=setTimeout(fi,ui(n+1))})}}function wr(n){var t=!0,i=yt.eq(n);return i.hasClass("hasimage")&&(t=!i.find("img[data-src]").is(".loading")),t}function ur(){o.autoRotate&&e()&&bt()}function br(){o.stopStartRotationOnMouseHover&&pi&&bt()}function kr(){o.stopStartRotationOnMouseHover&&pi&&gt(!0)}function bt(){o.autoRotate=!1;clearTimeout(wt)}function fr(n){n?clearTimeout(wt):o.autoRotate&&(wt=setTimeout(fi,ui()))}function er(){var n;n=148;ht.css("top",n+"px");ct.css("top",n+"px");at&&at.css("top",n+"px")}function dr(){var t='<button class="leftarrow fade" title="'+h.arrowLeftText+'">'+h.arrowLeftText+"<\/button>",i='<button class="rightarrow fade" title="'+h.arrowRightText+'">'+h.arrowRightText+"<\/button>";ht=n(t);ct=n(i)}function gr(){ht.click(function(n){kt(-1,n)});ht.on(tt,function(){e()&&vt.showArrows()});ht.on(ft,function(){e()&&vt.hideArrows()});ct.click(function(n){kt(1,n)});ct.on(tt,function(){e()&&vt.showArrows()});ct.on(ft,function(){e()&&vt.hideArrows()});if(o.isThumbnail){if(lt){var n=lt.parent();n&&n.length&&(n.append(ht).append(ct),p.setTrackingForSingleElement(ht,n,{defaults:{n:"previousSlideArrow"}}),p.setTrackingForSingleElement(ct,n,{defaults:{n:"nextSlideArrow"}}))}}else lt.append(ht).append(ct),p.setTrackingForSingleElement(ht,lt,{defaults:{n:"previousSlideArrow"}}),p.setTrackingForSingleElement(ct,lt,{defaults:{n:"nextSlideArrow"}}),at&&(lt.append(at),p.setTrackingForSingleElement(at,lt,{defaults:{n:"nextGalleryArrow"}}));if(o.autoRotate)t.on("mouseover",br)}function ei(){var n=w.hasNext(),t=w.hasPrevious();if(!o.carousel&&!o.isThumbnail){nu(n,t);return}ri&&t?ti||(ht.removeClass(nt),ti=!0):ti&&(ht.addClass(nt),ti=!1);ri&&n?ii||(ct.removeClass(nt),ii=!0):ii&&(ct.addClass(nt),ii=!1);ci&&clearTimeout(ci)}function nu(n,t){n?(ct.removeClass(nt),at&&!at.hasClass(nt)&&at.addClass(nt)):(ct.addClass(nt),at&&at.removeClass(nt));t?ht.removeClass(nt):ht.addClass(nt)}function or(n){kt(-1,n)}function sr(t){n(t.target).parents("li").hasClass("relatedgallery")||kt(1,t)}function kt(n,t){var u,e,r,h;n===1&&w.hasNext()||n===-1&&w.hasPrevious()?(u=b.href,e=o.carousel?"":ir(n),w.animate(n),o.isThumbnail||(r=this,t&&(t.preventDefault(),t.stopImmediatePropagation(),r=t.target),h=o.carousel?"":"slideTitle",f.trackEvent({type:wi,target:r},null,e,h),o.carousel?(f.sendPageViewCandidate(),f.sendSinglePageViewBeacon("scorecard")):(f.trackEvent({type:"unload",noSpin:1},s),i.pubChannel(g.afterUpdate,rt,n))),st&&v.setupTabOrderForEndSlate(w.hasNext()),vt.trackNewImpression(u,w.current())):n===1&&!w.hasNext()&&st&&tr(t)}function hr(n){var t,i;return typeof d!="undefined"&&d&&d.getParamsFromUrl&&n&&(t=d.getParamsFromUrl(b.href,!1,!1),t.ocid&&(i={},i.ocid=t.ocid,n=d.mergeQueryStringParams(n,i))),n}function tu(){for(var t=arguments.length,n=0;n<t;n++)if(typeof arguments[n]!="undefined")return arguments[n];return null}var oi=u.createGroup(),yt=t.children(),vi=n("a",yt),lt=t.parent(),si=yt.length,yi,ni=!o.autoRotate,pi=!0,hi,wt,ti,ii,ri,ci,rt,ht,ct,at,li,ai,di,vt,w;setTimeout(function(){ni=!o.autoRotate},0);var wi=o.carousel?"click_nonnav":"click",bi=!o.carousel&&!o.isThumbnail,st,ki=tu(o.wrapAround,o.carousel,!1),pt=si>1;return pt?(rt=ot++,dr(),o.removePagingArrowsFromTabOrder&&(li="tabindex",ai="-1",ct.attr(li,ai),ht.attr(li,ai)),o.isThumbnail||o.carousel||(di=t.find("li.relatedgallery"),st=di.find("ul").first().attr("data-url"),st?(st=hr(st),at=n(et).click(function(n){nr(this,"rightarrow-recircle",n)})):(st=lt.find("ul").first().attr("data-next-url"),st=hr(st),at=yr(st))),gr(),t.data(ut,rt),yi=!0):t.removeClass("loading"),vt={slides:function(n,r){var l=b.href,u,e,h,c;if(o.carousel&&(u=w.hasNext()?w.current():0,e=t[0].children[u],f.trackPartialImpression(e)),r){h=r.touch_gesture;r.touch_gesture="swipe";var a=o.carousel||o.isThumbnail?"":ir(n),v=o.carousel?"":"slideTitle",y=o.isThumbnail?"click_nonnav":wi;n!==0&&(c=n>0?ct:ht,f.trackEvent({type:y,target:r,noSpin:1},c,a,v));r.touch_gesture=h;bi&&(f.trackEvent({type:"unload",noSpin:1},s),i.pubChannel(g.afterUpdate,rt,n));o.carousel&&(f.sendPageViewCandidate(),f.sendSinglePageViewBeacon("scorecard"))}i.pubChannel(g.update,rt,n);o.carousel||ki||ei();r&&vt.trackNewImpression(l,w.current());hi||bt();hi=!1;ni=!1},hideArrows:function(){ni||o.alwaysShowArrows||(ri=!1,c(ei))},showArrows:function(){ri=!0;c(ei)},trackNewImpression:function(t,r){var h,s,u,e;if(bi){if(k.referrerOverride=t,h=1,r&&yt.length&&(s=yt.eq(r),s.length&&(h=s.hasClass("interstitialAd")?"":s.hasClass("relatedgallery")?-1:rr())),u={pgIdx:h},o.isInlineGallery&&(u.pgTot=si,e=n("#main").find(".gallery-container"),e.length)){var l=e.attr("data-page-name"),a=e.attr("data-page-id"),v=e.attr("data-gallery-id"),y=e.attr("data-page-provider-id"),c=e.attr("data-page-partner-name"),p=e.attr("data-page-publcat");u.pn=l;u.pid=a;u["cv.entityId"]=v;u.provid=y;c!==undefined&&(u["cv.partner"]=c,u["cv.publcat"]=p)}f.trackPage(u);i.pubChannel(g.thirdParty,rt)}},nextSlideShow:nr},w=r(pt,o.carousel,o.isThumbnail,ki,o.swipeToNextGallery,t,yt,lt,oi,vt,o.startSlideIndex),w.addHoverElements&&o.addHoverSelector&&w.addHoverElements(n(o.addHoverSelector)),pt&&ei(),{setup:cr,teardown:ar,update:dt}}var g={animate:"slideShowNavAnimate",change:"slideShowNavChange",update:"slideShowNavUpdate",next:"slideShowNavNext",previous:"slideShowNavPrevious",afterUpdate:"slideShowNavAfterUpdate",thirdParty:"slideShowNavThirdParty",realign:"slideShowNavRealign",exitFullScreen:"exitFullScreen"},ut="slideShowNavId",ot=1,it="fullscreen=true",tt="focus",ft="blur",et='<button class="rightarrow fade" id="nextgallery" title="'+h.arrowRightNextGalleryText+'">'+h.arrowRightNextGalleryText+"<\/button>",nt="fade",rt=t(st,{carousel:!0,autoRotate:!1,autoRotateWait:5e3,alwaysShowArrows:!1,showArrowTime:3500,isThumbnail:!1,swipeToNextGallery:!1,stopStartRotationOnMouseHover:!1});return rt.event=g,rt.id=ut,rt});define("infopaneNavVNext",["jquery","jqBehavior","slideShowNavigation","mediator","format","tabKeyPressed","document"],function(n,t,i,r,u,f,e){function o(t,o){function ut(){r.subChannel(i.event.update,o.slideShowNavigationId,g);et();w.on(k,nt);b.on(d,tt)}function ft(){r.unsubChannel(i.event.update,o.slideShowNavigationId,g);w.off(k,nt);b.off(d,tt)}function g(n){var t=(s+n)%l,i;t<0&&(t+=l);i=h.eq(t);h.eq(s).removeClass(o.selectedClass);a.eq(s).removeClass(o.selectedClass);i.addClass(o.selectedClass);a.eq(t).addClass(o.selectedClass);s=t;r.pub("infopane_navigation",{elem:i,index:t})}function nt(i){c=0;i.keyCode==9&&(y=n(i.target).closest(t).length,c+=p);i.shiftKey&&(c+=2)}function tt(){if(f())v?v=!1:y?c==p&&it()?r.pubChannel(i.event.change,o.slideShowNavigationId,1):c==3&&it()&&r.pubChannel(i.event.change,o.slideShowNavigationId,-1):(v=!0,h.eq(s).find("a").first().focus())}function it(){return!h.eq(s).find(e.activeElement).length}function et(){for(var f,i=n(u('<div class="slidecount {0}"/>',o.accentColor)),r=0;r<l;r++)f=r===s?' class="'+o.selectedClass+'"':"",i.append(u(rt,f));t.after(i);a=i.children()}var s=o.startSlideIndex||0,h=t.children(),l=h.length,a,v=!1,y=!1,c=0,p=1,w=n(e),b=t.find("a"),rt="<span{0}/>",k="keydown",d="focusin";return{setup:ut,teardown:ft}}return t(o,{selectedClass:"selected",accentColor:"pink"})});define("infopaneVNext",["jquery","jqBehavior","slideShowNavigation","infopaneNavVNext","mediator","imgSrc","setCookie","perfMarker"],function(n,t,i,r,u,f,e,o){function h(t,e){function rt(){var t=a.children(),i=new Array(t.length);return t.each(function(t){i[t]=n("img",this)}),i}function d(n){var t=(h+n)%k;return t<0&&(t+=k),t}function y(n){var i,t;for(h=d(n),i=n<0?-1:1,t=0;t<=2;++t)b[d(t*i)].each(function(){f.go(this)});u.pub(s,h)}function g(){p.each(function(t,i){n(i).toggleClass("selected",t===h)});v.not(".selected").css("opacity")=="0"&&v.css("opacity","1");nt()}function nt(){var n=v.eq(h).find("a").removeAttr("tabindex").end();v.not(n).find("a").attr("tabindex",-1)}function tt(t){var f=n(t.target).data("tab-id"),r=f-h;r!=0&&u.pubChannel(i.event.animate,l,r)}function ut(){var n=a.data("si");typeof n!="undefined"?(h=n,e.startSlideIndex=n):u.pub(s,0)}function ft(){var n="TimeToInfopaneInteractive",t;o(n,!0);t=window._pageTimings&&window._pageTimings[n];define("c.infopaneinteractive",t)}var a=n("ul.swipenav",t),h=0;if(e.tabbedInfopane){var p=t.find(".ip-tab-title"),v=t.find(".pane"),it=!1;n.extend(e,{alwaysShowArrows:!1,autoRotate:it,showArrows:!1,showDotPaginition:!1,startSlideIndex:h})}ut();var w=i(a,null,e),l=a.data(i.id),b=rt(),k=b.length,c=!1;return!e.tabbedInfopane&&e.showDotPaginition&&(c=r(a,0,n.extend({slideShowNavigationId:l},e))),{setup:function(){if(!w.setup())return t.addClass("invalid"),!1;if(u.subChannel(i.event.update,l,y),c&&c.setup(),e.tabbedInfopane){nt();h!=0&&y(0);u.subChannel(i.event.update,l,g);p.on("click",tt)}else h!=0&&y(0);return ft(),!0},teardown:function(){w.teardown();c&&c.teardown();u.unsubChannel(i.event.update,l,y);e.tabbedInfopane&&(u.unsubChannel(i.event.update,l,g),p.off("click",tt))},update:function(){w.update();c&&c.update()}}}var s="infopane_slide_change";return t(h,{autoRotate:!0,showDotPaginition:!0,tabbedInfopane:!1})});canary="c.deferred";require(["binding","infopaneVNext",canary],function(n){n("infopaneVNext",".ip").all();n("infopaneVNext",".sip").all({alwaysShowArrows:!0})});define("slideShowNavUtils",["jqueryPlus","touchDataManager","carouselManager","mediator","modernizr","touchGestures","dir.tokens","requestAnimationFrame"],function(n,t,i,r,u,f,e,o){var s=u.translateXCss,h=e.ltr?1:-1,c=e.ltr?1:-1;return function(u,l,a,v,y,p,w,b,k,d,g){function fi(){for(var t,i=[],r=yt(w.eq(0)),n=0;n<rt;++n)t=w.eq(n),t.leftRelSlider=yt(t)-r,i[n]=t;nt.load(i)}function dt(n){(wt=n)?(k(w).css("left",""),ei()):a||(k(w).css({top:"",widthProperty:""}),k(p).css(st,""))}function ei(){a||(k(p).css(st,100*w.length+"%"),k(w).css(st,100/w.length+"%"))}function oi(n){if(u)n.on("gesture",{direction:"horizontal"},si)}function si(n){if(ct&&n.direction)switch(n.current.touchType){case f.types.move:lt?ft.input(n.current.coord.x):(ft.reset(n.current.coord.x),gt(),ui=at(),lt=!0);ut(p,ui+ft.getDelta()|0);break;case f.types.swipeUp:case f.types.swipeDown:case f.types.throwUp:case f.types.throwDown:case f.types.cancel:case f.types.stop:lt=!1;yi(n.target);break;case f.types.swipeRight:case f.types.swipeLeft:case f.types.throwRight:case f.types.throwLeft:lt=!1;var t=n.current.touchType==f.types.swipeRight||n.current.touchType==f.types.throwRight,i=n.current.touchType==f.types.throwLeft||n.current.touchType==f.types.throwRight,r=i?hi():0;ti(r+(t?-h:h),n.target)}}function gt(){ht&&(p.stop(),ht=!1)}function ai(n){ot||o(function(){ot();ot=null});ot=n}function ni(n){return vt(n)+c*(b.width()-n.width())/2}function vi(n,t,i){if(n||!a){var i=typeof i!==ii?i:!0,r=nt.getItem(0),u=a?vt(r):ni(r);typeof n!=ii?ai(function(){ft.ensureJQueryEase();ht=!0;var n={};n[s]=u;p.stop().animate(n,{duration:i?ft.getDuration():0,easing:"cubicBezierQuint",step:function(n){var t=ni(r),i=at();return(t|0)!=(n.endValue|0)&&(n.startValue=i-r.width(),n.endValue=t),n},complete:function(){ht=!1;(at()|0)!=(ni(r)|0)&&et()}})}):p.css(s)!==u&&ut(p,u)}}function yi(n){ti(hi(),n)}function hi(){for(var u,t,i=0,r=Infinity,f=at(),n=-kt;n<=ri;n++)u=vt(nt.getItem(n)),t=Math.abs(u-f),t<r&&(r=t,i=n);return i}function at(){return ut(p)}function ut(n,t){return isNaN(n.leftRelSlider)&&(n.leftRelSlider=0),t==undefined?t=parseFloat(n.css(s)):k(n).css(s,t-n.leftRelSlider),t+n.leftRelSlider}function ti(n,t,i){var r,u,f;if(l||v)tt=(tt+n+rt)%rt;else{if(r=tt+n,r<0)r=0;else if(r>=rt){if(y){t&&(t.touch_gesture="swipe");d.nextSlideShow(t,"swipe-recircle");return}r=rt-1}r!=tt+n&&(n=r-tt);tt=r}(nt.getItem(1).leftRelSlider==0&&fi(),nt.changeIndex(n),u=vt(nt.getItem(0)),f=ut(p),u!=f)&&(et(n,i),d.slides(n,t))}function vt(n){return l?(b.width()-n.outerWidth(!0))/2-ut(n)-.5|0:-n.leftRelSlider}function ci(){et()}function pi(){et(undefined,undefined,!1,!0)}function et(n,t){var f,u,e,i,r;if(ct){for(f=n&&ut(nt.getItem(-n)),gt(),u=nt.getItem(-kt).outerWidth(!0)/2,e=yt(w.eq(0)),i=-kt;i<=ri;i++)r=nt.getItem(i),r.leftRelSlider=yt(r)-e,u+=r.outerWidth(!0);wt||a||k(p).css(st,u);vi(n,l&&n&&ut(nt.getItem(-n))-f,t)}}function yt(n){return n.offset().left+(e.ltr?0:n.outerWidth(!0))}var it=b,rt=w.length,nt=new i,tt=g||0,pt=n("body"),wt=(pt.hasClass("gfp")||pt.hasClass("afp"))&&pt.hasClass("fullscreen"),bt=f.settings.touchSupported,ot,st="width",ii="undefined",kt=Math.floor((rt-1)/2),ri=Math.floor(rt/2),li,ht,ct,ft=new t,lt,ui;return y=y&&!l&&!a&&!v,bt&&oi(it),setTimeout(function(){wt&&ei();r.sub("fullscreen",dt)},100),{setup:function(){fi();nt.setIndex(tt);it.on("mouseover",d.showArrows);it.on("mouseout",d.hideArrows);if(!l)n("img",b).on("load",ci);r.sub("fullscreen",dt);u&&(ct=!0,li=0,et(g,undefined,!0,!1))},teardown:function(){ct=!1;bt&&(gt(),ut(p,0));it.off("mouseover",d.showArrows);it.off("mouseout",d.hideArrows);it.off("gesture",{direction:"horizontal"},si);l||n("img",b).off("load",ci);r.unsub("fullscreen",dt)},animate:ti,change:function(n){nt.changeIndex(n);tt+=n;d.slides(n)},resize:pi,current:function(){return tt},hasNext:function(){return l||v||tt<rt-1},hasPrevious:function(){return l||v||tt>0},addHoverElements:function(n){bt&&oi(n);it=it.add(n)}}}});define("uiRefresh",["jquery","perfMarker","escape","window","webStorage","navigation","track","requestAnimationFrame","headData","mediator","viewport"],function(n,t,i,r,u,f,e,o,s,h,c){function fi(t,i){y=i;g=t;vt=n.isNumeric(y.frequency_minutes)?y.frequency_minutes*6e4:3e5;d()}function d(){w="";p="";tt=0;nt=[];clearTimeout(ot);ot=r.setTimeout(yt,vt)}function yt(){if(g.each(pt),w.length||p.length){ut=r.location.href.split("?")[1];var t="?moduleids="+i.urlPart(w)+(p.length?"&regionids="+i.urlPart(p):"")+(ut?"&"+ut:"");n.ajax({url:"/"+ri+ii+t,dataType:"html",timeout:y.ajaxtimeoutinseconds*1e3}).done(wt).fail(function(){at++<=100&&d()})}}function pt(){var r=n(this),t,i;if(a=r.data(st),a){t=a.split("|");t.length==5&&(w+=t[1]+"|"+t[3]+",");return}i=r.data("sectionId");i&&(p+=i+",")}function wt(t){if(!t){at++<=100&&d();return}var i=n("<data>"+n.trim(t)+"<\/data>");if(rt=i.find(lt),rt.length){if(g.each(bt),tt>y.minfresh_count){r.setTimeout(dt,y.banner_delay_minutes*6e4);return}d()}}function bt(){var i=n(this),f,r,u,t;i.is(":visible")&&(a=i.data(st),f="[data-module-id='"+a+"']",a||(a=i.data("sectionId"),f="[data-section-id='"+a+"']"),r=ft(i,i.data("uipr")),u=r.length,u&&(t=ft(rt.filter(f).filter(lt)),t.length>u&&(t=t.splice(0,u)),t.length&&kt(a,r,t),nt.push({m:a,l:JSON.stringify(r)})))}function kt(t,i,r){for(l=0,v=r.length;l<v;l++){var u=r[l];i[l]!=="###"&&n.inArray(u,i)==-1&&tt++}}function dt(){var t=n("#refreshbar").addClass(ht);e.trackPartialImpression(t[0]);o(function(){t.css(ct,"0");k.addClass(b);r.setTimeout(function(){h.pub(c.sizeChangeEventName,"uiprBannerShow")},1e3)});h.sub(c.sizeChangeEventName,function(n){n==="uiprBannerShow"&&(k.hasClass(b)||k.addClass(b))});t.find("a").eq(0).click(function(){u.setItem(it,nt,!0)});t.find(".delete").click(function(n){n.preventDefault();o(function(){t.css(ct,"-4.3rem").removeClass(ht);k.removeClass(b);r.setTimeout(function(){h.pub(c.sizeChangeEventName)},1e3)})})}function ft(n,t){var u=[],f=et(n),i,r;for(l=0,v=f.length;l<v;l++)i=f.eq(l),r=i.attr("href"),t!=2||i.is(":visible")||(r="###"),u.push(r);return u}function et(t){return t.hasClass("todaystripe")?n("li.smalla > a, li.mediuma > a",t):t.hasClass("tabbed")?n(".ip-tab > a, .secondary > a",t):n("li > a",t)}function ei(n){var i,t,f,r;try{i=JSON.parse(u.getItem(it,!0))}catch(e){return}if(i)for(u.removeItem(it,!0),l=0,v=i.length;l<v;l++)(t=i[l],f=t.l?JSON.parse(t.l):null,f)&&(r=n.filter("[data-module-id='"+t.m+"']"),r.length||(r=n.filter("[data-section-id='"+t.m+"']")),gt(et(r),f))}function gt(t,i){for(var u,r=0,f=t.length;r<f;r++)u=t.eq(r),n.inArray(u.attr("href"),i)==-1&&ni(u)}function ni(t){var i=ti(t);i.length||(i=t);i.prepend(n(ui))}function ti(n){var t=n.parent();return t.hasClass("smalla")||t.parent().parent().hasClass("halfpane")||t.hasClass("ip-tab")||t.hasClass("secondary")?n.find(".title"):n.find(".caption")}var ot,w="",p="",g,nt=[],tt=0,it="uipr",ii="/homepage/api/pagedatarequest",ri=s.locale||"en-us",st="moduleId",ht="active",b="uipractive",k=n("body"),ct="top",lt="[data-uipr]",l,v,rt,a,at=0,ut,vt,y,ui="<span class='fresh'>NEW<\/span>";return{initiateUiprRefresh:fi,initiateAjaxPageRequest:yt,generateIdsForPageDataRequest:pt,checkForUpdatedContent:wt,getUpdatedHeadlinesForModule:bt,getUpdatedHeadlinesAndModuleDetails:kt,showRefreshBanner:dt,createAnchorArray:ft,getLinks:et,showFreshTag:ei,highlightHeadlines:gt,addNewTagToLink:ni,getShowNewTagParent:ti}});require(["jquery","uiRefresh","headData","window","c.dom"],function(n,t,i,r){var u={enabled:!1,frequency_minutes:5,banner_delay_minutes:5,minfresh_count:3,ajaxtimeoutinseconds:60},e,o,f;(i&&i.clientSettings&&i.clientSettings.uiprsettings&&(u=n.extend(!0,{},u,i.clientSettings.uiprsettings)),u.enabled)&&(e=parseInt(u.frequency_minutes)||0,o=parseInt(u.banner_delay_minutes)||0,r.uiprBannerRenderDelayInMinutes=e+o,f=n("#main").find("[data-uipr]"),setTimeout(function(){t.initiateUiprRefresh(f,u)},1e3),t.showFreshTag(f))})